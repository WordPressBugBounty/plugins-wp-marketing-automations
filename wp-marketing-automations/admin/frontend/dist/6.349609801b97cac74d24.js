(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1134:function(e,t,a){"use strict";var n=a(0),s=a(1093),c=a(148),r=a(9),o=a.n(r),i=a(3),m=a(2),l=a(7),b=a(1),d=function(e){var t=e.data,a=void 0===t?{}:t,c=a.date,r=void 0===c?"":c,o=a.nice_name,d=void 0===o?"":o,p=a.source,u=void 0===p?"":p;return Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected"},Object(n.createElement)("div",{className:"bwf-node-icon icon-start"},Object(n.createElement)(l.a,{size:22,icon:"rocket"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(m.isEmpty)(u)?"":u),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(m.isEmpty)(d)?"":d))),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("Started on ","wp-marketing-automations"),Object(i.lb)(r))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},p=function(e){var t=e.data,a=void 0===t?{}:t,c=a.nice_name,r=void 0===c?"":c,o=a.integration,d=void 0===o?"":o;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-action"},Object(n.createElement)(l.a,{size:22,icon:"charge"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Action","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},a.hasOwnProperty("step_status")&&3===parseInt(a.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&2===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&4===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&3===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Failed","wp-marketing-automations")))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},!Object(m.isEmpty)(a)&&a.hasOwnProperty("selected")&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(m.isEmpty)(d)?"":d),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(m.isEmpty)(r)?"":r))))))),a.hasOwnProperty("msg")&&!Object(m.isEmpty)(a.msg)&&Object(n.createElement)("div",{className:"bwf-error-section-ref"},Object(n.createElement)("div",{className:"bwf-customer-journey-error"},a.msg)),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},a.hasOwnProperty("status")&&3===parseInt(a.status)?Object(b.__)("Failed on ","wp-marketing-automations"):Object(b.__)("Completed on ","wp-marketing-automations"),Object(i.lb)(a.date))),Object(n.createElement)(s.d,{type:"source",isConnectable:!1,position:"bottom"}))},u=a(1140),O=function(e){var t=e.readables;return Object(n.createElement)("div",{className:"bwf-step-brick"},t.map((function(e,t){var a=e.map((function(e,t){return Object(n.createElement)("div",{key:t},0!==t&&Object(n.createElement)("div",{className:"bwf-step-divider"},Object(n.createElement)("span",{className:"bwf-divider"},Object(b.__)("AND","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-step-content-content"},e))}));return 0!==t?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-step-divider divider-line bwf-or"},Object(n.createElement)("span",{className:"bwf-divider"},Object(b.__)("OR","wp-marketing-automations"))),a):a})))},j=function(e){var t=e.data,a=void 0===t?{}:t,r=Object(c.a)(),o=r.getAutomationId,d=r.getRulesData,p=a.event,j=a.sidebarValues,w=void 0===j?[]:j,f=a.aid,v=parseInt(void 0===f?0:f),E=v>0?v:o(),_=d(p),y=Object(u.a)(p,parseInt(E),_),g=y.isLoading,N=y.error,h=y.getReadableTexts,k=g||N||Object(m.isEmpty)(p)?[]:h(w);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon"},Object(n.createElement)(l.a,{size:26,icon:"condition"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Conditional","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},a.hasOwnProperty("step_status")&&3===parseInt(a.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&2===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&3===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Failed","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&4===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Array.isArray(k)&&k.length?Object(n.createElement)(O,{readables:k}):Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},g?Object(b.__)("Loading","wp-marketing-automations"):Object(b.__)("No Rules Selected","wp-marketing-automations")))))),a.hasOwnProperty("status")&&3===parseInt(a.status)&&a.hasOwnProperty("msg")&&Object(m.isString)(a.msg)&&""!==a.msg&&Object(n.createElement)("div",{className:"bwf-error-section-ref"},Object(n.createElement)("div",{className:"bwf-customer-journey-error"},a.msg)),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},a.hasOwnProperty("status")&&3===parseInt(a.status)?Object(b.__)("Failed on ","wp-marketing-automations"):Object(b.__)("Completed on ","wp-marketing-automations"),Object(i.lb)(a.date))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,a=void 0===t?{}:t,c=a.reason,r=void 0===c?"":c;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"source",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-node-content bwf-end"},Object(n.createElement)("div",{className:"bwf-node-content-item"},Object(b.__)("End Automation","wp-marketing-automations"))),r&&!Object(m.isEmpty)(r)&&Object(n.createElement)("div",{className:"bwf-error-section-ref ishorizontalinfo"},Object(n.createElement)("div",{className:"bwf-customer-journey-error is-info",dangerouslySetInnerHTML:{__html:r}}))))},f=a(22),v=function(e){var t=e.data,a=void 0===t?{}:t,c=a.nice_name,r=void 0===c?"":c;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-goal"},Object(n.createElement)(l.a,{size:26,icon:"goal"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Goal","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},a.hasOwnProperty("step_status")&&3===parseInt(a.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&2===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&4===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&!Object(m.isEmpty)(a.status)&&[4,3].includes(parseInt(a.status))&&a.hasOwnProperty("msg")&&!Object(m.isEmpty)(a.msg)&&Object(n.createElement)(f.a,{position:"bottom",abPos:!0,toolTipText:Object(n.createElement)("span",{className:"bwfan_tooltip_text","data-position":"top"},a.msg),icon:"info",iconSize:20,size:200}))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(m.isEmpty)(r)?"-":r)))))),a.hasOwnProperty("status")&&3===parseInt(a.status)&&a.hasOwnProperty("msg")&&Object(m.isString)(a.msg)&&""!==a.msg&&Object(n.createElement)("div",{className:"bwf-error-section-ref"},Object(n.createElement)("div",{className:"bwf-customer-journey-error"},a.msg)),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},a.hasOwnProperty("status")&&1===parseInt(a.status)?Object(n.createElement)(n.Fragment,null,Object(b.__)("Completed on ","wp-marketing-automations"),Object(i.lb)(a.date)):3===parseInt(a.status)?Object(n.createElement)(n.Fragment,null,Object(b.__)("Failed on ","wp-marketing-automations"),Object(i.lb)(a.date)):Object(n.createElement)(n.Fragment,null,Object(b.__)("Waiting","wp-marketing-automations")))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},E={1:Object(b.__)("Delay for a specific period","wp-marketing-automations"),2:Object(b.__)("Delay until a specific date and time","wp-marketing-automations"),3:Object(b.__)("Delay until a custom field date","wp-marketing-automations"),4:Object(b.__)("Delay with variable","wp-marketing-automations")},_=function(e){var t=e.data,a=!Object(m.isEmpty)(t)&&t.hasOwnProperty("value")?t.value:{},c=a.type,r=void 0===c?0:c,o=a.delayData,d=void 0===o?{}:o;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-delay"},Object(n.createElement)(l.a,{size:28,icon:"time-left"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Delay","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},t.hasOwnProperty("step_status")&&3===parseInt(t.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&2===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&4===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")),t.hasOwnProperty("status")&&[4,3].includes(parseInt(t.status))&&t.hasOwnProperty("msg")&&!Object(m.isEmpty)(t.msg)&&Object(n.createElement)(f.a,{position:"bottom",abPos:!0,toolTipText:Object(n.createElement)("span",{className:"bwfan_tooltip_text","data-position":"top"},t.msg),icon:"info",iconSize:20,size:200}))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},E.hasOwnProperty(r)&&Object(n.createElement)("div",{className:"bwf-node-content-type"},E[r]),Object(n.createElement)("div",{className:"bwf-node-content-label"},function(){switch(parseInt(r)){case 1:var e=d.day_delay,t=void 0===e?{}:e;if(!Object(m.isEmpty)(t))return Object(n.createElement)(n.Fragment,null," ",Object(b.__)("Delay","wp-marketing-automations")," ( ",t.text+" "+t.unit," )"," ");break;case 2:var a=data,s=a.date,c=void 0===s?"":s,o=a.time,i=void 0===o?"":o;if(!Object(m.isEmpty)(c)&&!Object(m.isEmpty)(i))return Object(n.createElement)(n.Fragment,null," ",Object(b.__)("Delay","wp-marketing-automations")," ( ",c+" at "+i," )"," ");break;case 3:var l=data.custom_field,p=void 0===l?"":l;if(!Object(m.isEmpty)(p))return Object(n.createElement)(n.Fragment,null," ",Object(b.__)("Custom field","wp-marketing-automations")," ","( #",p," )"," ");break;default:return Object(n.createElement)(n.Fragment,null)}}())))))),t.hasOwnProperty("status")&&3===parseInt(t.status)&&t.hasOwnProperty("msg")&&Object(m.isString)(t.msg)&&""!==t.msg&&Object(n.createElement)("div",{className:"bwf-error-section-ref"},Object(n.createElement)("div",{className:"bwf-customer-journey-error"},t.msg)),t.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},function(){if(!t.hasOwnProperty("status"))return Object(b.__)("Completed on","wp-marketing-automations");switch(parseInt(t.status)){case 2:return Object(b.__)("Next run on","wp-marketing-automations");case 3:return Object(b.__)("Failed on","wp-marketing-automations");default:return Object(b.__)("Completed on","wp-marketing-automations")}}()," ",Object(i.lb)(t.date))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},y=function(e){return Object(n.createElement)("div",{className:e&&e.data&&e.data.direction&&"no"===e.data.direction?"bwf-yes-no-node  bwf-no-node":"bwf-yes-no-node bwf-yes-node"},Object(n.createElement)(s.d,{type:"target",position:"top",style:{opacity:0},isConnectable:!1}),Object(n.createElement)("span",{className:"bwf-yes-no-wrap"},e&&e.data&&e.data.direction&&"no"===e.data.direction?Object(b.__)("No","wp-marketing-automations"):Object(b.__)("Yes","wp-marketing-automations")),Object(n.createElement)(s.d,{type:"source",position:"bottom",style:{opacity:0},isConnectable:!1}))},g=function(e){var t=e.data,a=void 0===t?{}:t,c=a.date,r=void 0===c?"":c;return Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected"},Object(n.createElement)("div",{className:"bwf-node-icon icon-exit"},Object(n.createElement)(l.a,{size:26,icon:"exit"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Exit Automation","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},a.hasOwnProperty("step_status")&&3===parseInt(a.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")))),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("Started On","wp-marketing-automations")+" ",Object(i.lb)(r))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},N=function(e){var t=e.data;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-jump"},Object(n.createElement)(l.a,{size:28,icon:"jump"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Jump","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},t.hasOwnProperty("step_status")&&3===parseInt(t.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&2===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&4===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},Object(n.createElement)("div",{className:"bwf-node-content-label"},t.hasOwnProperty("msg")?t.msg:"-")))))),t.hasOwnProperty("status")&&3===parseInt(t.status)&&t.hasOwnProperty("msg")&&Object(m.isString)(t.msg)&&""!==t.msg&&Object(n.createElement)("div",{className:"bwf-error-section-ref"},Object(n.createElement)("div",{className:"bwf-customer-journey-error"},t.msg)),t.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("Completed on ","wp-marketing-automations"),Object(i.lb)(t.date))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},h=function(e){var t=e.data,a=t.sidebarValues,c=(void 0===a?{}:a).title,r=void 0===c?"":c;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected"},Object(n.createElement)("div",{className:"bwf-node-icon icon-split-test"},Object(n.createElement)(l.a,{size:28,icon:"split-test"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Split Path","wp-marketing-automations")+(""!==r?" - "+r:""))),Object(n.createElement)("div",{className:"bwf-node-action"},t.hasOwnProperty("step_status")&&4===parseInt(t.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Archived","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&2===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&4===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")))),t.hasOwnProperty("msg")&&""!==t.msg&&Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},Object(n.createElement)("div",{className:"bwf-node-content-label"},t.msg)))))),t.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("On","wp-marketing-automations")+" ",Object(i.lb)(t.date))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},k=function(e){var t=e.data,a=(void 0===t?{}:t).path,c=void 0===a?"":a,r=Object(i.Uc)();return Object(n.createElement)("div",{className:"bwf-splitpath-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",style:{opacity:0},isConnectable:!1}),Object(n.createElement)("span",{className:"bwf-split-node split-path-"+c},Object(b.__)("Path","wp-marketing-automations")+" "+r[c]),Object(n.createElement)(s.d,{type:"source",position:"bottom",style:{opacity:0},isConnectable:!1}))},P=function(e){var t=e.data,a=void 0===t?{}:t,c=a.date,r=void 0===c?"":c;return Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected",style:{background:"#f0f0f0"}},Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-label bwf-t-center"},Object(b.__)("Step Deleted","wp-marketing-automations")))),a.hasOwnProperty("status")&&3===parseInt(a.status)&&a.hasOwnProperty("msg")&&Object(m.isString)(a.msg)&&""!==a.msg&&Object(n.createElement)("div",{className:"bwf-error-section-ref"},Object(n.createElement)("div",{className:"bwf-customer-journey-error"},a.msg)),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("Started On","wp-marketing-automations")+" ",Object(i.lb)(r))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},I=a(1145),S=(a(1136),a(1137),a(49)),C=a(26);function F(){var e,t,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",s=a.toStringTag||"@@toStringTag";function c(a,n,s,c){var i=n&&n.prototype instanceof o?n:o,m=Object.create(i.prototype);return D(m,"_invoke",function(a,n,s){var c,o,i,m=0,l=s||[],b=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,a){return c=t,o=0,i=e,d.n=a,r}};function p(a,n){for(o=a,i=n,t=0;!b&&m&&!s&&t<l.length;t++){var s,c=l[t],p=d.p,u=c[2];a>3?(s=u===n)&&(i=c[(o=c[4])?5:(o=3,3)],c[4]=c[5]=e):c[0]<=p&&((s=a<2&&p<c[1])?(o=0,d.v=n,d.n=c[1]):p<u&&(s=a<3||c[0]>n||n>u)&&(c[4]=a,c[5]=n,d.n=u,o=0))}if(s||a>1)return r;throw b=!0,n}return function(s,l,u){if(m>1)throw TypeError("Generator is already running");for(b&&1===l&&p(l,u),o=l,i=u;(t=o<2?e:i)||!b;){c||(o?o<3?(o>1&&(d.n=-1),p(o,i)):d.n=i:d.v=i);try{if(m=2,c){if(o||(s="next"),t=c[s]){if(!(t=t.call(c,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=c.return)&&t.call(c),o<2&&(i=TypeError("The iterator does not provide a '"+s+"' method"),o=1);c=e}else if((t=(b=d.n<0)?i:a.call(n,d))!==r)break}catch(t){c=e,o=1,i=t}finally{m=1}}return{value:t,done:b}}}(a,s,c),!0),m}var r={};function o(){}function i(){}function m(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(D(t={},n,(function(){return this})),t),b=m.prototype=o.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,D(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e}return i.prototype=m,D(b,"constructor",m),D(m,"constructor",i),i.displayName="GeneratorFunction",D(m,s,"GeneratorFunction"),D(b),D(b,s,"Generator"),D(b,n,(function(){return this})),D(b,"toString",(function(){return"[object Generator]"})),(F=function(){return{w:c,m:d}})()}function D(e,t,a,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}(D=function(e,t,a,n){function c(t,a){D(e,t,(function(e){return this._invoke(t,a,e)}))}t?s?s(e,t,{value:a,enumerable:!n,configurable:!n,writable:!n}):e[t]=a:(c("next",0),c("throw",1),c("return",2))})(e,t,a,n)}function x(e,t,a,n,s,c,r){try{var o=e[c](r),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,s)}function A(e){return function(){var t=this,a=arguments;return new Promise((function(n,s){var c=e.apply(t,a);function r(e){x(c,n,s,r,o,"next",e)}function o(e){x(c,n,s,r,o,"throw",e)}r(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,s,c,r,o=[],i=!0,m=!1;try{if(c=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=c.call(a)).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){m=!0,s=e}finally{try{if(!i&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(m)throw s}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}t.a=function(e){var t=e.setFullScreen,a=e.fullScreen,r=e.customerData,l=void 0===r?{}:r,u=e.isConatctTab,O=void 0!==u&&u,f=e.automatonID,E=void 0===f?0:f,D=e.defaultData,x=void 0===D?[]:D,z=e.getData,q=void 0===z||z,G=e.hasHeader,R=void 0!==G&&G,Q=e.inAutomation,J=void 0!==Q&&Q,L=Object(c.a)(),M=L.getCustomerSelected,U=L.getAutomationId,Z=(O?l:M()).trail,B=void 0===Z?"":Z,H=O?E:U(),V={start:d,action:p,conditional:j,end:w,benchmark:v,wait:_,yesNoNode:y,exit:g,jump:N,split:h,splitpath:k,unknown:P},W=Object(s.m)((function(e){return e.setSelectedElements})),Y=T(Object(n.useState)(x),2),$=Y[0],K=Y[1],X=T(Object(n.useState)(!1),2),ee=X[0],te=X[1],ae=T(Object(n.useState)(!0),2),ne=ae[0],se=ae[1],ce=Object(s.n)().setCenter,re=Object(s.l)(),oe=function(){var e=A(F().m((function e(){var t;return F().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,o()({path:Object(i.C)("/automation/".concat(H,"/trail?tid=").concat(B)),method:"GET"}).then((function(e){se(!1),200===e.code?Object(m.isEmpty)(e.result)||K(e.result):te(e)}));case 1:e.n=3;break;case 2:e.p=2,t=e.v,te(t),se(!1);case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){Object(m.isNull)(document.querySelector("#bwf-single-automation-wrap"))?Object(m.isNull)(document.querySelector(".bwf-automation-contact-journey"))||(be.current=document.querySelector(".bwf-automation-contact-journey").getBoundingClientRect()):be.current=document.querySelector("#bwf-single-automation-wrap").getBoundingClientRect()}),[ne]),Object(n.useEffect)((function(){""!==B&&q?oe():se(!1)}),[B]);var ie=T(Object(n.useState)([]),2),me=ie[0],le=ie[1],be=Object(n.useRef)();return Object(n.useEffect)((function(){$.length>0&&function(){var e=A(F().m((function e(){var t;return F().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,Object(I.a)($,!1);case 1:t=e.v,le(t);case 2:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[$]),Object(n.useEffect)((function(){if(!ne){var e=0,t=0,a=re.getState().nodes;if(a.length&&be.current){var n=a[0];n.hasOwnProperty("__rf")?(e=n.__rf.position.x+140,t=n.__rf.position.y):(e=n.position.x+140,t=n.position.y),t=parseFloat(t)+.4*parseFloat(be.current.height),ce(e,t,1)}}}),[ne,me]),ne?Object(n.createElement)(S.a,null):Object(n.createElement)(n.Fragment,null,ee?Object(n.createElement)(C.a,{status:"error",className:J?"bwf-w-fit-content":" bwf-mlr-24 bwf-mt-24-i"},Object(b.__)("Unable to load the contact journey.","wp-marketing-automations")," ",ee.hasOwnProperty("message")?Object(b.sprintf)(Object(b.__)("Error: %s. ","wp-marketing-automations"),ee.message):"",Object(b.__)("For further help, contact","wp-marketing-automations")," ",Object(n.createElement)("a",{href:Object(i.ib)("support",{utm_medium:"Automation+Journey+Failed",utm_campaign:"Automation+Error"}),className:"bwf-normal-a-t",target:"__blank"},Object(b.__)("support","wp-marketing-automations"))):Object(n.createElement)("div",{className:"bwf-automation-contact-journey full "+(R?"bwf-journey-has-header":"")},Object(n.createElement)(s.f,{defaultZoom:1,minZoom:.5,maxZoom:4,nodeTypes:V,nodesConnectable:!1,nodesDraggable:!1,zoomOnScroll:!1,zoomOnDoubleClick:!1,paneMoveable:!0,panOnScroll:!0,elements:me},Object(n.createElement)(s.c,{showInteractive:!1},!O&&Object(n.createElement)(s.b,{onClick:function(){t(!a),document.body.style.overflow=a?"":"hidden",W([])}},a?Object(n.createElement)("span",{className:"dashicons dashicons-fullscreen-exit-alt custom-control-icon"}):Object(n.createElement)("span",{className:"dashicons dashicons-fullscreen-alt custom-control-icon"}))),Object(n.createElement)(s.a,null))))}}}]);