(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1208:function(e,t,n){},1302:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),r=n(2),a=n(113),i=n(34),s=n(349),l=n(199),u=n(3),b=n(5),f=n(7),m=["isSyncable","isConnected","id","connector"];var d=function(e){var t=e.isSyncable,n=void 0!==t&&t,r=e.isConnected,s=e.id,l=e.connector,d=function(e,t){if(null==e)return{};var n,c,o=function(e,t){if(null==e)return{};var n={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(-1!==t.indexOf(c))continue;n[c]=e[c]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,m),O=Object(a.b)(),j=d.ispro,p=(void 0===j||j)&&(!Object(u.fc)()||!Object(u.Wb)());return Object(c.createElement)("div",{className:"wfco-connector-btns"},Object(c.createElement)("div",{className:"wfco-connector-btns-left"},!p&&!!r&&Object(c.createElement)(b.Button,{className:"bwf-modal-cancel-btn bwf-display-flex",onClick:function(){return O(i.a.showDisconnectModal(l))}},Object(c.createElement)(f.a,{icon:"close",size:20}),Object(c.createElement)("span",null,Object(o.__)("Disconnect","wp-marketing-automations")))),Object(c.createElement)("div",{className:"wfco-connector-btns-right"},!!p&&Object(c.createElement)(b.Button,{className:"bwf-display-flex",isPrimary:!0,onClick:function(){return O(i.a.showGetPro(!0))}},Object(c.createElement)(f.a,{icon:"king",size:16,color:"#ffffff"}),Object(c.createElement)("span",null,Object(o.__)("Locked","wp-marketing-automations"))),!p&&!r&&Object(c.createElement)(b.Button,{isPrimary:!0,onClick:function(){return O(i.a.showSettingsModal(l))}},Object(o.__)("Connect","wp-marketing-automations")),!p&&!!n&&!!parseInt(s)&&!!r&&Object(c.createElement)(b.Button,{isPrimary:!0,onClick:function(){return O(i.a.showSyncModal(l))}},Object(o.__)("Sync","wp-marketing-automations")),!p&&!!r&&Object(c.createElement)(b.Button,{isSecondary:!0,onClick:function(){return O(i.a.showSettingsModal(l))}},Object(o.__)("Settings","wp-marketing-automations"))))},O=n(47),j=["connector","connector_id","name","logo","description","is_connected","is_syncable","new","required_plugins"];function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)({}).hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(null,arguments)}var v=function(){return Object(c.createElement)("div",{className:"wfco-col-md-4"},Object(c.createElement)("div",{className:"wfco-connector-wrap"},Object(c.createElement)("div",{className:"wfco-connector_card_outer"},Object(c.createElement)("div",{className:"wfco-connector-img-outer"},Object(c.createElement)("div",{className:"wfco-connector-img"},Object(c.createElement)(l.a,{height:90,width:110}))),Object(c.createElement)("div",{className:"wfco_connector_info"},Object(c.createElement)("div",{className:"wfco_connector_info_head"},Object(c.createElement)(l.a,null)),Object(c.createElement)("div",{className:"wfco_connector_info_details"},Object(c.createElement)(l.a,{width:180}),Object(c.createElement)(l.a,{width:160}),Object(c.createElement)(l.a,{width:140})))),Object(c.createElement)("div",{className:"wfco-connector-action"},Object(c.createElement)("div",{className:"wfco-connector-btns"},Object(c.createElement)(l.a,{height:36})))))},w=function(e){var t=e.connector,n=e.connector_id,a=e.name,i=e.logo,s=e.description,l=e.is_connected,u=e.is_syncable,b=e.new,f=void 0===b?0:b,m=e.required_plugins,v=void 0===m?[]:m,w=function(e,t){if(null==e)return{};var n,c,o=function(e,t){if(null==e)return{};var n={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(-1!==t.indexOf(c))continue;n[c]=e[c]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,j);return Object(c.createElement)("div",{className:"wfco-col-md-4"},Object(c.createElement)("div",{className:"wfco-connector-wrap"},Object(c.createElement)("div",{className:"wfco-connector_card_outer"},!!i&&Object(c.createElement)("div",{className:"wfco-connector-img-outer"},Object(c.createElement)("div",{className:"wfco-connector-img"},Object(c.createElement)("div",{className:"wfco-connector-img-section"},Object(c.createElement)("img",{src:i})))),Object(c.createElement)("div",{className:"wfco_connector_info"},f?Object(c.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(o.__)("New","wp-marketing-automations")):null,!!a&&Object(c.createElement)("div",{className:"wfco_connector_info_head"},a),!!s&&Object(c.createElement)("div",{className:"wfco_connector_info_details"},s),!Object(r.isEmpty)(v)&&Object(c.createElement)("div",{className:"bwf-display-flex gap--8 bwf-flex-start bwf--align-start bwf-pt-8"},Object(c.createElement)("span",{className:"bwf-pt-8"},Object(o.__)("Requires","wp-marketing-automations")+": "),Object(c.createElement)("div",{className:"bwf-display-flex gap--8 bwf-flex-start bwf-flex-wrap"},v.map((function(e){return Object(c.createElement)(O.a,{key:e.slug,label:e.name})})))))),Object(c.createElement)("div",{className:"wfco-connector-action"},Object(c.createElement)(d,p({isConnected:l,isSyncable:u,connector:t,id:n},w)))))},_=n(40),g=n(368);function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)({}).hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(null,arguments)}var h=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var t=Object(a.b)(),n=Object(a.c)(s.a.shouldShowGetPro),r={modalContent:{title:Object(o.__)("Activate Connector Addon","wp-marketing-automations"),content:Object(o.__)("Download the addon from your FunnelKit Account and activate the license to access integrations. ","wp-marketing-automations"),demoLabel:Object(o.__)("Close","wp-marketing-automations"),proLabel:Object(o.__)("Login to FunnelKit","wp-marketing-automations"),proLink:u.x,isUpgrade:!1}};return Object(u.fc)()&&!Object(u.Wb)()?Object(c.createElement)(g.a,y({},r,{isOpen:n,onRequestClose:function(){return t(i.a.showGetPro(!1))},showLock:!(!Object(u.Wb)()&&Object(u.fc)())})):Object(c.createElement)(_.b,{isOpen:n,onRequestClose:function(){return t(i.a.showGetPro(!1))},modalContent:{isFeature:!0,featureTitle:Object(o.__)("Connector","wp-marketing-automations"),proLink:Object(u.ib)("upgrade",{utm_medium:"Connectors+Upgrade+Modal"})}})},E=n(367),C=(n(49),n(355)),k=n(17),S=n(26);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){var e,t,n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function r(n,c,o,r){var s=c&&c.prototype instanceof i?c:i,l=Object.create(s.prototype);return M(l,"_invoke",function(n,c,o){var r,i,s,l=0,u=o||[],b=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return r=t,i=0,s=e,f.n=n,a}};function m(n,c){for(i=n,s=c,t=0;!b&&l&&!o&&t<u.length;t++){var o,r=u[t],m=f.p,d=r[2];n>3?(o=d===c)&&(s=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=e):r[0]<=m&&((o=n<2&&m<r[1])?(i=0,f.v=c,f.n=r[1]):m<d&&(o=n<3||r[0]>c||c>d)&&(r[4]=n,r[5]=c,f.n=d,i=0))}if(o||n>1)return a;throw b=!0,c}return function(o,u,d){if(l>1)throw TypeError("Generator is already running");for(b&&1===u&&m(u,d),i=u,s=d;(t=i<2?e:s)||!b;){r||(i?i<3?(i>1&&(f.n=-1),m(i,s)):f.n=s:f.v=s);try{if(l=2,r){if(i||(o="next"),t=r[o]){if(!(t=t.call(r,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=r.return)&&t.call(r),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);r=e}else if((t=(b=f.n<0)?s:n.call(c,f))!==a)break}catch(t){r=e,i=1,s=t}finally{l=1}}return{value:t,done:b}}}(n,o,r),!0),l}var a={};function i(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][c]?t(t([][c]())):(M(t={},c,(function(){return this})),t),b=l.prototype=i.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,M(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e}return s.prototype=l,M(b,"constructor",l),M(l,"constructor",s),s.displayName="GeneratorFunction",M(l,o,"GeneratorFunction"),M(b),M(b,o,"Generator"),M(b,c,(function(){return this})),M(b,"toString",(function(){return"[object Generator]"})),(P=function(){return{w:r,m:f}})()}function M(e,t,n,c){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(M=function(e,t,n,c){function r(t,n){M(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!c,configurable:!c,writable:!c}):e[t]=n:(r("next",0),r("throw",1),r("return",2))})(e,t,n,c)}function x(e,t,n,c,o,r,a){try{var i=e[r](a),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(c,o)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var c,o,r,a,i=[],s=!0,l=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(c=r.call(n)).done)&&(i.push(c.value),i.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=Array(t);n<t;n++)c[n]=e[n];return c}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var c=n.call(e,t||"default");if("object"!=N(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(){var e=Object(a.b)(),t=Object(a.c)(s.a.settingsModalOpen),n=Object(a.c)(s.a.saveConnectorError),l=Object(a.c)(s.a.saveConnectorStatus),u=!!l&&"idle"===l,f=!!l&&"loading"===l,m=!!l&&"connected"===l,d=Object(a.c)(s.a.getCurrentConnector),O=d.fields_schema,j=void 0===O?[]:O,p=d.fields_values,v=void 0===p?{}:p,w=d.name,_=void 0===w?"":w,g=d.is_connected,y=d.connector,h=d.connector_id,N=d.direct_connect,M=void 0!==N&&N,D=d.meta,A=void 0===D?{}:D,F=A.redirect_url,B=void 0===F?"":F,G=A.connect_type,z=void 0===G?"normal":G,I=A.action,q=void 0===I?"":I,R=A.buttonLabel,U=void 0===R?"":R,K=A.busyLabel,H=void 0===K?"":K,W=Object(c.useCallback)((function(t){return e(i.a.saveConnector({connector:y,settings:g?L(L({},t),{},{id:h}):t}))}),[i.a,g,h]),J=Object(c.useCallback)((function(){window.location.href=B}),[B]);Object(c.useEffect)((function(){!g&&M&&te(Object(r.isEmpty)(v)||Object(r.isUndefined)(v)?{}:v)}),[M]);var Y=T(Object(c.useState)(!1),2),$=Y[0],Q=Y[1],V=T(Object(c.useState)(!1),2),X=V[0],Z=V[1],ee=function(){var t,n=(t=P().m((function t(){var n,c,o,r,a;return P().w((function(t){for(;;)switch(t.n){case 0:if(""!==q){t.n=1;break}return t.a(2);case 1:return n={v:2,action:q},Q(!0),t.n=2,fetch(bwfanParams.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},credentials:"same-origin",body:Object(k.stringify)(n)});case 2:return c=t.v,t.n=3,c.json();case 3:if(!(o=t.v).hasOwnProperty("msg")||"string"!=typeof o.msg){t.n=7;break}r=o.hasOwnProperty("action")?o.action:"",a=r,t.n="reload"===a?4:5;break;case 4:return e(i.a.dummyConnectorSuccess()),window.location.reload(),setTimeout((function(){Q(!1)}),1e3),t.a(3,6);case 5:return Z(!0),setTimeout((function(){Q(!1)}),1e3),window.location.href=B+"&n="+(new Date).getTime(),t.a(3,6);case 6:t.n=8;break;case 7:Q(!1);case 8:return t.a(2)}}),t)})),function(){var e=this,n=arguments;return new Promise((function(c,o){var r=t.apply(e,n);function a(e){x(r,c,o,a,i,"next",e)}function i(e){x(r,c,o,a,i,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),te=function(e){switch(z){case"redirect_url":J();break;case"ajax_redirect_url":ee();break;default:W(e)}};return Object(c.createElement)(c.Fragment,null,t&&Object(c.createElement)(b.Modal,{className:"bwf-admin-modal bwf-admin-modal-medium bwfan-connector-settings-modal",isDismissible:u,shouldCloseOnClickOutside:!1,shoulfCloseOnEsc:!1,onRequestClose:function(){return!!u&&e(i.a.hideSettingsModal())},title:!!_&&Object(o.__)("Connect with ","wp-amrketing-automations")+_},Object(c.createElement)("div",{className:"bwfan-connector-settings-modal-inner"},!!n&&Object(c.createElement)(S.a,{status:"error",isDismissible:!1,onRemove:function(){return e(i.a.clearSaveConnectorError())}},n),!!m&&Object(c.createElement)("div",{className:"bwf-t-center"},Object(c.createElement)(C.a,null),Object(c.createElement)("div",{className:"bwf-h1"},Object(o.__)("Connected / Updated Successfully","wp-marketing-automations"))),(!!u||!!f)&&Object(r.size)(j)>0&&Object(c.createElement)(E.a,{fields:j,values:Object(r.isEmpty)(v)||Object(r.isUndefined)(v)?{}:v,handleSubmit:function(t){e(i.a.clearSaveConnectorError()),te(t)},submitButtonTitle:function(){if(g&&0===Object(r.size)(v))return"";if("ajax_redirect_url"===z){var e=Object(o.__)("Connect","wp-marketing-automations");return X?e="Redirecting...":$&&H?e=H:U&&(e=U),e}return g&&"redirect_url"!==z?Object(o.__)("Update","wp-marketing-automations"):Object(o.__)("Connect","wp-marketing-automations")}(),isLoading:$||f,connector:y}),!!u&&0===Object(r.size)(j)&&Object(c.createElement)("p",null,Object(o.__)("No settings available for this connector","wp-marketing-automations")))))},G=n(54),z=function(){var e=Object(a.b)(),t=Object(a.c)(s.a.disconnectModalOpen),n=Object(a.c)(s.a.deleteConnectorError),r=Object(a.c)(s.a.deleteConnectorStatus),l=!!r&&"idle"===r,u=!!r&&"loading"===r,b=!!r&&"success"===r,f=Object(a.c)(s.a.getCurrentConnector).connector;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(G.a,{isOpen:t,modalTitle:Object(o.__)("Disconnect Connector","wp-marketing-automations"),deleteDescriptionText:Object(o.__)("You are about to disconnect connector. All the action, tasks, logs of this connector will be deleted. Cancel to stop, Proceed to continue.","wp-marketing-automations"),confirmButtonText:Object(o.__)("Proceed","wp-marketing-automations"),cancelButtonText:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return e(i.a.deleteConnector(f))},isLoading:u,successMessage:!!b&&Object(o.__)("Disconnected Successfully!","wp-marketing-automations"),errorMessage:!!n&&n,onRequestClose:function(){return!!l&&e(i.a.hideDisconnectModal())},isDelete:!0,showSuccessMsg:!0}))},I=function(){var e=Object(a.b)(),t=Object(a.c)(s.a.syncModalOpen),n=Object(a.c)(s.a.syncConnectorError),r=Object(a.c)(s.a.syncConnectorStatus),l=!!r&&"idle"===r,u=!!r&&"loading"===r,b=!!r&&"success"===r,f=Object(a.c)(s.a.getCurrentConnector),m=f.connector,d=f.connector_id;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(G.a,{isOpen:t,modalTitle:Object(o.__)("Sync Connector","wp-marketing-automations"),deleteDescriptionText:Object(o.__)("You are about to sync connector. All the data of this connector will be synced. Cancel to stop, Proceed to continue","wp-marketing-automations"),confirmButtonText:Object(o.__)("Proceed","wp-marketing-automations"),cancelButtonText:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return e(i.a.syncConnector({connector:m,id:d}))},isLoading:u,successMessage:!!b&&Object(o.__)("Synced Successfully!","wp-marketing-automations"),errorMessage:!!n&&n,onRequestClose:function(){return!!l&&e(i.a.hideSyncModal())},isDelete:!0,showSuccessMsg:!0}))},q=n(68),R=n(12),U=function(e){var t=e.wfco_connector,n=void 0===t?"":t,o=e.access_token,l=void 0===o?"":o,u=e.bwfco_access_t,b=void 0===u?"":u,f=Object(a.b)(),m="success"===Object(a.c)(s.a.getConnectorsStatus),d=Object(c.useCallback)((function(){f(i.a.showSettingsModal(n)),f(i.a.saveConnector({connector:n,settings:{access_token:Object(r.isEmpty)(l)?b:l}})),Object(R.l)({page:e.page},e.path,{})}),[n,l,f,b]);return Object(c.useEffect)((function(){"bwfco_slack"===n&&(l||b)&&m&&d()}),[n,l,d,m,b]),null},K=function(e){var t=e.bitly,n=void 0===t?"":t,o=e.login,r=void 0===o?"":o,l=e.access_token,u=void 0===l?"":l,b=e.bwfco_access_t,f=void 0===b?"":b,m=Object(a.b)(),d="success"===Object(a.c)(s.a.getConnectorsStatus),O=Object(c.useCallback)((function(){m(i.a.showSettingsModal("bwfco_bitly")),m(i.a.saveConnectorSuccess({connector:"bwfco_bitly",id:"bitly"})),Object(R.l)({page:e.page},e.path,{});var t=setTimeout((function(){m(i.a.hideSettingsModal()),clearInterval(t)}),3e3)}),[m]);return Object(c.useEffect)((function(){"yes"===n&&(u||f)&&r&&O()}),[n,u,r,O,d,f]),null},H=function(e){var t=e.wfco_connector,n=void 0===t?"":t,r=e.status,l=void 0===r?0:r,u=e.error_msg,b=Object(a.b)(),f="success"===Object(a.c)(s.a.getConnectorsStatus);return Object(c.useEffect)((function(){if("bwfco_mautic"===n&&"success"===l&&f){b(i.a.showSettingsModal(n)),b(i.a.dummyConnectorSuccess()),Object(R.l)({page:e.page},e.path,{});var t=setTimeout((function(){b(i.a.hideSettingsModal()),clearInterval(t)}),3e3)}if("bwfco_mautic"===n&&"failed"===l&&f){b(i.a.showSettingsModal(n));var c=u||Object(o.__)("Unknown Error Occurred","wp-marketing-automations");b(i.a.saveConnectorFailed(c))}}),[n,l,f]),null},W=function(e){var t=e.wfco_connector,n=void 0===t?"":t,o=e.code,r=void 0===o?"":o,l=e.state,u=void 0===l?"":l,b=e.client_id,f=void 0===b?"":b,m=e.client_secret,d=void 0===m?"":m,O=e.redirect_url,j=void 0===O?"":O,p=Object(a.b)(),v="success"===Object(a.c)(s.a.getConnectorsStatus),w=Object(a.c)(s.a.getConnector("bwfco_zoom")),_=w&&w.fields_values?w.fields_values:{},g=w&&w.fields_schema?w.fields_schema:{},y=Object(c.useCallback)((function(){p(i.a.showSettingsModal(n)),p(i.a.saveConnector({connector:n,settings:{code:r,state:u,client_id:f,client_secret:d,redirect_url:j}}))}),[n,r,u,p,f,d,j]);return Object(c.useEffect)((function(){if((_.code||_.state)&&_.client_id&&_.client_secret&&_.redirect_url){var t={client_id:_.client_id,client_secret:_.client_secret,redirect_url:_.redirect_url};p(i.a.setConnectorSchema({connector:"bwfco_zoom",schema:g,values:t,saveStatus:"connected"})),Object(R.l)({page:e.page},e.path,{})}}),[_]),Object(c.useEffect)((function(){"bwfco_zoom"===n&&r&&u&&v&&y()}),[n,r,u,y,v]),null},J=n(77),Y=n(110),$=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=(bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data&&bwfcrm_contacts_data.header_data,Object(J.a)()),o=n.setActiveMultiple,r=n.setL2NavType,a=n.setL2Nav,i=n.resetHeaderMenu,s=n.setPageHeader,l=n.setPageCountData,u=(n.setPageHeaderBelowContent,Object(Y.a)()),b=u.getPageCountData,f=b();return Object(c.useEffect)((function(){f!==t&&(i(),o({leftNav:"connectors",rightNav:e}),r("menu"),a([]),s(""),t&&l(t))}),[e,t]),!0},Q=(n(1208),function(e){var t=e.connector,n=void 0===t?"":t,o=e.code,r=void 0===o?"":o,l=e.state,u=void 0===l?"":l,b=e.client_id,f=void 0===b?"":b,m=e.client_secret,d=void 0===m?"":m,O=Object(a.b)(),j="success"===Object(a.c)(s.a.getConnectorsStatus),p=Object(a.c)(s.a.getConnector("bwfco_keap")),v=p&&p.fields_values?p.fields_values:{},w=p&&p.fields_schema?p.fields_schema:{},_=Object(c.useCallback)((function(){O(i.a.showSettingsModal("bwfco_keap")),O(i.a.saveConnector({connector:"bwfco_keap",settings:{code:r,state:u,client_id:f,client_secret:d}}))}),[n,r,u,O,f,d]);return Object(c.useEffect)((function(){if((v.code||v.state)&&v.client_id&&v.client_secret){var t={client_id:v.client_id,client_secret:v.client_secret};O(i.a.setConnectorSchema({connector:"bwfco_keap",schema:w,values:t,saveStatus:"connected"})),Object(R.l)({page:e.page},e.path,{})}}),[v]),Object(c.useEffect)((function(){"keap"===n&&r&&u&&j&&_()}),[n,r,u,_,j]),null}),V=n(347);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(){return(Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)({}).hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(null,arguments)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var c=n.call(e,t||"default");if("object"!=X(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=Object(c.memo)((function(e){var t=e.size,n=void 0===t?15:t;return Object(c.createElement)("div",{className:"wfco_global wfco_connector_listing bwf-mt-24"},Object(c.createElement)("div",{className:"wfco_connector_listing_wrap wfco_clearfix"},Object(c.createElement)("div",{className:"wfco-row"},Array.from(Array(n).keys()).map((function(e){return Object(c.createElement)(v,{key:e})})))))})),oe=Object(c.memo)((function(e){var t,n=location&&location.search?Object(k.parse)(location.search.substring(1)):{},l=null!==(t=e.match.params.status)&&void 0!==t?t:"all";U(n),K(n),H(n),Q(n),W(n);var b=Object(J.a)().setPageHeaderBelowContent,m=Object(a.c)(s.a.settingsModalOpen),d=Object(a.c)(s.a.disconnectModalOpen),O=Object(a.c)(s.a.syncModalOpen),j=Object(a.b)(),p=Object(a.c)(s.a.getConnectorsStatus),v=Object(a.c)(s.a.getConnectorsError),_=Object(a.c)(s.a.getConnectors),g="loading"===p,y=Object(a.c)(s.a.getConnectorsCount);Object(c.useEffect)((function(){return Object(u.m)(Object(o.__)("Connectors","wp-marketing-automations")),j(i.a.getConnectors()),0,function(){return b("")}}),[]);var E={all:Object(o.__)("No connector found","wp-marketing-automations"),active:Object(o.__)("No active connector found","wp-marketing-automations"),inactive:Object(o.__)("No inactive connector found","wp-marketing-automations")};$(Object(o.__)("Connectors","wp-marketing-automations"),l,y),Object(c.useEffect)((function(){if(!Object(r.isEmpty)(_)){var e=[],t={all:0,active:0,inactive:0};Object.keys(_).sort().forEach((function(n){var c=_[n];("all"===l||"inactive"===l&&!c.is_connected||"active"===l&&c.is_connected)&&(e.push(n)),t.all++,c.is_connected?t.active++:t.inactive++})),j(i.a.getCount(t))}}),[_,l]);var C=Object(c.useMemo)((function(){if(!Object(r.isEmpty)(_)){var e=[];return Object.keys(_).map((function(t){var n=_[t];("all"===l||"inactive"===l&&!n.is_connected||"active"===l&&n.is_connected)&&e.push(te(te({},n),{},{connector:t}))})),e.sort((function(e,t){return e.priority-t.priority})),Object(c.createElement)(c.Fragment,null,Object(c.createElement)(q.a,null),Object(c.createElement)("div",{className:"wfco_global wfco_connector_listing"},Object(c.createElement)("div",{className:"wfco_connector_listing_wrap wfco_clearfix"},Object(c.createElement)("div",{className:"wfco-row"},e.map((function(e,t){return Object(c.createElement)(w,Z({key:t},e))})),0===e.length&&Object(c.createElement)("div",{className:"bwf-p"},E[l])))))}}),[_,l]),N=[{slug:"all",name:Object(o.__)("All","wp-marketing-automations"),path:"/connectors/all"},{slug:"active",name:Object(o.__)("Active","wp-marketing-automations"),path:"/connectors/active"},{slug:"inactive",name:Object(o.__)("Inactive","wp-marketing-automations"),path:"/connectors/inactive"}];return Object(c.createElement)("div",{className:"bwfan_global bwfan_global_settings bwfan_connectors bwf-p-24"},Object(c.createElement)("div",{className:"bwf-section-header"},Object(c.createElement)("div",{className:"bwf-section-left"},Object(c.createElement)("span",{className:"bwf-section-title"},Object(o.__)("Connector","wp-marketing-automations")))),!Object(u.Wb)()&&Object(u.fc)()&&Object(c.createElement)("div",{className:"bwf-shield-notice bwf-mb-16"},Object(c.createElement)("span",{className:"bwf-display-flex"},Object(c.createElement)(f.a,{icon:"shield"})),Object(c.createElement)("p",{className:"bwf-shield-notice-content"},Object(o.__)("FunnelKit Automations Connector Addon is not installed. To access integrations, download the addon from your FunnelKit account and activate the license. ","wp-marketing-automations"),Object(c.createElement)("a",{href:u.x,className:"bwf-noticebar-btn",target:"_blank",rel:"noreferrer"},Object(o.__)("Login to FunnelKit","wp-marketing-automations")))),Object(c.createElement)("div",{className:"bwfan_global_settings_wrap"},!!v&&Object(c.createElement)(S.a,{status:"error"},v),Object(c.createElement)(V.a,{tabs:N,selected:l,count:y}),!!g&&Object(c.createElement)(ce,null),Object(c.createElement)("div",{className:"bwf_clear_24"}),!g&&!!_&&C,m&&Object(c.createElement)(B,null),d&&Object(c.createElement)(z,null),O&&Object(c.createElement)(I,null),Object(c.createElement)(h,null)))}));t.default=oe}}]);