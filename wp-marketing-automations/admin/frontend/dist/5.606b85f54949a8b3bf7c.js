(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1135:function(e,t,r){"use strict";var n=r(0),o=r(2),a=r(9),i=r.n(a),c=r(52);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["getStateProp"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(){var e=Object(c.a)("categories"),t=e.getStateProp;return f(f({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l)),{},{getCategories:function(e){return t("categories_".concat(e))||{data:[],loading:!0}},getSelectedCategories:function(e){return t("selected_categories_".concat(e))||[]},refresh:function(){return t("refresh")||!1}})},p=r(51),d=r(3),y=r(17);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=["setStateProp"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){var e=Object(p.a)("categories"),t=e.setStateProp;return j(j({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,O)),{},{fetchCategories:function(e){var r=e.type,n=e.search,o="categories_".concat(r);t(o,{loading:!0,data:[]}),i()({path:Object(d.C)("/category/".concat(r).concat(Object(y.stringify)({search:n},{addQueryPrefix:!0}))),method:"GET"}).then((function(e){var r,n;if(null==e||null===(r=e.result)||void 0===r||!r.categories)throw Error(e.message);t(o,{loading:!1,data:(null==e||null===(n=e.result)||void 0===n?void 0:n.categories)||[]})})).catch((function(e){t(o,{loading:!1,data:[],error:e.message})}))},setCategories:function(e){var r=e.type,n=e.data;t("categories_".concat(r),n)},setSelectedCategories:function(e){var r=e.type,n=e.selected;t("selected_categories_".concat(r),n)},setRefresh:function(e){t("refresh",e)}})},E=r(150),C=(r(1176),r(111)),S=r(7),_=function(e){var t=e.selectedCategories,r=e.setSelectedCategories;if(Object(o.isEmpty)(t))return null;return Object(n.createElement)("div",{className:"bwf-category-tags"},t.map((function(e){return Object(n.createElement)(C.b,{content:Object(n.createElement)("div",{className:"bwf-display-flex bwf--g8"},e.name,Object(n.createElement)("span",{className:"remove-icon bwf-cursor-pointer",onClick:function(){return n=e.id,void r(t.filter((function(e){return e.id!==n})));var n}},Object(n.createElement)(S.a,{icon:"cross-circle",size:"16"}))),border:!0,key:e.id})})))},k=r(1),P=r(5),N=r(44),T=r(11),A=r(203),x=r(6),I=r.n(x),D=r(54),G=r(60),F=r(61),R=r(26);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var L=function(e){var t=e.onRequestClose,r=e.title,a=void 0===r?"":r,i=e.isLoading,c=e.onConfirm,u=e.error,l=M(Object(n.useState)(a),2),s=l[0],f=l[1],b=M(Object(n.useState)(!1),2),m=b[0],p=b[1],d=Object(o.isEmpty)(s.trim());return Object(n.createElement)(P.Modal,{title:Object(k.__)("Rename Category"),className:"bwf-admin-modal bwf-admin-modal-small bwf-rename-category-modal",onRequestClose:t,isDismissible:!0,shouldCloseOnClickOutside:!0},u&&Object(n.createElement)(R.a,{status:"error"},u),Object(n.createElement)("label",{className:"bwf-label",id:"required"},Object(k.__)("Name","wp-marketing-automations")),Object(n.createElement)(P.TextControl,{value:s,onChange:function(e){m||p(!0),f(e)},className:d?"has-error":"",onKeyDown:function(e){if("Enter"===e.key){if(d)return;c(s)}}}),m&&d&&Object(n.createElement)("div",{className:"has-bwfan-error"},Object(k.__)("Title is required","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-mt-24 bwf-display-flex bwf-flex-end"},Object(n.createElement)(T.a,{className:"bwf-modal-cancel-btn",onClick:t},Object(k.__)("Cancel","wp-marketing-automations")),Object(n.createElement)(T.a,{isPrimary:!0,onClick:function(){d&&p(!0),c(s)},disabled:d,isBusy:i,className:d?"bwf-no-ripple":""},Object(k.__)("Save","wp-marketing-automations"))))},z=r(22);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return Q(l,"_invoke",function(r,n,o){var a,c,u,l=0,s=o||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return a=t,c=0,u=e,b.n=r,i}};function m(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],m=b.p,p=a[2];r>3?(o=p===n)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=r<2&&m<a[1])?(c=0,b.v=n,b.n=a[1]):m<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,b.n=p,c=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),c=s,u=p;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(b.n=-1),m(c,u)):b.n=u:b.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=b.n<0)?u:r.call(n,b))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(Q(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Q(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Q(f,"constructor",l),Q(l,"constructor",u),u.displayName="GeneratorFunction",Q(l,o,"GeneratorFunction"),Q(f),Q(f,o,"Generator"),Q(f,n,(function(){return this})),Q(f,"toString",(function(){return"[object Generator]"})),(K=function(){return{w:a,m:b}})()}function Q(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(Q=function(e,t,r,n){function a(t,r){Q(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,n)}function Y(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function H(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Y(a,n,o,i,c,"next",e)}function c(e){Y(a,n,o,i,c,"throw",e)}i(void 0)}))}}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Z=function(e){var t=e.category,r=e.renameCategory,o=e.deleteCategory,a=e.setNewSelected,i=W(Object(n.useState)({}),2),c=i[0],u=i[1],l=W(Object(n.useState)(!1),2),s=l[0],f=l[1],b=W(Object(n.useState)(!1),2),m=b[0],p=b[1],y=W(Object(n.useState)(null),2),g=y[0],O=y[1],v=Object(n.useContext)(d.h),j=function(){var e=H(K().m((function e(n){var o;return K().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,O(null),p(!0),e.n=1,r({id:t.id,name:n});case 1:p(!1),f(!1),e.n=3;break;case 2:e.p=2,o=e.v,O(o.message),p(!1);case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=H(K().m((function e(){var r;return K().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,u((function(e){return V(V({},e),{},{isLoading:!0})})),e.n=1,o({ids:[t.id]});case 1:u({}),a((function(e){return e.filter((function(e){return e.id!==t.id}))})),e.n=3;break;case 2:e.p=2,r=e.v,u((function(e){return V(V({},e),{},{isLoading:!1})})),v(r.message),Object(d.Pb)(v,2e3);case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(){return e.apply(this,arguments)}}();return Object(d.fc)()?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(G.a,{menuPosition:"bottom left",renderContent:function(e){var t=e.onToggle;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(F.a,{isClickable:!0,onInvoke:function(){f(!0),t()}},Object(k.__)("Rename","wp-marketing-automations")),Object(n.createElement)(F.a,{isClickable:!0,onInvoke:function(){u({className:"",isOpen:!0,isDelete:!0,modalTitle:Object(k.__)("Delete Category","wp-marketing-automations"),deleteDescriptionText:Object(k.__)("You are about to remove this category. Any changes made to the automation category will be cleared and will not be assigned to any category.","wp-marketing-automations"),confirmButtonText:Object(k.__)("Delete","wp-marketing-automations"),cancelButtonText:Object(k.__)("Cancel","wp-marketing-automations"),confirmButtonClass:"is-danger",onConfirm:w}),t()}},Object(k.__)("Delete","wp-marketing-automations")))}}),Object(n.createElement)(D.a,U({className:I()("bwf-admin-modal-squeezy",c.className)},c,{onRequestClose:function(){return u({status:!1})}})),s&&Object(n.createElement)(L,{onRequestClose:function(){return f(!1)},onConfirm:j,isLoading:m,title:t.name,error:g})):Object(n.createElement)(z.a,{toolTipText:Object(k.__)("Categories is a pro feature. Please activate your license.","wp-marketing-automations"),position:"bottom left",size:"180",className:"bwf-category-actions-tooltip bwf-flex"},Object(n.createElement)(S.a,{icon:"ellipsis",size:"20",color:"#353030"}))},ee=r(103),te=r(56);function re(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return ne(l,"_invoke",function(r,n,o){var a,c,u,l=0,s=o||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return a=t,c=0,u=e,b.n=r,i}};function m(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],m=b.p,p=a[2];r>3?(o=p===n)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=r<2&&m<a[1])?(c=0,b.v=n,b.n=a[1]):m<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,b.n=p,c=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),c=s,u=p;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(b.n=-1),m(c,u)):b.n=u:b.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=b.n<0)?u:r.call(n,b))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(ne(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,ne(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,ne(f,"constructor",l),ne(l,"constructor",u),u.displayName="GeneratorFunction",ne(l,o,"GeneratorFunction"),ne(f),ne(f,o,"Generator"),ne(f,n,(function(){return this})),ne(f,"toString",(function(){return"[object Generator]"})),(re=function(){return{w:a,m:b}})()}function ne(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(ne=function(e,t,r,n){function a(t,r){ne(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,n)}function oe(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function ae(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return ue(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var le=function(e){var t=e.categories,r=e.fetchCategories,a=e.selectedCategories,i=e.setSelectedCategories,c=e.disabled,u=e.createCategory,l=e.renameCategory,s=e.deleteCategory,f=e.dataLabel,b=e.refresh,m=e.setRefresh,p=e.setShowProModal,y=ie(Object(n.useState)(!1),2),g=y[0],O=y[1],v=ie(Object(n.useState)(""),2),j=v[0],w=v[1],h=ie(Object(n.useState)(!1),2),E=h[0],C=h[1],_=ie(Object(n.useState)(a),2),x=_[0],D=_[1],G=ie(Object(n.useState)(""),2),F=G[0],M=G[1],q=Object(n.useRef)(!0),L=ie(Object(n.useState)(null),2),z=L[0],B=L[1],U=t.data,$=t.loading,V=void 0===$||$,J=t.error;Object(n.useEffect)((function(){!V&&q.current&&(q.current=!1)}),[V]);var K=Object(n.createElement)("div",{className:"bwf-categories-dropdown__empty-state"},Object(n.createElement)(S.a,{icon:"no-data",height:"80",width:"110"}),Object(n.createElement)("div",{className:"empty-state-desc"},Object(k.__)("Create a category & assign to ","wp-marketing-automations"),f),Object(n.createElement)(T.a,{isPrimary:!0,className:"bwf-btn-small is-blue bwf-o-button",onClick:function(){Object(d.fc)()?O(!0):p(!0)}},!Object(d.fc)()&&Object(n.createElement)(S.a,{icon:"king",size:"16",color:"#ffffff"}),Object(k.__)("Create Category","wp-marketing-automations"))),Q=function(){return Object(n.createElement)("div",{className:"bwf-categories-dropdown__list"},ae(Array(5)).map((function(e,t){return Object(n.createElement)(ee.a,{h:24,w:"100%",key:t})})))},Y=ie(Object(n.useState)(!1),2),H=Y[0],W=Y[1],X=function(){var e,t=(e=re().m((function e(){var t;return re().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!Object(o.isEmpty)(j.trim())){e.n=1;break}return W(!0),e.a(2);case 1:return C(!0),W(!1),B(null),e.p=2,e.n=3,u({name:j});case 3:C(!1),w(""),O(!1),e.n=5;break;case 4:e.p=4,t=e.v,C(!1),B(t.message);case 5:return e.a(2)}}),e,null,[[2,4]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){oe(a,n,o,i,c,"next",e)}function c(e){oe(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),ne=function(e){var t=e.onClose,r=Object(o.isEmpty)(j.trim());return Object(n.createElement)("div",{className:"bwf-categories-dropdown__create-category"},Object(n.createElement)("div",{className:"bwf-display-flex bwf-flex-start bwf--g8 dropdown-heading"},Object(n.createElement)(T.a,{className:"bwf-no-style-button",onClick:function(){O(!1),W(!1),B(null)}},Object(n.createElement)(S.a,{icon:"arrow-left",size:"16"})),Object(k.__)("Create Category","wp-marketing-automations")),z&&Object(n.createElement)(R.a,{status:"error"},z),Object(n.createElement)("label",{className:"bwf-label",id:"required"},Object(k.__)("Name","wp-marketing-automations")),Object(n.createElement)(P.TextControl,{className:I()({"has-error":H&&r}),placeholder:Object(k.__)("Type here…","wp-marketing-automations"),value:j,onChange:function(e){H||W(!0),w(e)},onKeyDown:function(e){if("Enter"===e.key){if(r)return;X()}}}),H&&r&&Object(n.createElement)("div",{className:"has-bwfan-error"},Object(k.__)("Title is required","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-display-flex bwf-flex-end bwf-mt-16 bwf--g8"},Object(n.createElement)(T.a,{onClick:t,className:"bwf-modal-cancel-btn"},Object(k.__)("Cancel","wp-marketing-automations")),Object(n.createElement)(T.a,{className:"is-primary",onClick:X,isBusy:E,disabled:E},Object(k.__)("Create","wp-marketing-automations"))))};return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(te.a,{className:"bwf-categories-dropdown ",position:"bottom left",expandOnMobile:!1,focusOnMount:!0,renderToggle:function(e){var t=e.isOpen,i=e.onToggle;return Object(n.createElement)(T.a,{isSecondary:!0,disabled:c,className:"bwf-display-flex bwf--g4 bwf-btn-gray",onClick:function(){t||(D(a),O(!1),(Object(o.isEmpty)(U)&&q.current||b)&&(r(),b&&m(!1))),i()}},Object(o.isEmpty)(a)?Object(k.__)("All Categories","wp-marketing-automations"):Object(n.createElement)(n.Fragment,null,Object(k.__)("Categories","wp-marketing-automations")," ","(",a.length,")"),Object(n.createElement)(S.a,{icon:t?"angle-up":"angle-down",color:"#353030",size:16}))},renderContent:function(e){var t=e.onClose;if(g)return ne({onClose:t});if(q.current&&V)return Object(n.createElement)("div",{className:"bwf-categories-dropdown__list-wrapper"},Object(n.createElement)("div",{className:"bwf-display-flex bwf-space-between dropdown-heading"},Object(n.createElement)(ee.a,{h:24,w:60}),Object(n.createElement)(ee.a,{h:30,w:80,br:8})),Object(n.createElement)(ee.a,{h:36,br:8,w:"100%"}),Q(),Object(n.createElement)("div",{className:"bwf-categories-dropdown__footer bwf-display-flex bwf-flex-end bwf--g8"},Object(n.createElement)(ee.a,{h:36,w:80,br:8}),Object(n.createElement)(ee.a,{h:36,w:80,br:8})));var a=[].concat(ae(x.filter((function(e){return!U.some((function(t){return t.id===e.id}))}))),ae(U));return!V&&!J&&Object(o.isEmpty)(F)&&Object(o.isEmpty)(a)?K:Object(n.createElement)("div",{className:"bwf-categories-dropdown__list-wrapper"},Object(n.createElement)("div",{className:"bwf-display-flex bwf-space-between dropdown-heading"},Object(n.createElement)("div",null,Object(k.__)("Categories","wp-marketing-automations")),Object(n.createElement)(T.a,{className:" bwf-btn-small is-border",isSecondary:!0,onClick:function(){Object(d.fc)()?O(!0):p(!0)}},!Object(d.fc)()&&Object(n.createElement)(S.a,{icon:"king",size:"16",color:"#0073aa"}),Object(k.__)("Create New","wp-marketing-automations"))),J?Object(n.createElement)(R.a,{status:"error"},J):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(A.a,{searchTerm:F,setSearchData:function(e){M(decodeURI(e)),r(decodeURI(e))},showResultCount:!1,isLoading:V}),V?Q():Object(n.createElement)("div",{className:I()("bwf-categories-dropdown__list",{"is-empty":Object(o.isEmpty)(a)})},Object(o.isEmpty)(a)?Object(n.createElement)(S.a,{icon:"no-search-result",width:"206",height:"190"}):a.map((function(e){return Object(n.createElement)("div",{className:"bwf-categories-dropdown__list-item",key:e.id},Object(n.createElement)(N.a,{label:e.name,key:e.id,checked:x.find((function(t){return t.id===e.id}))||!1,onChange:function(t){D(t?function(t){return[].concat(ae(t),[e])}:function(t){return t.filter((function(t){return t.id!==e.id}))})}}),Object(n.createElement)("div",{className:"bwf-display-flex bwf--g10"},Object(n.createElement)("div",{className:"item-count"},e.count),Object(n.createElement)(Z,{category:e,renameCategory:l,deleteCategory:s,setNewSelected:D})))}))),Object(n.createElement)("div",{className:"bwf-categories-dropdown__footer bwf-display-flex bwf-flex-end bwf--g8"},Object(n.createElement)(T.a,{onClick:t,className:"bwf-modal-cancel-btn"},Object(k.__)("Cancel","wp-marketing-automations")),Object(n.createElement)(T.a,{className:"is-primary",onClick:function(){Object(d.fc)()?(i(x),t()):p(!0)},disabled:V},!Object(d.fc)()&&Object(n.createElement)(S.a,{icon:"king",size:"16",color:"#ffffff"}),Object(k.__)("Apply","wp-marketing-automations")))))}}))},se=r(1177);function fe(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return me(l,"_invoke",function(r,n,o){var a,c,u,l=0,s=o||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return a=t,c=0,u=e,b.n=r,i}};function m(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],m=b.p,p=a[2];r>3?(o=p===n)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=r<2&&m<a[1])?(c=0,b.v=n,b.n=a[1]):m<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,b.n=p,c=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),c=s,u=p;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(b.n=-1),m(c,u)):b.n=u:b.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=b.n<0)?u:r.call(n,b))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(me(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,me(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,me(f,"constructor",l),me(l,"constructor",u),u.displayName="GeneratorFunction",me(l,o,"GeneratorFunction"),me(f),me(f,o,"Generator"),me(f,n,(function(){return this})),me(f,"toString",(function(){return"[object Generator]"})),(be=function(){return{w:a,m:b}})()}function me(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(me=function(e,t,r,n){function a(t,r){me(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,n)}function pe(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function de(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){pe(a,n,o,i,c,"next",e)}function c(e){pe(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ve=function(e){var t=e.onRequestClose,r=e.defaultCategories,a=e.assignCategory,c=e.apiPath,u=ye(Object(n.useState)([]),2),l=u[0],s=u[1],f=ye(Object(n.useState)({}),2),b=f[0],m=f[1],p=b||{},d=p.data,y=void 0===d?[]:d,g=p.loading,O=ye(Object(n.useState)(!1),2),v=O[0],j=O[1],w=ye(Object(n.useState)(null),2),h=w[0],E=w[1],C=ye(Object(n.useState)([]),2),S=C[0],_=C[1];Object(n.useEffect)((function(){N("",!0)}),[]);var N=function(){var e=de(be().m((function e(t,r){return be().w((function(e){for(;;)switch(e.n){case 0:m({loading:!0,data:[]}),i()({path:c(t),method:"GET"}).then((function(e){var t;null!=e&&null!==(t=e.result)&&void 0!==t&&t.categories?(m({loading:!1,data:e.result.categories}),r&&_(e.result.categories.map((function(e){return{id:e.id,label:e.name}})))):m({loading:!1,data:[],error:e.message})})).catch((function(e){m({loading:!1,data:[],error:e.message})}));case 1:return e.a(2)}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),A=y.map((function(e){return{id:e.id,label:e.name}}));Object(n.useEffect)((function(){!Object(o.isEmpty)(r)&&Object(o.isEmpty)(l)&&s(r.map((function(e){return{id:e.id,label:e.name}})))}),[y]);var x=function(){var e=de(be().m((function e(){var r;return be().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,E(null),j(!0),e.n=1,a({categories:l.map((function(e){return{id:e.id,value:e.label}}))});case 1:j(!1),t(),e.n=3;break;case 2:e.p=2,r=e.v,j(!1),E(r.message);case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(){return e.apply(this,arguments)}}();return Object(n.createElement)(P.Modal,{title:Object(k.__)("Assign Category"),className:"bwf-admin-modal bwf-admin-modal-small bwf-assign-category-modal",onRequestClose:t,isDismissible:!0,shouldCloseOnClickOutside:!0},h&&Object(n.createElement)(R.a,{status:"error"},h),Object(n.createElement)("label",{className:"bwf-label"},Object(k.__)("Category","wp-marketing-automations")),Object(n.createElement)(se.a,{values:l.map((function(e){return e.id})),searchedValue:function(e){N(e)},selectedValue:l,onChangeValue:function(){},createIfNotExist:!0,hasDefaultOption:!1,onChangeData:function(e){var t=e.map((function(e){var t;return{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString(),label:e.label||e.name}}));s(fe(t))},options:fe(A.filter((function(e){return l.findIndex((function(t){return t.id==e.id}))<0}))),defaultOptions:S,isLoading:g,placeholder:Object(k.__)("Search…","wp-marketing-automations"),inline:!1}),Object(n.createElement)("div",{className:"bwf-mt-24 bwf-display-flex bwf-flex-end"},Object(n.createElement)(T.a,{className:"bwf-modal-cancel-btn",onClick:t},Object(k.__)("Cancel","wp-marketing-automations")),Object(n.createElement)(T.a,{isPrimary:!0,onClick:x,disabled:v,isBusy:v,className:v?"bwf-no-ripple":""},Object(k.__)("Save","wp-marketing-automations"))))},je=r(40);function we(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var u=n&&n.prototype instanceof c?n:c,l=Object.create(u.prototype);return he(l,"_invoke",function(r,n,o){var a,c,u,l=0,s=o||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return a=t,c=0,u=e,b.n=r,i}};function m(r,n){for(c=r,u=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],m=b.p,p=a[2];r>3?(o=p===n)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=r<2&&m<a[1])?(c=0,b.v=n,b.n=a[1]):m<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,b.n=p,c=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),c=s,u=p;(t=c<2?e:u)||!f;){a||(c?c<3?(c>1&&(b.n=-1),m(c,u)):b.n=u:b.v=u);try{if(l=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=b.n<0)?u:r.call(n,b))!==i)break}catch(t){a=e,c=1,u=t}finally{l=1}}return{value:t,done:f}}}(r,o,a),!0),l}var i={};function c(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(he(t={},n,(function(){return this})),t),f=l.prototype=c.prototype=Object.create(s);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,he(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,he(f,"constructor",l),he(l,"constructor",u),u.displayName="GeneratorFunction",he(l,o,"GeneratorFunction"),he(f),he(f,o,"Generator"),he(f,n,(function(){return this})),he(f,"toString",(function(){return"[object Generator]"})),(we=function(){return{w:a,m:b}})()}function he(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(he=function(e,t,r,n){function a(t,r){he(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,n)}function Ee(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Ce(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ee(a,n,o,i,c,"next",e)}function c(e){Ee(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ke={4:Object(k.__)("Automation","wp-marketing-automations"),5:Object(k.__)("Broadcast","wp-marketing-automations"),6:Object(k.__)("Template","wp-marketing-automations"),7:Object(k.__)("Form","wp-marketing-automations"),8:Object(k.__)("Link Trigger","wp-marketing-automations")};t.a=function(e){var t=e.type,r=e.fetch,a=void 0===r?o.noop:r,c=Object(d.fc)()&&!Object(d.bc)("categories"),u=m(),l=u.getCategories,s=u.getSelectedCategories,f=u.refresh,b=void 0!==f&&f,p=h(),g=p.fetchCategories,O=p.setSelectedCategories,v=p.setCategories,j=p.setRefresh,w=l(t),C=s(t),S=Se(Object(n.useState)([]),2),P=S[0],N=S[1],T=Se(Object(n.useState)(!1),2),A=T[0],x=T[1],I=function(){if(!d.dc&&Object(d.bc)("categories"))return g.apply(void 0,arguments);v({type:t,data:{loading:!1,data:[]}})};Object(n.useEffect)((function(){return function(){O({type:t,selected:[]})}}),[]),Object(n.useEffect)((function(){w.loading||Object(o.isEmpty)(w.data)||Object(o.isEmpty)(C)||O({type:t,selected:C.filter((function(e){return w.data.find((function(t){return t.id===e.id}))})).map((function(e){return w.data.find((function(t){return t.id===e.id}))}))})}),[null==w?void 0:w.loading]);var D=function(){var e=Ce(we().m((function e(r){var n,o,a;return we().w((function(e){for(;;)switch(e.p=e.n){case 0:return n=r.name,e.p=1,e.n=2,i()({path:Object(d.C)("/category/".concat(t)),method:"POST",data:{name:n}});case 2:if(null==(o=e.v)||!o.result){e.n=3;break}I({type:t}),e.n=4;break;case 3:throw Error(o.message);case 4:e.n=6;break;case 5:throw e.p=5,a=e.v,Error(a.message);case 6:return e.a(2)}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Ce(we().m((function e(r){var n,o,c,u;return we().w((function(e){for(;;)switch(e.p=e.n){case 0:return n=r.id,o=r.name,e.p=1,e.n=2,i()({path:Object(d.C)("/category/".concat(n,"/rename")),method:"POST",data:{name:o}});case 2:if(null==(c=e.v)||!c.result){e.n=3;break}I({type:t}),a(C),e.n=4;break;case 3:throw Error(c.message);case 4:e.n=6;break;case 5:throw e.p=5,u=e.v,Error(u.message);case 6:return e.a(2)}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Ce(we().m((function e(r){var n,o,c;return we().w((function(e){for(;;)switch(e.p=e.n){case 0:return n=r.ids,e.p=1,e.n=2,i()({path:Object(d.C)("/category/".concat(t)),method:"DELETE",data:{category_ids:n}});case 2:if(null==(o=e.v)||!o.result){e.n=3;break}I({type:t}),O({type:t,selected:C.filter((function(e){return!n.includes(e.id)}))}),a(C),e.n=4;break;case 3:throw Error(o.message);case 4:e.n=6;break;case 5:throw e.p=5,c=e.v,Error(c.message);case 6:return e.a(2)}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Ce(we().m((function e(r){var n,o,c;return we().w((function(e){for(;;)switch(e.p=e.n){case 0:return n=r.categories,e.p=1,e.n=2,i()({path:Object(d.C)("/category/assign/".concat(t)),method:"POST",data:{items_ids:Array.isArray(P)?P.map((function(e){return parseInt(e)})):parseInt(P),categories:n}});case 2:if(null==(o=e.v)||!o.result){e.n=3;break}a(C),j(!0),e.n=4;break;case 3:throw Error(o.message);case 4:e.n=6;break;case 5:throw e.p=5,c=e.v,Error(c.message);case 6:return e.a(2)}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}(),M={selectedCategories:[],setAssignCategoryItems:o.noop,renderCategoryColumn:function(){return null},renderCategorySelector:function(){return null},renderAssignCategoryModal:function(){return null},renderCategoryTags:function(){return null},fetchCategories:o.noop,refreshCategory:o.noop,renderProModal:function(){return null},setShowProModal:o.noop,renderAssignCategoryButton:function(){return null}};return c?M:{selectedCategories:C,setAssignCategoryItems:N,renderCategoryColumn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(d.dc)return"-";if(!Object(o.isArray)(e)||Object(o.isEmpty)(e))return"-";var t=e.reduce((function(e,t){return Object(o.isEmpty)(t)||e.push(Object(n.createElement)("span",{key:t.id},t.name)),e}),[]);return Object(n.createElement)("div",{className:"bwf-table-v-center"},e.filter((function(e){return!Object(o.isEmpty)(e)})).slice(0,5).map((function(e){return e.name})).join(", "),t.length>5&&Object(n.createElement)(E.a,{items:t,count:5}))},renderCategorySelector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.disabled;return Object(n.createElement)(le,{fetchCategories:function(e){return I({type:t,search:e})},categories:w,selectedCategories:C,setSelectedCategories:function(e){O({type:t,selected:e}),Object(o.isEmpty)(C)&&Object(o.isEmpty)(e)||a(e)},refresh:b,setRefresh:j,createCategory:D,renameCategory:G,deleteCategory:F,setShowProModal:x,disabled:r,dataLabel:ke[t]})},renderAssignCategoryModal:function(e){var r=e.items;return Object(n.createElement)(n.Fragment,null,!Object(o.isEmpty)(Array.isArray(P)?P:null==P?void 0:P.toString())&&Object(n.createElement)(ve,{onRequestClose:function(){return N([])},assignCategory:R,apiPath:function(e){return Object(d.C)("/category/".concat(t).concat(Object(y.stringify)({search:e},{addQueryPrefix:!0})))},defaultCategories:Object(o.isArray)(P)?[]:Object(o.get)(r.find((function(e){return(e.id||e.ID)==P})),"category",[])}))},renderCategoryTags:function(){return Object(n.createElement)(_,{selectedCategories:C,setSelectedCategories:function(e){O({type:t,selected:e}),a(e)}})},fetchCategories:function(){return I({type:t})},refreshCategory:j,renderProModal:function(e){var r=e.proLink;if(A)return Object(n.createElement)(je.b,{isOpen:A,modalContent:{title:ke[t]+" "+Object(k.__)("Categories","wp-marketing-automations"),feature:ke[t]+" "+Object(k.__)("Categories","wp-marketing-automations"),proLink:r},onRequestClose:function(){return x(!1)}})},setShowProModal:x,renderAssignCategoryButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.children;return t}}}},1176:function(e,t,r){}}]);