(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1110:function(t,e,n){"use strict";var r=n(51),o=n(3);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c=["fetch","setStateProp"];function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=function(){var t=Object(r.a)("bulkActionsListData"),e=t.fetch,n=t.setStateProp,a=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,c),i=Object(r.a)("singleBulkActionData"),l=i.fetch,s=i.setStateProp;return u(u({},a),{},{fetchAll:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=t.s,i={offset:n,limit:r,search:c,status:a};e("GET",Object(o.C)("/bulk-actions"),i)},setBulkActionListValues:function(t,e){n(t,e)},fetchSingleBulkAction:function(t){s("data",{}),l("GET",Object(o.C)("/bulk-action/".concat(t)))},setSingleBulkActionValue:function(t,e){s(t,e)}})}},1111:function(t,e,n){"use strict";var r=n(52);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=["getStateProp"];function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=function(){var t=Object(r.a)("bulkActionsListData"),e=t.getStateProp,n=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,a),o=Object(r.a)("singleBulkActionData"),c=o.getStateProp,u=o.getLoading;return i(i({},n),{},{getAllLists:function(){return e("data")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getPageOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total_count"))},getCountData:function(){return e("count_data")},getActions:function(){return e("actions")},getStatusCount:function(){return e("statusCount")},getSingleBulkActionLoad:function(){return u()},getSingleBulkActionData:function(){return c("data")},getActionList:function(){return c("actionList")},getActionSchemaList:function(){return c("actionSchema")},getActionGroup:function(){return c("groupData")},getlistData:function(){return c("listData")}})}},1195:function(t,e,n){},1319:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(5),a=n(3),c=n(7),i=n(1),u=n(345),l=n(9),s=n.n(l),f=n(1110),b=n(11),m=n(2),p=n(12),O=n(26);function y(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return j(l,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],f=!1,b={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return a=e,i=0,u=t,b.n=n,c}};function m(n,r){for(i=n,u=r,e=0;!f&&l&&!o&&e<s.length;e++){var o,a=s[e],m=b.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=m&&((o=n<2&&m<a[1])?(i=0,b.v=r,b.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,b.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),i=s,u=p;(e=i<2?t:u)||!f;){a||(i?i<3?(i>1&&(b.n=-1),m(i,u)):b.n=u:b.v=u);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=b.n<0)?u:n.call(r,b))!==c)break}catch(e){a=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,o,a),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(j(e={},r,(function(){return this})),e),f=l.prototype=i.prototype=Object.create(s);function b(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,j(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,j(f,"constructor",l),j(l,"constructor",u),u.displayName="GeneratorFunction",j(l,o,"GeneratorFunction"),j(f),j(f,o,"Generator"),j(f,r,(function(){return this})),j(f,"toString",(function(){return"[object Generator]"})),(y=function(){return{w:a,m:b}})()}function j(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(j=function(t,e,n,r){function a(e,n){j(t,e,(function(t){return this._invoke(e,n,t)}))}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))})(t,e,n,r)}function g(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var w=function(t){var e=t.onCloseModal,n=Object(r.useContext)(a.h),c=d(Object(r.useState)(!1),2),u=c[0],l=c[1],j=d(Object(r.useState)(""),2),v=j[0],w=j[1],h=d(Object(r.useState)(""),2),k=h[0],_=h[1],E=Object(f.a)().setSingleBulkActionValue;Object(r.useEffect)((function(){l(!1),_(""),w("")}),[]);var P=function(){var t,e=(t=y().m((function t(){var e;return y().w((function(t){for(;;)switch(t.p=t.n){case 0:return l(!0),w(""),t.p=1,t.n=2,s()({path:Object(a.C)("/bulk-action/"),method:"POST",data:{title:k,only_title:!0}}).then((function(t){200==t.code&&(Object(a.cb)()||(bwfcrm_contacts_data.first_bulk_action_id=1),n(Object(i.__)("Bulk Action created","wp-marketing-automations")),E("listData",{title:k,status:0}),Object(p.l)({path:"/bulk-action/"+t.result.id},"/",{}))})).catch((function(t){throw Error(Object(a.w)(null==t?void 0:t.message))}));case 2:t.n=4;break;case 3:t.p=3,e=t.v,w(e.message),l(!1);case 4:Object(a.Pb)(n,3e3);case 5:return t.a(2)}}),t,null,[[1,3]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){g(a,r,o,c,i,"next",t)}function i(t){g(a,r,o,c,i,"throw",t)}c(void 0)}))});return function(){return e.apply(this,arguments)}}(),S=function(){Object(m.isEmpty)(k)?w(Object(i.__)("Name is required.","wp-marketing-automations")):(w(""),P())};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(o.Modal,{title:Object(i.__)("Add Bulk Action","wp-marketing-automations"),className:"bwf-admin-modal bwf-admin-modal-squeezy",onRequestClose:function(){return e()},shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(t){"Enter"==t.key&&S()}},v&&Object(r.createElement)(O.a,{status:"error",onRemove:function(){return w("")}},v),Object(r.createElement)(o.TextControl,{placeholder:Object(i.__)("Enter bulk action name","wp-marketing-automations"),autoFocus:!0,label:Object(i.__)("Name","wp-marketing-automations"),value:k,onChange:function(t){return _(t)},disabled:u}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(b.a,{onClick:function(){return e()},className:"bwf-cancel-btn",disabled:u},Object(i.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(b.a,{isPrimary:!0,onClick:function(){S()},isBusy:u},Object(i.__)("Add","wp-marketing-automations"))))))},h=n(147),k=n(54),_=n(60),E=n(61),P=n(19),S=n(77),C=n(1111),A=n(149),D=n(150),T=n(110),N=n(97);function I(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return x(l,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],f=!1,b={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return a=e,i=0,u=t,b.n=n,c}};function m(n,r){for(i=n,u=r,e=0;!f&&l&&!o&&e<s.length;e++){var o,a=s[e],m=b.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=m&&((o=n<2&&m<a[1])?(i=0,b.v=r,b.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,b.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),i=s,u=p;(e=i<2?t:u)||!f;){a||(i?i<3?(i>1&&(b.n=-1),m(i,u)):b.n=u:b.v=u);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=b.n<0)?u:n.call(r,b))!==c)break}catch(e){a=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,o,a),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(x(e={},r,(function(){return this})),e),f=l.prototype=i.prototype=Object.create(s);function b(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,x(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,x(f,"constructor",l),x(l,"constructor",u),u.displayName="GeneratorFunction",x(l,o,"GeneratorFunction"),x(f),x(f,o,"Generator"),x(f,r,(function(){return this})),x(f,"toString",(function(){return"[object Generator]"})),(I=function(){return{w:a,m:b}})()}function x(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(x=function(t,e,n,r){function a(e,n){x(t,e,(function(t){return this._invoke(e,n,t)}))}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))})(t,e,n,r)}function B(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}var L=function(t){var e=t.isOpen,n=t.links,o=t.onSuccess,c=t.onError,u=t.onRequestClose,l=Object(N.useMutation)(function(){var t,e=(t=I().m((function t(e){return I().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,s()({path:Object(a.C)("/bulk-actions/delete"),method:"DELETE",data:{ids:e}});case 1:return t.a(2,t.v)}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){B(a,r,o,c,i,"next",t)}function i(t){B(a,r,o,c,i,"throw",t)}c(void 0)}))});return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return l.reset()}),2500),o&&o()},onError:function(){c&&c()}});return Object(r.createElement)(k.a,{modalTitle:Object(i.__)("Delete Bulk Action","wp-marketing-automations"),deleteEntityName:1===n.length?n[0].title:"".concat(n.length," bulk actions"),confirmText:Object(i.__)("Are you sure you want to delete the bulk actions?","wp-marketing-automations"),confirmButtonText:Object(i.__)("Delete","wp-marketing-automations"),cancelButtonText:Object(i.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return l.mutate(n.map((function(t){return t.ID})))},isLoading:l.isLoading,successMessage:l.isSuccess&&Object(i.__)("Bulk Actions Deleted!","wp-marketing-automations"),errorMessage:l.isError&&(l.error&&l.error.message?l.error.message:Object(i.__)("Unable to delete bulk actions","wp-marketing-automations")),onRequestClose:function(){return!!u&&u()},isOpen:e,isDelete:!0})},G=n(44),M=n(203),F=n(347);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(){return(R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}function q(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return V(l,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],f=!1,b={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return a=e,i=0,u=t,b.n=n,c}};function m(n,r){for(i=n,u=r,e=0;!f&&l&&!o&&e<s.length;e++){var o,a=s[e],m=b.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=m&&((o=n<2&&m<a[1])?(i=0,b.v=r,b.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,b.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),i=s,u=p;(e=i<2?t:u)||!f;){a||(i?i<3?(i>1&&(b.n=-1),m(i,u)):b.n=u:b.v=u);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=b.n<0)?u:n.call(r,b))!==c)break}catch(e){a=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,o,a),!0),l}var c={};function i(){}function u(){}function l(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(V(e={},r,(function(){return this})),e),f=l.prototype=i.prototype=Object.create(s);function b(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,V(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=l,V(f,"constructor",l),V(l,"constructor",u),u.displayName="GeneratorFunction",V(l,o,"GeneratorFunction"),V(f),V(f,o,"Generator"),V(f,r,(function(){return this})),V(f,"toString",(function(){return"[object Generator]"})),(q=function(){return{w:a,m:b}})()}function V(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(V=function(t,e,n,r){function a(e,n){V(t,e,(function(t){return this._invoke(e,n,t)}))}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))})(t,e,n,r)}function z(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function $(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){z(a,r,o,c,i,"next",t)}function i(t){z(a,r,o,c,i,"throw",t)}c(void 0)}))}}function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){H(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function H(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(t,e)||Y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){if(t){if("string"==typeof t)return W(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var X=function(t){var e=t.selected,n=void 0===e?"all":e,o=t.menuButtons,c=void 0===o?"":o,l=t.pitchData,b=void 0===l?{}:l,y=t.setOpenProModal,j=void 0===y?function(){}:y,g=Object(p.i)(),d=Object(r.useContext)(a.h),v=Object(S.a)().setActiveMultiple,w=g.s,N=void 0===w?"":w,I=K(Object(r.useState)([]),2),x=I[0],B=I[1],U=K(Object(r.useState)(!1),2),V=U[0],z=U[1],J=K(Object(r.useState)(!1),2),H=J[0],W=J[1],X=function(){Lt&&Lt(),B([])},Z=Object(r.useCallback)((function(t,e){switch(t){case"delete":B(e),W(!0)}}),[]),tt={all:"",ongoing:1,completed:2,paused:3},et={0:Object(i.__)("Draft","wp-marketing-automations"),1:Object(i.__)("Ongoing","wp-marketing-automations"),2:Object(i.__)("Completed","wp-marketing-automations"),3:Object(i.__)("Paused","wp-marketing-automations")},nt={0:"bwf-tags bwf-tag-orange",1:"bwf-tags bwf-tag-blue",2:"bwf-tags bwf-tag-green",3:"bwf-tags bwf-tag-red"};Object(r.useEffect)((function(){return Object(a.m)(Object(i.__)("Bulk Actions","wp-marketing-automations")),function(){return ut("offset",0)}}),[]);var rt=Object(T.a)().getPageCountData,ot=Object(S.a)().setPageCountData,at=rt();Object(r.useEffect)((function(){v({leftNav:"contacts",rightNav:n})}),[n]);var ct=Object(f.a)(),it=ct.fetchAll,ut=ct.setBulkActionListValues,lt=ct.setSingleBulkActionValue,st=Object(C.a)(),ft=st.getLoading,bt=st.getAllLists,mt=st.getTotalCount,pt=st.getPageOffset,Ot=st.getPerPageCount,yt=st.getPageNumber,jt=st.getActions,gt=st.getCountData,dt=st.getError,vt=st.getStatusCount,wt=bt(),ht=pt(),kt=Ot(),_t=ft(),Et=mt(),Pt=yt(),St=jt(),Ct=gt(),At=dt(),Dt=vt(),Tt=Object(r.useMemo)((function(){var t={};if(Array.isArray(wt)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Y(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){i=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}(wt);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.ID]=r}}catch(t){n.e(t)}finally{n.f()}}return t}),[wt]);Object(r.useEffect)((function(){ot(Q(Q({},at),Ct)),_t||z(!1)}),[Et,_t]);var Nt=Object(A.b)(Tt),It=Nt.singleSelectProps,xt=Nt.selectAllProps,Bt=Nt.floatingBarProps,Lt=Nt.resetSelection,Gt=Nt.selected,Mt=void 0===Gt?{}:Gt,Ft=Object.keys(Mt).filter((function(t){return Mt[t]})).length;Object(r.useEffect)((function(){it(g,ht,kt,tt.hasOwnProperty(n)?tt[n]:"")}),[ht,kt,g.s,n]);var Ut=K(Object(r.useState)({loading:!1,status:!1}),2),Rt=Ut[0],qt=Ut[1],Vt=function(){var t=$(q().m((function t(e,r){var o;return q().w((function(t){for(;;)switch(t.p=t.n){case 0:return qt(Q(Q({},r),{},{status:!0})),t.p=1,t.n=2,s()({path:Object(a.C)("/bulk-actions/delete"),method:"DELETE",data:{ids:[e]}}).then((function(t){if(200!==t.code)throw Error(Object(a.w)(null==t?void 0:t.message));qt({status:!1}),qt({}),d(t.message),it(g,ht,kt,tt.hasOwnProperty(n)?tt[n]:"")})).catch((function(t){throw Error(Object(a.w)(null==t?void 0:t.message))}));case 2:t.n=4;break;case 3:t.p=3,o=t.v,qt({status:!0,error:o.message?o.message:Object(i.__)("Error in deleting bulk action","wp-marketing-automations")});case 4:Object(a.Pb)(d,3e3);case 5:return t.a(2)}}),t,null,[[1,3]])})));return function(e,n){return t.apply(this,arguments)}}(),zt=function(){var t=$(q().m((function t(e){var r;return q().w((function(t){for(;;)switch(t.p=t.n){case 0:return d(Object(i.__)("Cloning…","wp-marketing-automations")),t.p=1,t.n=2,s()({path:Object(a.C)("/bulk-action/".concat(e,"/clone")),method:"GET"}).then((function(t){200==t.code?(d(t.message),setTimeout((function(){it(g,0,kt,tt.hasOwnProperty(n)?tt[n]:"")}),1e3)):d(t.message)}));case 2:t.n=4;break;case 3:t.p=3,r=t.v,d(r.message);case 4:Object(a.Pb)(d,3e3);case 5:return t.a(2)}}),t,null,[[1,3]])})));return function(e){return t.apply(this,arguments)}}(),$t=function(){var t=$(q().m((function t(e,r){var o;return q().w((function(t){for(;;)switch(t.p=t.n){case 0:return d(Object(i.__)("Updating Status…","wp-marketing-automations")),t.p=1,t.n=2,s()({path:Object(a.C)("/bulk-action/".concat(e,"/update-status")),method:"POST",data:{status:r}}).then((function(t){200==t.code?(d(Object(i.__)("Status Updated","wp-marketing-automations")),setTimeout((function(){it(g,0,kt,tt.hasOwnProperty(n)?tt[n]:"")}),1e3)):d(t.message)}));case 2:t.n=4;break;case 3:t.p=3,o=t.v,d(o.message);case 4:Object(a.Pb)(d,3e3);case 5:return t.a(2)}}),t,null,[[1,3]])})));return function(e,n){return t.apply(this,arguments)}}(),Jt=function(t){return Object(r.createElement)(_.a,{label:Object(i.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(e){var n=e.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(E.a,{isClickable:!0,onInvoke:function(){lt("listData",t),Object(p.l)({path:"/bulk-action/"+parseInt(t.ID)},"/",{}),n()}},Object(r.createElement)(P.a,{justify:"space-between"},Object(r.createElement)(P.c,null,Object(i.__)("Edit","wp-marketing-automations")))),3===parseInt(t.status)&&Object(r.createElement)(E.a,{isClickable:!0,onInvoke:function(){Object(a.fc)()?$t(t.ID,1):j(!0),n()}},Object(r.createElement)(P.a,{justify:"space-between"},Object(r.createElement)(P.c,null,Object(i.__)("Unpause","wp-marketing-automations")),!Object(a.fc)()&&Object(r.createElement)(P.c,null,a.e))),1===parseInt(t.status)&&Object(r.createElement)(E.a,{isClickable:!0,onInvoke:function(){Object(a.fc)()?$t(t.ID,3):j(!0),n()}},Object(r.createElement)(P.a,{justify:"space-between"},Object(r.createElement)(P.c,null,Object(i.__)("Pause","wp-marketing-automations")),!Object(a.fc)()&&Object(r.createElement)(P.c,null,a.e))),Object(r.createElement)(E.a,{isClickable:!0,onInvoke:function(){Object(a.fc)()?zt(parseInt(t.ID)):j(!0),n()}},Object(r.createElement)(P.a,{justify:"space-between"},Object(r.createElement)(P.c,null,Object(i.__)("Duplicate","wp-marketing-automations")),!Object(a.fc)()&&Object(r.createElement)(P.c,null,a.e))),Object(r.createElement)(E.a,{isClickable:!0,onInvoke:function(){var e={status:!0,deleteEntityName:t.title,buttonConfirm:Object(i.__)("Confirm","wp-marketing-automations"),buttonCancel:Object(i.__)("Cancel","wp-marketing-automations"),isDelete:!0};qt(Q(Q({},e),{},{onConfirm:function(){return Vt(t.ID,e)}})),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(i.__)("Delete","wp-marketing-automations")))))}})},Qt=[{key:"select_link",label:Object(r.createElement)(G.a,R({type:"checkbox",checked:!1,onChange:function(){}},xt)),isLeftAligned:!1,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"actions",label:"",isLeftAligned:!1,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"name",label:Object(i.__)("Name","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210 bwf-table-col-sticky bwf-sticky-left"},{key:"created_on",label:Object(i.__)("Created On","wp-marketing-automations"),isLeftAligned:!0},{key:"contacts",label:Object(i.__)("Contacts","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-100"},{key:"action",label:Object(i.__)("Actions","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-max-w-360 bwf-w-360"},{key:"status",label:Object(i.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-100"}],Ht=function(t){return Object(r.createElement)("a",{href:"admin.php?page=autonami&path=/bulk-action/"+t.ID,type:"bwf-crm",className:"bwf-a-no-underline",onClick:function(e){e.preventDefault(),lt("listData",t),Object(p.l)({path:"/bulk-action/"+parseInt(t.ID)},"/",g)}},Object(r.createElement)("b",null,t.title.charAt(0).toUpperCase()+t.title.slice(1)+" "))},Kt=function(t){if(t.hasOwnProperty("actions")&&!Object(m.isEmpty)(t.actions)){var e=t.actions,n=[],o=[];return Object.keys(e).map((function(t){St.hasOwnProperty(t)&&(n.length<5&&n.push(St[t]),o.push(Object(r.createElement)("span",{key:t},St[t])))})),Object(m.isEmpty)(n)&&Object(m.isEmpty)(o)?"-":Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-table-v-center"},Object(r.createElement)("span",null,Object(m.isEmpty)(n)?"-":n.join(", ")),!Object(m.isEmpty)(o)&&o.length>5&&Object(r.createElement)(D.a,{items:o,count:5})))}return"-"},Yt=wt.map((function(t){return[{display:It.hasOwnProperty(t.ID)?Object(r.createElement)(G.a,R({type:"checkbox",checked:!1,onChange:function(){}},It[t.ID])):Object(r.createElement)(r.Fragment,null),value:""},{display:Jt(t),value:"action"},{display:t.hasOwnProperty("title")?Ht(t):"-",value:""},{display:t.hasOwnProperty("created_at")?Object(a.lb)(t.created_at):"-",value:""},{display:t.hasOwnProperty("count")?t.count:"-",value:""},{display:Kt(t),value:""},{display:t.hasOwnProperty("status")&&et.hasOwnProperty(t.status)?Object(r.createElement)("span",{className:nt[t.status]},et[t.status]):"-",value:""}]})),Wt=function(t){t!==kt&&ut("limit",t)},Xt=_t||At||!["","all"].includes(n)||0!==Et||""!==N||V,Zt=[{slug:"all",name:Object(i.__)("All","wp-marketing-automations"),path:"/bulk-actions/"},{slug:"ongoing",name:Object(i.__)("Ongoing","wp-marketing-automations"),path:"/bulk-actions/ongoing"},{slug:"completed",name:Object(i.__)("Completed","wp-marketing-automations"),path:"/bulk-actions/completed"},{slug:"paused",name:Object(i.__)("Paused","wp-marketing-automations"),path:"/bulk-actions/paused"}];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(i.__)("Bulk Actions","wp-marketing-automations")),parseInt(Et)>0&&Object(r.createElement)("div",{className:"bwf-content-header-count"},Object(i.sprintf)(Object(i._n)("(%s Result)","(%s Results)",Et,"wp-marketing-automations"),Et))),Object(r.createElement)("div",{className:"bwf-content-header-right"},Xt&&c)),At&&Object(r.createElement)(O.a,{status:"error"},At.message),Xt?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(F.a,{tabs:Zt,selected:n,count:Dt,disableUrlUpdate:!0,onChange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ut("offset",0),z(!0),Object(p.l)({page:"autonami",path:e},"/",{})}}),Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(h.a,{className:"bwf-link-table has-search",title:"",rows:Yt,headers:Qt,query:{paged:Pt},rowsPerPage:kt,totalRows:Et,isLoading:_t,onPageChange:function(t,e){ut("offset",(t-1)*kt)},onQueryChange:function(t){return"per_page"!==t?function(){}:Wt},showMenu:!1,rowHeader:!0,actions:Ft>0?[Object(r.createElement)(A.a,R({key:"bActions-bulk-action",actions:[{id:"delete",icon:"trash",hint:Object(i.__)("Delete","wp-marketing-automations")}],onAction:Z,inLine:!0,reset:X},Bt))]:[Object(r.createElement)(M.a,{key:"search",isLoading:_t,searchTerm:null==g?void 0:g.s,showResultCount:!1,setSearchData:function(t){if(Object(m.size)(t))Object(p.l)({s:t},"/",g);else{var e=Object(m.cloneDeep)(g);e.hasOwnProperty("s")&&(null==e||delete e.s),z(!0),Object(p.l)(e,"/",{})}}})],emptyMessage:Object(i.__)("No bulk action found.","wp-marketing-automations")})):Object(r.createElement)(u.a,{data:b}),Object(r.createElement)(k.a,{modalTitle:Object(i.__)("Delete Bulk Action","wp-marketing-automations"),content:Rt.content,deleteEntityName:Rt.deleteEntityName,confirmText:Rt.confirmText,confirmButtonText:Rt.buttonConfirm,cancelButtonText:Rt.buttonCancel,onConfirm:Rt.onConfirm,isLoading:Rt.loading,successMessage:Rt.success,errorMessage:Rt.error,onRequestClose:function(){return qt({status:!1})},isOpen:Rt.status,isDelete:!Rt.hasOwnProperty("isDelete")||Rt.isDelete}),Object(r.createElement)(L,{links:x,isOpen:H,onSuccess:function(){it(g,0,kt,tt.hasOwnProperty(n)?tt[n]:""),X()},onError:X,onRequestClose:function(){return W(!1)}}))},Z=n(68),tt=n(356),et=n(40);n(1195);function nt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(t){var e=t.match.params.status,n=void 0===e?"all":e,l=Object(S.a)().setActiveMultiple,s=nt(Object(r.useState)(!1),2),f=s[0],b=s[1],m=nt(Object(r.useState)(!1),2),p=m[0],O=m[1],y=Object(r.createElement)(o.Button,{isPrimary:!0,className:"bwf-display-flex",onClick:function(){Object(a.fc)()?O(!0):b(!0)}},!Object(a.fc)()&&Object(r.createElement)(c.a,{icon:"king",size:"16",color:"#fff"}),Object(r.createElement)("span",null,Object(i.__)("Create Bulk Action","wp-marketing-automations")));Object(r.useEffect)((function(){l({leftNav:"contacts",rightNav:"bulk_actions"})}),[n]),Object(tt.a)("bulk_actions","","",y);var j=[{type:"heading",data:{title:Object(i.__)("Bulk Update Contacts Easily","wp-marketing-automations"),desc:Object(i.__)("Run bulk actions such as Add a tag, Add to list and more using an intuitive interface","wp-marketing-automations")}},{type:"image-desc",data:[{img:Object(a.u)()+"bulk-action/bulk-action1.png",title:Object(i.__)("Choose Contacts","wp-marketing-automations"),desc:Object(i.__)("You can choose all contacts or a specific segment to apply bulk actions.","wp-marketing-automations")},{img:Object(a.u)()+"bulk-action/bulk-action2.png",title:Object(i.__)("Apply Actions","wp-marketing-automations"),desc:Object(i.__)("Choose from a wide variety of actions and bulk update contacts on the fly.","wp-marketing-automations")}]},{type:"buttons",data:{buttons:[{text:Object(i.__)("Create Bulk Action","wp-marketing-automations"),proCheck:!0,onClick:function(){Object(a.fc)()?O(!0):b(!0)}}]}},{type:"link-wth-text",data:{text:Object(i.__)("Curious about bulk actions?","wp-marketing-automations"),link:"https://funnelkit.com/docs/autonami-2/contacts/bulk-actions/",linkText:Object(i.__)("Learn More","wp-marketing-automations")}}];return Object(r.createElement)("div",{className:"bwf-bulk-actions-list"},Object(r.createElement)(Z.a,null),Object(a.cb)()&&0!==a.q?Object(r.createElement)(X,{selected:n,menuButtons:y,pitchData:j,setOpenProModal:b}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(i.__)("Bulk Actions","wp-marketing-automations")),!Object(a.fc)()&&a.e)),Object(r.createElement)(u.a,{data:j})),!Object(a.fc)()&&Object(r.createElement)(et.b,{isOpen:f,onRequestClose:function(){return b(!1)},modalContent:{isFeature:!0,featureTitle:"Bulk Actions",proLink:Object(a.ib)("upgrade",{utm_medium:"Bulk+Actions+Upgrade+Modal"}),image:Object(a.vb)("bulk-action.png"),benefit:Object(i.__)("Unlock Bulk Actions and other awesome features.","wp-marketing-automations")}}),Object(a.fc)()&&p&&Object(r.createElement)(w,{onCloseModal:function(){return O(!1)}}))}}}]);