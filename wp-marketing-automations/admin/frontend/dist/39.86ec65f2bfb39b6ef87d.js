(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1169:function(e,t,r){"use strict";var n=r(0),o=r(1),a=r(9),i=r.n(a),l=r(3),c=r(348);function _(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof l?n:l,_=Object.create(c.prototype);return s(_,"_invoke",function(r,n,o){var a,l,c,_=0,s=o||[],u=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,l=0,c=e,f.n=r,i}};function p(r,n){for(l=r,c=n,t=0;!u&&_&&!o&&t<s.length;t++){var o,a=s[t],p=f.p,b=a[2];r>3?(o=b===n)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=r<2&&p<a[1])?(l=0,f.v=n,f.n=a[1]):p<b&&(o=r<3||a[0]>n||n>b)&&(a[4]=r,a[5]=n,f.n=b,l=0))}if(o||r>1)return i;throw u=!0,n}return function(o,s,b){if(_>1)throw TypeError("Generator is already running");for(u&&1===s&&p(s,b),l=s,c=b;(t=l<2?e:c)||!u;){a||(l?l<3?(l>1&&(f.n=-1),p(l,c)):f.n=c:f.v=c);try{if(_=2,a){if(l||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((t=(u=f.n<0)?c:r.call(n,f))!==i)break}catch(t){a=e,l=1,c=t}finally{_=1}}return{value:t,done:u}}}(r,o,a),!0),_}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(s(t={},n,(function(){return this})),t),p=u.prototype=l.prototype=Object.create(f);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,s(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return c.prototype=u,s(p,"constructor",u),s(u,"constructor",c),c.displayName="GeneratorFunction",s(u,o,"GeneratorFunction"),s(p),s(p,o,"Generator"),s(p,n,(function(){return this})),s(p,"toString",(function(){return"[object Generator]"})),(_=function(){return{w:a,m:b}})()}function s(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(s=function(e,t,r,n){function a(t,r){s(e,t,(function(e){return this._invoke(t,r,e)}))}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,n)}function u(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,_=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){_=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(_)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.conversation,r=void 0===t?{}:t,a=r.ID,s=r.mode,p=r.type,b=e.onRequestClose,O=e.isOpen,d=e.setErrorData,m=void 0===d?function(){}:d,E=f(Object(n.useState)({}),2),y=E[0],v=E[1],P=f(Object(n.useState)(!1),2),j=P[0],w=P[1],g=f(Object(n.useState)(""),2),D=g[0],h=g[1],M=function(){var e,t=(e=_().m((function e(){var t;return _().w((function(e){for(;;)switch(e.p=e.n){case 0:if(a&&!(!parseInt(a)>0)){e.n=1;break}return e.a(2);case 1:return w(!0),e.p=2,e.n=3,i()({method:"GET",path:Object(l.C)("/engagement/".concat(parseInt(a),"?mode=1"))}).then((function(e){var t;if(!e.hasOwnProperty("code")||200!==e.code||!e.hasOwnProperty("result")||e.result.hasOwnProperty("error"))throw Error(Object(l.w)(null==e||null===(t=e.result)||void 0===t?void 0:t.error));"result"in e&&v(e.result)})).catch((function(e){throw Error(Object(l.w)(null==e?void 0:e.message))}));case 3:e.n=5;break;case 4:e.p=4,t=e.v,console.log(t),m({status:!0,modalTitle:Object(o.__)("Error","wp-marketing-automations"),error:t.message?t.message:Object(o.__)("Unable to generate mail preview","wp-marketing-automations")}),t&&"message"in t?h(t.message):Object(o.__)("There are some technical difficulties while getting emails. Please contact support.","wp-marketing-automations");case 5:w(!1);case 6:return e.a(2)}}),e,null,[[2,4]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,l,"next",e)}function l(e){u(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){O&&M()}),[O]);return Object(n.useEffect)((function(){D&&(b(),v({}))}),[D]),Object(n.createElement)(c.a,{isOpen:O,isLoading:j,onRequestClose:function(){b(),v({}),h("")},error:D,subject:![2,3].includes(parseInt(s))&&y?y.subject:"",body:y&&y.body?y.body:"",sourceType:p,mode:s,contact:e.contact,conversation:e.conversation,template:y})}},1184:function(e,t,r){},1240:function(e,t,r){},1241:function(module,__webpack_exports__,__webpack_require__){"use strict";var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_wordpress_element__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__),_wordpress_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_wordpress_components__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__),_bwf_dropdown__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(56),_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),_style_scss__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1242),_style_scss__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_7__),_select_controls__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(76),_search_filter__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1243),_date_range_filter__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1269),_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1244),_checklist__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1245),_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3),_placeholder__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1246),_bwf_tag__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(111),_checkllist_dropdown__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1247);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,_=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){_=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(_)throw o}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var BLUE_BASE="#0073aa",TEXT_COLOR_2="#353030",FilterTag=function(e){var t=e.label,r=e.icon,n=e.isPrimary,o=void 0!==n&&n,a=e.onClick,i=void 0===a?function(){}:a,l=e.onClear,c=e.isActive,_=e.rule,s=e.isProFeatureLocked,u=e.isLocked,f=e.iconColor;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("bwf-filter__tag",{"is-primary":o,"is-active":c,"is-locked":u,"is-pro-locked":(null==_?void 0:_.is_pro)&&s}),onClick:u||s&&null!=_&&_.is_pro?function(){}:i},!c&&(s&&null!=_&&_.is_pro?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_bwf_tag__WEBPACK_IMPORTED_MODULE_15__.a,{className:"size-16"}):Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:u?"lock":r,height:"16",width:"16",color:f||TEXT_COLOR_2})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",null,t),c&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:"angle-down",height:"12",width:"12",color:"#212121"}),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{className:"remove-icon",onClick:l},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:"cross-bold",height:"16",width:"16",color:"#353030"}))))},StickyFilter=function StickyFilter(props){var rule=props.rule,filter=props.filter,filterData=props.filterData,_remove=props.remove,setFilter=props.setFilter,tempFilters=props.tempFilters,updateTempRule=props.updateTempRule,_props$propsToPass=props.propsToPass,propsToPass=void 0===_props$propsToPass?{}:_props$propsToPass,isProFeatureLocked=props.isProFeatureLocked,isLocked=props.isLocked,_useContext=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useContext)(_utils__WEBPACK_IMPORTED_MODULE_11__.a),fieldOptions=_useContext.fieldOptions,setFieldOptions=_useContext.setFieldOptions,toggleRef=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)(),contentRef=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)();Object(_utils__WEBPACK_IMPORTED_MODULE_13__.Vc)(contentRef,(function(){void 0!==toggleRef.current&&toggleRef.current()}));var showTitle=!0,showApplyBtn=!0,fl=null==tempFilters?void 0:tempFilters.find((function(e){return(null==e?void 0:e.filter)===(null==rule?void 0:rule.slug)})),showFilterComponent=function showFilterComponent(){var filter=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl;if(null!=rule&&rule.data_toggler&&null!=filter&&filter.rule){var _rule$data_toggler,_rule$data_toggler2,togglerValue=null==rule||null===(_rule$data_toggler=rule.data_toggler)||void 0===_rule$data_toggler?void 0:_rule$data_toggler.value,togglerOperator=null==rule||null===(_rule$data_toggler2=rule.data_toggler)||void 0===_rule$data_toggler2?void 0:_rule$data_toggler2.operator;if(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(togglerValue)){var isMatch=togglerValue.includes(null==filter?void 0:filter.rule);return!("==="!==togglerOperator||!isMatch)}return eval("".concat(null==filter?void 0:filter.rule," ").concat(togglerOperator," ").concat(togglerValue))}return!0},showFilter=showFilterComponent(),isActive=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.find)(filterData,(function(e){return(showFilterComponent((null==e?void 0:e.filter)===(null==rule?void 0:rule.slug)?e:fl)&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(null==rule?void 0:rule.required,"data")?Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.data):Object(lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(null==rule?void 0:rule.required,"rule")?Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.rule):Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.data)||Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.rule))&&(null==e?void 0:e.filter)===(null==rule?void 0:rule.slug)})),_setData=function(e,t){updateTempRule(_objectSpread(_objectSpread({},fl),{},{data:e},t&&{rule:t})),showApplyBtn||(fl.data=e,setFilter(fl))};Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){showFilter||_setData("")}),[showFilter]);var isBtnDisabled=function(e,t){return showFilter?!(!e.required.includes("data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t.data))||!(e.hasOwnProperty("operators")||!e.required.includes("data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t.data)):!!e.hasOwnProperty("operators")&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(null==t?void 0:t.rule)};return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter__sticky"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_bwf_dropdown__WEBPACK_IMPORTED_MODULE_5__.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,dropdownRef:contentRef,renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterTag,{icon:"add-circle",onClick:function(){t&&isActive&&updateTempRule(isActive),r()},label:isActive?Object(_utils__WEBPACK_IMPORTED_MODULE_11__.c)(rule,isActive):rule.title,isActive:isActive,rule:rule,onClear:function(e){e.stopPropagation(),_remove(fl),t&&r()},isProFeatureLocked:isProFeatureLocked,isLocked:isLocked})},renderContent:function(e){e.onClose;var t=e.onToggle;return toggleRef.current=t,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",null,showTitle&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-heading"},rule.title),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterOperator,_extends({},rule,{filter:filter,value:fl.rule,setRule:function(e){null!=rule&&rule.rule_dependent&&_setData([],e),updateTempRule(_objectSpread(_objectSpread({},fl),{},{rule:e}))}})),showFilter&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"".concat(!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(rule.operators)&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(fl.rule)?"bwf-no-operator":"")},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterComponent,_extends({},rule,propsToPass,{value:fl.data,rule:fl.rule,default_options:null==fieldOptions?void 0:fieldOptions[fl.filter],setData:function(e,t){null!=rule&&rule.rule_dependent||Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t)?_setData(e):setFieldOptions(_objectSpread(_objectSpread({},fieldOptions),{},_defineProperty({},fl.filter,t)))},remove:function(){return _remove(fl)}}))),showApplyBtn&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,onClick:function(){setFilter(fl),t()},disabled:isBtnDisabled(rule,fl)},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Apply","wp-marketing-automations")))}}))},ListFilter=function(e){var t=e.rules,r=e.filterData,n=e.setFilter,o=e.tempFilters,a=e.updateTempRule,i=e.propsToPass,l=void 0===i?{}:i,c=e.isProFeatureLocked,_=e.isLocked,s=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useContext)(_utils__WEBPACK_IMPORTED_MODULE_11__.a),u=s.fieldOptions,f=s.setFieldOptions,p=_slicedToArray(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)({}),2),b=p[0],O=p[1],d=o.find((function(e){return e.filter===b.slug})),m=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)(),E=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)();Object(_utils__WEBPACK_IMPORTED_MODULE_13__.Vc)(E,(function(){void 0!==m.current&&m.current()}));var y=function(e){return r.find((function(t){return Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(t.data)&&t.filter===e.slug}))};return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter__list"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_bwf_dropdown__WEBPACK_IMPORTED_MODULE_5__.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,ref:E,renderToggle:function(e){e.isOpen;var t=e.onToggle;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterTag,{label:"Add Filter",icon:"filter",onClick:function(){t()},isPrimary:!0,isProFeatureLocked:c,iconColor:BLUE_BASE})},renderContent:function(e){var o,i,s=e.isOpen,p=(e.onClose,e.onToggle);return m.current=p,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-heading"},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Filter By","wp-marketing-automations")),Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(b)?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-list-item-wrap"},t.map((function(e,t){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(ListFilterItem,_extends({},e,{key:"list-filter-item-".concat(t),onClick:function(){return O(e)},isSelected:r.findIndex((function(t){return Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(t.data)&&t.filter===e.slug}))>-1,isProFeatureLocked:c,isLocked:_}))}))):Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-list-item__inner-wrap"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-list-item__inner-header"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{onClick:function(){s&&y(b)&&a(y(b)),O({})}},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:"arrow-left",size:"16"})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",null,b.title)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterOperator,_extends({},b,{value:d.rule,setRule:function(e){a(_objectSpread(_objectSpread({},d),{},{rule:e}))}})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"".concat(!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(b.operators)&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(d.rule)?"bwf-no-operator":"")},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterComponent,_extends({},b,{value:d.data,rule:d.rule,default_options:null==u?void 0:u[d.filter],setData:function(e,t){Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t)?a(_objectSpread(_objectSpread({},d),{},{data:e})):f(_objectSpread(_objectSpread({},u),{},_defineProperty({},d.filter,t)))}},l))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,disabled:(o=b,i=d,!(!o.required.includes("data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(i.data))||!(o.hasOwnProperty("operators")||!o.required.includes("data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(i.data))),onClick:function(){n(d),O({}),p()}},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Apply","wp-marketing-automations"))))}}))},ListFilterItem=function(e){var t=e.title,r=e.isSelected,n=e.onClick,o=e.is_pro,a=e.isProFeatureLocked,i=e.isLocked;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-list-item",onClick:function(e){i||o&&a||n(e)}},i?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:"lock",size:"16",color:TEXT_COLOR_2}):o&&a?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_bwf_tag__WEBPACK_IMPORTED_MODULE_15__.a,{className:"size-16"}):Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:r?"checkmark-circle-filled":"add-circle",width:"16",height:"16",color:r?BLUE_BASE:TEXT_COLOR_2}),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",null,t))},FilterOperator=function(e){var t=e.setRule,r=e.op_label,n=e.value,o=void 0===n?"":n,a=e.operators,i=void 0===a?{}:a,l=(e.op_default,e.type),c=e.hideFilters;if("date-range"===l){var _=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.cloneDeep)(_utils__WEBPACK_IMPORTED_MODULE_11__.b);c&&Object.keys(_utils__WEBPACK_IMPORTED_MODULE_11__.b).forEach((function(e){c.includes(e)&&delete _[e]})),i=_}if(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(i))return null;var s=Object.keys(i).map((function(e){return{key:e,label:i[e]}}));return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-operator-wrap"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("label",null,r),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_select_controls__WEBPACK_IMPORTED_MODULE_8__.a,{className:"bwf-filter-operator",options:s,onChange:function(e){t(e)},selected:o,bottomFixed:!0,placeholder:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Select","wp-marketing-automations")}))},FilterComponent=function(e){var t,r,n=e.type,o=e.options,a=e.value,i=e.setData,l=e.val_label,c=e.operators,_=e.op_label,s=(e.default_options,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return classnames__WEBPACK_IMPORTED_MODULE_1___default()(t,{"no-operator":!c})});if("select"===n&&o){var u=Object.keys(o).map((function(e){return{key:e,label:o[e]}}));return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:s("bwf-filter-select-wrap")},l&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("label",null,l),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_select_controls__WEBPACK_IMPORTED_MODULE_8__.a,{options:u,selected:a,onChange:function(e){return i(e)},placeholder:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Select","wp-marketing-automations")}))}return"search"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_search_filter__WEBPACK_IMPORTED_MODULE_9__.a,_extends({},e,{className:s()})):"number"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("input",{type:"number",value:a,placeholder:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Enter value","wp-marketing-automations"),onChange:function(e){return i(e.target.value)},className:s("bwf-number-control")}):"text"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.TextControl,{value:a,label:_,onChange:function(e){return i(e)},className:s()}):"date-range"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_date_range_filter__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},e,{className:s()})):"checklist"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_checklist__WEBPACK_IMPORTED_MODULE_12__.a,_extends({},e,{className:s()})):"search-select"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:s("bwf-filter-checklist-dropdown-wrap")},l&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("label",null,l),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_checkllist_dropdown__WEBPACK_IMPORTED_MODULE_16__.a,{options:o,label:Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{className:"bwf-t-overflow-ellipsis",title:null!==(t=null==a?void 0:a.label)&&void 0!==t?t:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Select","wp-marketing-automations")},null!==(r=null==a?void 0:a.label)&&void 0!==r?r:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Select","wp-marketing-automations")),selected:null==a?void 0:a.value,onSelect:function(e){i(e)},className:s()})):void 0},BWFFilters=function(e){var t=e.filterList,r=void 0===t?[]:t,n=e.filterData,o=e.setFilterData,a=e.propsToPass,i=e.isLoading,l=e.isLocked,c=_slicedToArray(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)({}),2),_=c[0],s=c[1],u=_utils__WEBPACK_IMPORTED_MODULE_13__.q.isProFeatureLocked,f=_slicedToArray(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)([]),2),p=f[0],b=f[1],O=_slicedToArray(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)([]),2),d=O[0],m=O[1];if(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(r)){var e=[];r.forEach((function(t){e.push.apply(e,_toConsumableArray(null==t?void 0:t.rules))})),m(e.map((function(e){var t="";e.hasOwnProperty("operators")&&(t=Object.keys(null==e?void 0:e.operators)[0]);var r=n.find((function(t){return t.filter===e.slug}));return r||{filter:e.slug,rule:t,data:""}})))}}),[r,n]),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(n)){var e,t=[],o=null===(e=r.find((function(e){return"list"===e.type})))||void 0===e?void 0:e.rules;n.forEach((function(e){if(o&&o.findIndex((function(t){return t.slug===e.filter}))>-1&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.data)){var n,a=(null===(n=r.find((function(e){return"list"===e.type})))||void 0===n?void 0:n.rules).find((function(t){return t.slug===e.filter}));t.push(a)}})),b(t)}}),[n]),!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(r)||i)return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_placeholder__WEBPACK_IMPORTED_MODULE_14__.a,null);var E=function(e){var t=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.find)(n,{filter:e.filter}),a=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(n)?[e]:t?Object(lodash__WEBPACK_IMPORTED_MODULE_2__.map)(n,(function(r){return r.filter===t.filter?e:r})):[].concat(_toConsumableArray(n),[e]),i=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.filter)(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.map)(a,(function(e){return e})),(function(e){var t=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.flatMap)(r,"rules"),n=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.find)(t,{slug:e.filter});return!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(null==n?void 0:n.required,"data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(e.data)})),l=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.flatMap)(r,"rules"),c=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.find)(l,{slug:e.filter});o(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(null==c?void 0:c.required,"data")&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(null==e?void 0:e.data)?[]:i)},y=function(e){m((function(t){return t.map((function(t){return t.filter===e.filter?e:t}))}))},v=function(e){e.rule="",e.data="",y(e),b((function(t){return t.filter((function(t){return t.slug!==e.filter}))}));var t=n.filter((function(t){return t.filter!==e.filter&&!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t.data)}));o(t)},P=r.find((function(e){return"sticky"===e.type})),j=r.find((function(e){return"list"===e.type}));return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_utils__WEBPACK_IMPORTED_MODULE_11__.a.Provider,{value:{fieldOptions:_,setFieldOptions:s}},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-wrap"},P&&[].concat(_toConsumableArray(null==P?void 0:P.rules),_toConsumableArray(p)).map((function(t,r){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(StickyFilter,_extends({},P,e,{propsToPass:a,rule:t,filterData:n,tempFilters:d,updateTempRule:y,setFilter:E,remove:v,key:"sticky-filter-wrap-".concat(r),isProFeatureLocked:u,isLocked:l}))})),j&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(ListFilter,_extends({},j,e,{filterData:n,tempFilters:d,updateTempRule:y,setFilter:E,remove:v,propsToPass:a,isProFeatureLocked:u,isLocked:l}))))};__webpack_exports__.a=BWFFilters},1242:function(e,t,r){},1243:function(e,t,r){"use strict";var n=r(0),o=r(1),a=r(9),i=r.n(a),l=r(1177),c=r(3),_=r(2),s=r(6),u=r.n(s),f=r(111);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,_=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){_=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(_)throw o}}return l}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){e.slug;var t=e.api,r=e.setData,a=e.value,s=(e.searchHelper,e.default_options),p=e.operators,O=e.rule,m=Object(n.useRef)(!0),y=E(Object(n.useState)([]),2),v=y[0],P=y[1],j=E(Object(n.useState)(Object(_.size)(s)?s:[{id:"no-result",name:"No data available"}]),2),w=j[0],g=j[1],D=E(Object(n.useState)(!Object(_.size)(s)),2),h=D[0],M=D[1],C=E(Object(n.useState)(!1),2),T=C[0],A=C[1],I=E(Object(n.useState)(!1),2),R=I[0],L=I[1],k=E(Object(n.useState)(Object(_.isArray)(a)?a.map((function(e){var t;return d(d({},e),{},{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()})})):[]),2),B=k[0],S=k[1],U=Object(n.useRef)(new AbortController),K=function(e){return e.value?Object(n.createElement)("div",{className:"bwf-flex bwf--space-between"},Object(n.createElement)("span",{className:"bwf-t-overflow-ellipsis bwf-w-180",title:e.label||e.name},e.label||e.name),Object(n.createElement)(f.b,{content:e.value})):e.label||e.name},W=function(e,t){e&&r("",t)},F=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){U.current=new AbortController,Object(_.size)(e)?M(!0):M(!!r);var o=("string"==typeof t?t:t[O]).replace("{{search}}",encodeURIComponent(e)).replace("{{rule}}",O);i()({path:Object(c.C)(o),signal:U.current.signal}).then((function(t){if(t&&Object(_.isArray)(t.result)&&!Object(_.isEmpty)(t.result)){var n,o,a;A(null===(n=t[0])||void 0===n?void 0:n.hasOwnProperty("steps"));var i=t.result.map((function(e){return{name:e.name||e.label||e.title,id:e.id.toString(),labelText:K(e),steps:null==e?void 0:e.steps}})),l=t.result.map((function(e){var t;return{name:(null==e?void 0:e.name)||(null==e?void 0:e.label)||e.title,id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()}}));Object(_.size)(e)&&null!==(o=t.result[0])&&void 0!==o&&o.hasOwnProperty("steps")?(P(i),W(r,i)):null!==(a=t.result[0])&&void 0!==a&&a.hasOwnProperty("steps")?(g(i),W(r,i)):Object(_.size)(e)?(P(l),W(r,l)):(g(l),W(r,l))}else Object(_.isEmpty)(e)?P([{id:"no-result",name:"No data available"}]):P([{id:"no-result",name:'No result found for "'.concat(e,'"')}]),W(r,[{id:"no-result",name:"No data available"}]);M(!1),L(!1)})).catch((function(e){M(!1),console.log(e)}))}};Object(n.useEffect)((function(){Object(_.isEmpty)(a)&&Object(_.isEmpty)(s)&&(F("",!0),L(!0))}),[]);var N="string"==typeof t?"false":O;Object(n.useEffect)((function(){m.current||"false"===N||(S([]),r([]),F("",!1)),m.current&&(m.current=!1)}),[N]),Object(n.useEffect)((function(){var e;null!==(e=w[0])&&void 0!==e&&e.hasOwnProperty("steps")&&A(!0)}),[w]);var x=Object(_.isArray)(B)?B.map((function(e){return e.id})):[];return Object(n.createElement)(l.a,{values:x,isFirstLoading:R,searchedValue:function(e,t,r){F(e,t,r)},selectedValue:B,onChangeValue:function(){},multiGroup:T,hasDefaultOption:w,onChangeData:function(e){var t=e.map((function(e){var t;return{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString(),label:e.label||e.name}}));S(b(t)),r(e.map((function(e){return{id:null==e?void 0:e.id,label:e.label||e.name}})))},options:b(v.filter((function(e){return x.findIndex((function(t){return t.id===e.id}))<0}))),defaultOptions:w,className:u()("bwf-filter-search",{"no-operator":Object(_.isEmpty)(p)}),isLoading:h,placeholder:Object(o.__)("Searchâ€¦","wp-marketing-automations"),showInitialList:!1,abortController:U})}},1244:function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return O}));var n=r(0),o=r(1),a=r(24),i=r(16),l=r.n(i),c=r(2),_=r(10),s=r.n(_),u=function(e,t){return e.rule_dependent&&Object(c.isEmpty)(t.data)?Object(n.createElement)(n.Fragment,null,e.title," :"," ",Object(n.createElement)("strong",{className:"bwf-t-overflow-ellipsis"},f(e,t))):Object(n.createElement)(n.Fragment,null,e.title,":"," ",l()({mixedString:e.operators?e.readable_text:"{{value /}}",components:{key:Object(n.createElement)(n.Fragment,null,e.title),rule:Object(n.createElement)(n.Fragment,null,f(e,t)),value:Object(n.createElement)("strong",{title:Object(n.renderToString)(p(e,t)),className:"bwf-t-overflow-ellipsis"},p(e,t))}}))},f=function(e,t){var r;if(e.operators)return"number"===e.type?e.operators[t.rule]:"search"===e.type?null===(r=e.operators[t.rule])||void 0===r?void 0:r.replace("Is",""):e.operator&&e.operators[t.rule]},p=function(e,t){if("date-range"===e.type)return t.data.period?b[t.data.period]:s()(t.data.after).format(Object(a.i)())===s()(t.data.before).format(Object(a.i)())?"".concat(s()(t.data.after).format(Object(a.i)())):Object(n.createElement)(n.Fragment,null,"".concat(s()(t.data.after).format(Object(a.i)())," - ").concat(s()(t.data.before).format(Object(a.i)())));if("select"===e.type)return e.options[t.data];if("number"===e.type||"text"===e.type)return t.data;if("search"===e.type&&Object(c.isArray)(t.data)&&!Object(c.isEmpty)(t.data))return t.data.map((function(e){return e.label})).join(", ");if("search-select"===e.type)return t.data.label;if("checklist"===e.type){if(Object(c.isArray)(t.data))return Object(c.isEmpty)(t.data)||t.data.length!==Object.keys(e.options).length?t.data.map((function(t){return e.options[t]})).join(", "):"All";if(t.data)return e.options[t.data]}return null},b={today:Object(o.__)("Today","wp-marketing-automations"),yesterday:Object(o.__)(" Yesterday","wp-marketing-automations"),week:Object(o.__)("This Week","wp-marketing-automations"),last_week:Object(o.__)("Last Week","wp-marketing-automations"),month:Object(o.__)("This Month","wp-marketing-automations"),last_month:Object(o.__)("Last Month","wp-marketing-automations"),quarter:Object(o.__)("Quarter to Date","wp-marketing-automations"),last_quarter:Object(o.__)("Last Quarter","wp-marketing-automations"),year:Object(o.__)("Year to Date","wp-marketing-automations"),last_year:Object(o.__)("Last Year","wp-marketing-automations"),specificDate:Object(o.__)("On Specific Date","wp-marketing-automations"),custom:Object(o.__)("Custom Date Range","wp-marketing-automations")},O=Object(n.createContext)({})},1245:function(e,t,r){"use strict";var n=r(0),o=r(2),a=r(7);function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.options,r=e.value,l=e.setData,c=(e.remove,e.multiple),_=void 0!==c&&c;return Object(n.createElement)("div",{className:"bwf-filter-checklist"},Object.keys(t).map((function(e,c){return Object(n.createElement)("div",{key:"bwf-filter-check-item-".concat(c),onClick:function(){_?Object(o.isEmpty)(r)?l([e]):r.includes(e)?l(r.filter((function(t){return t!==e}))):l([].concat(i(r),[e])):l(e)}},Object(n.createElement)("span",null,t[e])," ",(_&&Object(o.isArray)(r)&&r.includes(e)||r===e)&&Object(n.createElement)(a.a,{icon:"tick",height:"16",width:"16"}))})))}},1246:function(e,t,r){"use strict";var n=r(0),o=r(19),a=r(103);t.a=function(){return Object(n.createElement)(o.a,{justify:"flex-start"},Object(n.createElement)(o.c,null,Object(n.createElement)(a.a,{h:24,w:100,br:19})),Object(n.createElement)(o.c,null,Object(n.createElement)(a.a,{h:24,w:100,br:19})),Object(n.createElement)(o.c,null,Object(n.createElement)(a.a,{h:24,w:100,br:19})))}},1247:function(e,t,r){"use strict";var n=r(0),o=r(6),a=r.n(o),i=r(7),l=(r(1248),r(60)),c=r(203),_=r(61),s=r(2),u=r(1);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,_=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){_=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(_)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var b=[{key:"",label:Object(u.__)("No result found","wp-marketing-automations"),disabled:!0}];t.a=function(e){var t=e.label,r=e.className,o=e.options,u=e.searchText,p=void 0===u?"":u,O=e.onSearch,d=e.isLoading,m=e.selected,E=void 0===m?{}:m,y=e.onSelect,v=void 0===y?function(){}:y,P=e.title,j=f(Object(n.useState)(p),2),w=j[0],g=j[1],D=Object(n.useCallback)((function(e){var t=e.onToggle,r=o.filter((function(e){var t;return-1!==(null===(t=e.label)||void 0===t?void 0:t.toLowerCase().indexOf(null==w?void 0:w.toLowerCase()))}));return(Object(s.isEmpty)(r)?b:r).map((function(e,r){return Object(n.createElement)(_.a,{key:"funnel-".concat(r),isClickable:!e.disabled,onInvoke:function(){v(e),t()},title:e.label},Object(n.createElement)("span",{className:"bwf-whitespace-wrap"},e.label),e.key===E&&Object(n.createElement)(i.a,{icon:"tick",height:"16",width:"16"}))}))}),[E,o,w]);return Object(n.createElement)(l.a,{label:P,menuPosition:"bottom left",classes:"components-button is-secondary-gray",wrapperClasses:a()("bwf-checklist__dropdown is-from-bottom-only",r),buttonLabel:Object(n.createElement)(n.Fragment,null,t,Object(n.createElement)(i.a,{icon:"angle-down",height:"12",width:"12"})),renderContent:function(e){var t=e.onToggle;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(c.a,{query:{s:null!=p?p:w},setSearchData:function(e){O?O(e):g(e)},showResultCount:!1,isLoading:d}),D({onToggle:t}))}})}},1248:function(e,t,r){},1269:function(e,t,r){"use strict";var n=r(0),o=r(10),a=r.n(o),i=r(124),l=r(1),c=r(6),_=r.n(c),s=r(4),u=r.n(s),f=(r(373),r(371),r(372),r(522)),p=r(2),b=r(128),O=r(24),d=(r(1184),r(5)),m=r(7),E=(r(283),function(e){var t=e.disabled,r=void 0!==t&&t,o=e.value,a=e.onChange,i=e.dateFormat,l=e.label,c=e.describedBy,s=e.error,u=e.onFocus,f=void 0===u?function(){}:u,b=e.onKeyDown,O=void 0===b?p.noop:b,E=e.errorPosition,y=void 0===E?"bottom center":E,v=_()("bwf-calendar-input",{"is-empty":0===o.length,"is-error":s}),P=Object(p.uniqueId)("_woo-dates-input");return Object(n.createElement)("div",{className:v},Object(n.createElement)("div",{className:"bwf-date-range-input"},Object(n.createElement)("input",{type:"text",className:"bwf-calendar-input-text",value:o,onChange:a,"aria-label":l,id:P,"aria-describedby":"".concat(P,"-message"),placeholder:i,onFocus:f,onKeyDown:O,disabled:r}),Object(n.createElement)("div",{className:"bwf-label"},l)),s&&Object(n.createElement)(d.Popover,{className:"bwf-calendar-input-error bwf-tooltip",focusOnMount:!1,position:y},s),Object(n.createElement)("span",{className:"bwf-calender-custom-icon"},Object(n.createElement)(m.a,{icon:"calender-1",width:"16",height:"16"})),Object(n.createElement)("p",{className:"screen-reader-text",id:"".concat(P,"-message")},s||c))});E.propTypes={disabled:u.a.bool,value:u.a.string,onChange:u.a.func,dateFormat:u.a.string,label:u.a.string,describedBy:u.a.string,error:u.a.string,errorPosition:u.a.string,onFocus:u.a.func,onKeyDown:u.a.func};var y=E,v=r(538),P=r(3);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function D(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}function h(e,t,r){return t=M(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],M(e).constructor):t.apply(e,r))}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,t,[e])).state={lastCurrentMonth:a()(),rangeKey:Object(P.z)()},r.onDatesChange=r.onDatesChange.bind(r),r.onFocusChange=r.onFocusChange.bind(r),r.onInputChange=r.onInputChange.bind(r),r.nodeRef=Object(n.createRef)(),r.keepFocusInside=r.keepFocusInside.bind(r),r.handleEndPrevClick=r.handleEndPrevClick.bind(r),r.handleStartPrevClick=r.handleStartPrevClick.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),r=t,(o=[{key:"onDatesChange",value:function(e){var t=e.startDate,r=e.endDate,n=this.props,o=n.onUpdate;n.shortDateFormat,o({after:t,before:r,afterText:t?t.format("MM/DD/YYYY"):"",beforeText:r?r.format("MM/DD/YYYY"):"",afterError:null,beforeError:null})}},{key:"onFocusChange",value:function(e){this.props.onUpdate({focusedInput:e||"startDate"})}},{key:"onInputChange",value:function(e,t){var r=t.target.value,n=this.props,o=n.after,i=n.before,l=(n.shortDateFormat,Object(O.o)(e,r,i,o,"MM/DD/YYYY")),c=l.date,_=l.error;this.setState({lastCurrentMonth:a()(c).add(1,"month")}),this.props.onUpdate(w(w(w({},e,c),e+"Text",r),e+"Error",r.length>0?_:null)),"before"!==e||_||this.setState({rangeKey:Object(P.z)()})}},{key:"setTnitialVisibleMonth",value:function(e,t){return function(){var r=t||a()();return e?r.clone().subtract(1,"month"):r}}},{key:"keepFocusInside",value:function(e,t){var r=this.props.popoverRef;(!t.relatedTarget||!t.relatedTarget.classList.contains("bwf-calendar-input-text")&&null!=r&&r.current&&null!=r&&r.current.contains(t.relatedTarget))&&this.nodeRef.current.querySelector(".DayPicker_focusRegion").focus({preventScroll:!0})}},{key:"handleStartPrevClick",value:function(e){this.setState({lastCurrentMonth:a()(e).add(1,"month")})}},{key:"handleEndPrevClick",value:function(e){this.setState({lastCurrentMonth:a()(e).add(1,"month")})}},{key:"render",value:function(){var e=this,t=this.props,r=t.after,o=t.before,i=t.focusedInput,c=t.afterText,s=t.beforeText,u=t.afterError,b=t.beforeError,O=(t.shortDateFormat,t.isViewportMobile),E=t.isInvalidDate,P=a()().format("MM");return Object(n.createElement)("div",{className:_()("bwf-calendar bwf-date-range-calender",{"is-mobile":O})},Object(n.createElement)("div",{className:"bwf-calendar-inputs"},Object(n.createElement)(y,{value:c,onChange:Object(p.partial)(this.onInputChange,"after"),dateFormat:"MM/DD/YYYY",label:Object(l.__)("Start Date","wp-marketing-automations"),error:u,describedBy:Object(l.sprintf)(Object(l.__)("Date input describing a selected date range's start date in format %s","wp-marketing-automations"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("startDate")}}),Object(n.createElement)("div",{className:"bwf-calendar-inputs-to"},Object(l.__)("to","wp-marketing-automations")),Object(n.createElement)(y,{value:s,onChange:Object(p.partial)(this.onInputChange,"before"),dateFormat:"MM/DD/YYYY",label:Object(l.__)("End Date","wp-marketing-automations"),error:b,describedBy:Object(l.sprintf)(Object(l.__)("Date input describing a selected date range's end date in format %s","wp-marketing-automations"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("endDate")}})),Object(n.createElement)("div",{className:"bwf-date-picker-container bwf-calendar-react-dates",ref:this.nodeRef,onBlur:Object(p.partial)(this.keepFocusInside,"container"),tabIndex:-1},Object(n.createElement)(f.DayPickerRangeController,{onPrevMonthClick:this.handleStartPrevClick,onNextMonthClick:this.handleEndPrevClick,navNext:this.state.lastCurrentMonth.format("MM")===P?Object(n.createElement)("span",{className:"bwf-cursor-text"},Object(n.createElement)(m.a,{height:16,width:16,icon:"angle-right",color:"#9A9898"})):Object(n.createElement)(m.a,{height:16,width:16,icon:"angle-right",color:"#323232"}),navPrev:Object(n.createElement)(m.a,{height:16,width:16,icon:"angle-left",color:"#323232"}),onDatesChange:this.onDatesChange,onFocusChange:this.onFocusChange,focusedInput:i,startDate:r,endDate:o,orientation:"horizontal",numberOfMonths:2,isOutsideRange:function(e){return E&&E(e.toDate())},maxDate:a()().endOf("month"),minimumNights:0,hideKeyboardShortcutsPanel:!0,noBorder:!0,isRTL:Object(l.isRTL)(),initialVisibleMonth:this.setTnitialVisibleMonth(!0,o),phrases:v.a,key:this.state.rangeKey})),Object(n.createElement)("div",{className:"bwf-date-picker-actions"},Object(n.createElement)(d.Button,{isPrimary:!0,disabled:Object(p.isEmpty)(c)||Object(p.isEmpty)(s),className:Object(p.isEmpty)(c)||Object(p.isEmpty)(s)?"bwf-no-ripple":"",onClick:function(){var t={after:c,before:s};e.props.value(t),e.props.onClose()}},Object(l.__)("Done","wp-marketing-automations"))))}}])&&g(r.prototype,o),i&&g(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component),A=Object(b.withViewportMatch)({isViewportMobile:"< medium",isViewportSmall:"< small"})(T);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function L(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}function k(e,t,r){return t=B(t),function(e,t){if(t&&("object"==I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],B(e).constructor):t.apply(e,r))}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=k(this,t,[e])).state=r.getResetState(),r.onTabSelect=r.onTabSelect.bind(r),r.onUpdate=r.onUpdate.bind(r),r.controlsRef=Object(n.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),r=t,(o=[{key:"getResetState",value:function(){var e=this.props,t=e.period,r=e.compare,n=e.before,o=e.after;return{period:t,compare:r,before:n,after:o,focusedInput:"startDate",afterText:this.formatDate(o,"MM/DD/YYYY"),beforeText:this.formatDate(n,"MM/DD/YYYY"),afterError:null,beforeError:null}}},{key:"formatDate",value:function(e,t){return e&&e._isAMomentObject&&"function"==typeof e.format?e.format(t):""}},{key:"onUpdate",value:function(e){this.setState(e)}},{key:"onTabSelect",value:function(e){var t=this.props.period;"period"===e&&"custom"===t&&this.onUpdate({period:"today"})}},{key:"isFutureDate",value:function(e){return a()().isBefore(a()(e),"day")}},{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.value,o=e.popoverRef,a=this.state,i=a.after,l=a.before,c=a.focusedInput,_=a.afterText,s=a.beforeText,u=a.afterError,f=a.beforeError;return Object(n.createElement)(A,{after:i,before:l,onUpdate:this.onUpdate,isInvalidDate:this.isFutureDate,focusedInput:c,afterText:_,beforeText:s,afterError:u,beforeError:f,shortDateFormat:"MM/DD/YYYY",losesFocusTo:this.controlsRef.current,onClose:function(){return t()},value:function(e){return r(e)},popoverRef:o})}}])&&R(r.prototype,o),i&&R(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);U.propTypes={onClose:u.a.func};var K=U,W=r(173),F=r(56);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y(n.key),n)}}function Y(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:t+""}function q(e,t,r){return t=V(t),function(e,t){if(t&&("object"==N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],V(e).constructor):t.apply(e,r))}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=q(this,t,[e])).isValidSelection=r.isValidSelection.bind(r),r.popoverRef=Object(n.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(t,e),r=t,(o=[{key:"getButtonLabel",value:function(){var e=this.props.dateQuery,t=e.primaryDate,r=e.secondaryDate,n=["".concat(t.label," (").concat(t.range,")")];return this.props.hideCompare||n.push("".concat(Object(l.__)("vs.","wp-marketing-automations")," ").concat(r.label," (").concat(r.range,")")),n}},{key:"isValidSelection",value:function(e){var t=this.state,r=t.compare,n=t.after,o=t.before;return"custom"!==e||r&&n&&o}},{key:"render",value:function(){var e=this,t=this.props,r=t.disablePresets,o=void 0!==r&&r,i=t.hasValue,l=t.showIcon,c=t.onRangeSelect,s=t.dateQuery,u=t.dateRange;return Object(n.createElement)("div",{className:"bwf-range-filter"},Object(n.createElement)("div",{className:_()("bwf-range-filters-container",{"bwf-presets-disable":o})},Object(n.createElement)(F.a,{contentClassName:"bwf-filters-date-content is-from-bottom-only",expandOnMobile:!0,renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return Object(n.createElement)(W.a,{onClick:r,isOpen:t,labels:!Object(p.isEmpty)(u)&&u.hasOwnProperty("after")?["".concat(a()(u.after).format(O.a)," - ").concat(a()(u.before).format(O.a))]:["Start Date ~ End Date"],showIcon:l,hasValue:i})},renderContent:function(t){var r=t.onClose;return Object(n.createElement)(K,{hideCompare:e.props.hideCompare,onClose:r,after:u.hasOwnProperty("after")?a()(u.after):null,before:a()(u.before).endOf("day"),isValidSelection:e.isValidSelection,disablePresets:o,value:function(e){return c(e)},dateQuery:s,popoverRef:e.popoverRef})},popoverProps:{ref:this.popoverRef}})))}}])&&x(r.prototype,o),i&&x(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component),H=r(12);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(e){var t=e.value,r=e.rule,o=e.setData,l=e.returnPeriod,c=Object(n.useRef)(!0),_=Object(H.i)(),s=l&&{period:r};return Object(n.useEffect)((function(){if(Object(p.isEmpty)(r)||"specificDate"===r||"custom"===r)c.current||o("");else{_.period=r;var e=((t=_).compare="previous_year",{primary:Object(O.e)(t).primary}).primary;o(J({before:e.before.format(O.b),after:e.after.format(O.b)},s))}var t;c.current&&(c.current=!1)}),[r]),Object(n.createElement)(n.Fragment,null,"specificDate"!==r&&"custom"!==r&&Object(n.createElement)("div",{style:{marginTop:-16}}),"specificDate"===r&&Object(n.createElement)(i.a,{dateFormat:O.a,onUpdate:function(e){o(J({before:a()(e.date).endOf("day").format(O.b),after:a()(e.date).startOf("day").format(O.b)},s))},text:t&&t.before?a()(t.before).format(O.a):"Select Date",date:t&&t.before?a()(t.before).format(O.a):a()().format(O.a),hasValue:!(!t||!t.before),iconRight:!0,placeHolder:"Select Date",disabled:!0,position:"bottom right",isInvalidDate:function(e){return a()(e).isAfter(a()(),"day")},className:"is-from-bottom-only"}),"custom"===r&&Object(n.createElement)($,{key:JSON.stringify(_),dateRange:Object(p.size)(t)?t:{before:a()().endOf("day").format(O.a)},hasValue:!Object(p.isEmpty)(t),onRangeSelect:function(e){o(J({before:a()(e.before).format("YYYY-MM-DD 23:59:59"),after:a()(e.after).format(O.b)},s))},isoDateFormat:O.a,hideCompare:!0,showIcon:!0}))}},1274:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(2),a=r(1),i=(r(1240),r(147)),l=r(52);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=["getStateProp"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(){var e=Object(l.a)("email-activity"),t=e.getStateProp;return u(u({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,_)),{},{getContacts:function(){return t("contacts")||[]},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total"))},getLoadingStatus:function(){return t("isLoading")},getCountData:function(){return t("countData")},getContactCountData:function(){return t("contactCountData")},getFilterList:function(){return t("filter_list")}})},b=r(17),O=r(51),d=r(3);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=["fetch","setStateProp"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(){var e=Object(O.a)("email-activity"),t=e.fetch,r=e.setStateProp;return v(v({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,E)),{},{fetch:function(e,n,o,a,i){r("isLoading",!0),r("contactCountData",{}),t("GET",Object(d.C)("/v3/email-activity".concat(Object(b.stringify)({limit:e,offset:n,search:decodeURIComponent(o),filters:a&&JSON.stringify(a),filter_list:i},{addQueryPrefix:!0}))))},setValues:function(e,t){r(e,t)}})},w=r(359),g=r(11),D=r(1169),h=r(33),M=r(346),C=r(203),T=r(1241);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,_=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){_=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(_)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var R=function(e){switch(parseInt(e)){case 1:return Object(n.createElement)("span",{className:"bwf-tags bwf-tag-gray"},Object(a.__)("Draft","wp-marketing-automations"));case 2:return Object(n.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(a.__)("Completed","wp-marketing-automations"));case 3:return Object(n.createElement)("span",{className:"bwf-tags bwf-tag-red"},Object(a.__)("Failed","wp-marketing-automations"));case 4:return Object(n.createElement)("span",{className:"bwf-tags bwf-tag-orange"},Object(a.__)("Bounced","wp-marketing-automations"));default:return Object(n.createElement)(n.Fragment,null)}},L=[{key:"name",label:Object(a.__)("Name","wp-marketing-automations"),cellClassName:"bwf-w-210 bwf-table-col-sticky bwf-sticky-left"},{key:"source",label:Object(a.__)("Sources","wp-marketing-automations")},{key:"type",label:Object(a.__)("Type","wp-marketing-automations")},{key:"subject",label:Object(a.__)("Subject","wp-marketing-automations"),cellClassName:"bwf-word-break"},{key:"sent_on",label:Object(a.__)("Sent On","wp-marketing-automations")},{key:"status",label:Object(a.__)("Status","wp-marketing-automations")},{key:"sent",label:Object(a.__)("Sent","wp-marketing-automations"),cellClassName:"bwf-t-center"},{key:"open",label:Object(a.__)("Open","wp-marketing-automations"),cellClassName:"bwf-t-center"},{key:"click",label:Object(a.__)("Click","wp-marketing-automations"),cellClassName:"bwf-t-center"},{key:"details",label:Object(a.__)("Details","wp-marketing-automations"),cellClassName:"bwf-w-90 bwf-table-col-sticky bwf-sticky-right"}];t.default=function(){Object(w.a)(Object(a.__)("Email History","wp-marketing-automations"),"",0,"history");var e=A(Object(n.useState)({status:!1}),2),t=e[0],r=e[1],l=A(Object(n.useState)(""),2),c=l[0],_=l[1],s=A(Object(n.useState)([]),2),u=s[0],f=s[1],b=p(),O=b.getContacts,m=b.getLoading,E=b.getPerPageCount,y=b.getTotalCount,v=b.getPageNumber,P=b.getOffset,I=b.getFilterList,k=O(),B=j(),S=B.fetch,U=B.setValues,K=m(),W=v(),F=E(),N=y(),x=P(),Y=I(),q=k.map((function(e){return[{value:e.email,display:Object(n.createElement)(n.Fragment,null,Object(o.isEmpty)(Object(o.get)(e,"contact"))?Object(n.createElement)("div",null,e.hasOwnProperty("send_to")&&""!==e.send_to?e.send_to:Object(a.__)("Contact not exists","wp-marketing-automations")):Object(n.createElement)(h.a,{href:"admin.php?page=autonami&path=/contact/"+Object(o.get)(e,"contact.id")+"/email&return_to=/history",type:"bwf-crm",className:"bwf-crm-campaign-contactData-contact-link bwf-a-no-underline",key:Object(o.get)(e,"contact.id")},Object(n.createElement)(M.a,{contact:e.contact,hideJoiningDate:!0})))},{value:Object(o.get)(e,"source.id",0),display:Object(o.get)(e,"source.link",0)?Object(n.createElement)(h.a,{className:"bwf-a-no-underline",href:Object(o.get)(e,"source.link","")+"&return_to=/history"},Object(o.get)(e,"source.name","-")):Object(o.get)(e,"source.name","-")},{value:Object(o.get)(e,"source.type"),display:Object(o.get)(e,"source.type")},{value:Object(o.get)(e,"subject"),display:Object(o.get)(e,"subject","-")},{value:Object(o.get)(e,"sent_on","-"),display:Object(d.lb)(Object(o.get)(e,"sent_on","-"))},{value:e.c_status,display:R(e.c_status)},{display:Object(n.createElement)("span",{className:"bwf-crm-status bwf-crm-status-".concat(parseInt(e.c_status))}),value:""},{display:parseInt(e.open)>0?Object(n.createElement)("span",{className:"bwf-crm-status bwf-crm-status-2"}):Object(n.createElement)("span",{className:"bwf-crm-status"}),value:""},{display:parseInt(e.click)>0?Object(n.createElement)("span",{className:"bwf-crm-status bwf-crm-status-2"}):Object(n.createElement)("span",{className:"bwf-crm-status"}),value:""},{value:"view",display:Object(n.createElement)(g.a,{className:"bwf-btn-small is-light bwf-btn-gray is-secondary",onClick:function(){return r({status:!0,contact:e.contact,conversation:e})}},Object(a.__)("View","wp-marketing-automations"))}]}));Object(n.useEffect)((function(){Object(d.m)(Object(a.__)("Email History","wp-marketing-automations")),S(25,0,c,[],!0)}),[]);var V=function(e){e!==F&&(U("limit",e),S(e,x,c,Object(d.Y)(u,Y)))};return Object(n.createElement)("div",{className:"bwf-email-activity"},Object(n.createElement)("div",{className:"bwf-content-header-new"},Object(n.createElement)("div",{className:"bwf-content-header-left"},Object(n.createElement)("div",{className:"bwf-content-header-title"},Object(a.__)("Email History","wp-marketing-automations")),!K&&parseInt(N)>0&&Object(n.createElement)("div",{className:"bwf-content-header-count"},Object(a.sprintf)(Object(a.__)("(%s Results)","wp-marketing-automations"),N)))),Object(n.createElement)(i.a,{rows:q,headers:L,query:{paged:W},rowsPerPage:F,totalRows:N,isLoading:K,onPageChange:function(e){var t=(e-1)*F;U("offset",t),S(F,t,c,Object(d.Y)(u,Y))},onQueryChange:function(e){return"per_page"!==e?function(){}:V},showMenu:!1,rowHeader:!0,actions:[Object(n.createElement)(C.a,{key:"search",isLoading:K,searchTerm:c,showResultCount:!1,setSearchData:function(e){Object(o.size)(e)?_(e):_(""),S(F,0,e,u)}}),Object(n.createElement)(T.a,{filterList:null!=Y?Y:[],isLoading:!1,filterData:u,setFilterData:function(e){f(e),Object(o.isEmpty)(e)?S(F,0,c,[]):S(F,0,c,Object(d.Y)(e,Y))},key:"contact-filter"})],emptyMessage:Object(a.__)("No email activities found","wp-marketing-automations")}),Object(n.createElement)(D.a,{onRequestClose:function(){return r({status:!1})},conversation:t.conversation,contact:t.contact,isOpen:t.status}))}}}]);