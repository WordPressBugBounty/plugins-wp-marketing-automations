(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1094:function(e,t,n){"use strict";var a=n(52),r=n(358),o=Object(a.a)(r.a.campaign).getStateProp,c=Object(a.a)(r.a.recipient).getStateProp,i=Object(a.a)(r.a.conversion).getStateProp;t.a={getCampaignData:function(){return o("data")},getStep:function(){return parseInt(o("step"))},getLoading:function(){return o("isLoading")},getLisData:function(){return o("listData")},getCampaignId:function(){return parseInt(o("campaignId"))},getRecipientData:function(){return c("data")},getRecipientLoading:function(){return c("isLoading")},getRecipientCampaignId:function(){return c("campaignId")},getRecipientTotal:function(){return c("total")},getRecipientPage:function(){return parseInt(c("offset"))/parseInt(c("limit"))+1},getRecipientOffset:function(){return c("offset")},getRecipientLimit:function(){return c("limit")},getConversionData:function(){return i("data")},getConversionLoading:function(){return i("isLoading")},getConversionOffset:function(){return i("offset")},getConversionCampaignId:function(){return i("campaignId")},getConversionTotal:function(){return i("total")},getConversionPage:function(){return parseInt(i("offset"))/parseInt(i("limit"))+1},getConversionLimit:function(){return i("limit")},getExcludes:function(){var e=o("data");return e&&e.data&&Array.isArray(e.data.exclude)?e.data.exclude:[]},getEditableMode:function(){return o("editableMode")}}},1101:function(e,t,n){"use strict";var a=n(51),r=n(3),o=n(358),c=n(1094);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=Object(a.a)(o.a.campaign),t=e.fetch,n=e.setStateProp,i=Object(a.a)(o.a.recipient),s=i.fetch,l=i.setStateProp,b=Object(a.a)(o.a.conversion),f=b.fetch,m=b.setStateProp,p=c.a.getCampaignData();return{fetch:function(e){t("GET",Object(r.C)("/broadcast/".concat(e)))},setCampaignValues:function(e,t){n(e,t)},fetchRecipient:function(e,t,n){s("GET",Object(r.C)("/broadcasts/".concat(e,"/recipients?limit=").concat(t,"&offset=").concat(n)))},setRecipientsValues:function(e,t){l(e,t)},fetchConversion:function(e,t,n){f("GET",Object(r.C)("/broadcasts/".concat(e,"/conversions?limit=").concat(t,"&offset=").concat(n)))},setConversionValues:function(e,t){m(e,t)},setExclude:function(e){n("data",u(u({},p),{},{data:u(u({},p.data),{},{exclude:e})}))},resetCampaign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n("data",e),n("step",1),n("campaignId",e.id),n("isLoading",!1),n("editableMode",!1)},setEditableMode:function(e){n("editableMode",e)}}}},1117:function(e,t,n){"use strict";var a=n(0),r=n(77),o=n(1),c=n(12),i=n(17),s=n(1094),u=n(3),l=function(e,t,n){return decodeURIComponent(Object(c.f)(e,t,n))};t.a=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,f=location&&location.search?Object(i.parse)(location.search.substring(1)):{},m=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},p=m.broadcasts_nav,d=s.a.getCampaignData(),O=s.a.getCampaignId(),g=s.a.getLoading(),j={overview:{name:Object(o.__)("Overview","wp-marketing-automations"),link:l({},"/broadcast/".concat(O,"/overview"),f)},analytics:{name:Object(o.__)("Analytics","wp-marketing-automations"),link:l({},"/broadcast/".concat(O,"/analytics"),f)},recipient:{name:Object(o.__)("Engagements","wp-marketing-automations"),link:l({},"/broadcast/".concat(O,"/engagements"),f)}};Object(u.uc)()&&(j.orders={name:Object(o.__)("Orders","wp-marketing-automations"),link:l({},"/broadcast/".concat(O,"/orders"),f)});var y=Object(r.a)(),w=y.setActiveMultiple,v=y.resetHeaderMenu,h=y.setL2NavType,_=y.setL2Nav,k=y.setBackLink,E=y.setL2Title,C=y.setL2Content,P=y.setBackLinkLabel,S=y.setL2NavAlign,N=y.setPageHeader;return Object(a.useEffect)((function(){v(),n?(h("menu"),_(j)):(!t&&h("menu"),!t&&_(p)),w({leftNav:"broadcasts",rightNav:e}),t&&1===b&&(P(Object(o.__)("Email Broadcasts","wp-marketing-automations")),k(l({},"/broadcasts/email",f))),t&&2===b&&(P(Object(o.__)("SMS Broadcasts","wp-marketing-automations")),k(l({},"/broadcasts/sms",f))),t&&3===b&&(P(Object(o.__)("WhatsApp Broadcasts","wp-marketing-automations")),k(l({},"/broadcasts/whatsapp",f))),!g&&n&&E(Object(a.createElement)(a.Fragment,null,d.title)),n&&S("left"),!t&&c&&C(c),N(Object(o.__)("Broadcasts","wp-marketing-automations"))}),[e,b]),!0}},1146:function(e,t,n){"use strict";var a=n(9),r=n.n(a),o=n(3),c=n(97),i=n(1);function s(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var s=a&&a.prototype instanceof i?a:i,l=Object.create(s.prototype);return u(l,"_invoke",function(n,a,r){var o,i,s,u=0,l=r||[],b=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,s=e,f.n=n,c}};function m(n,a){for(i=n,s=a,t=0;!b&&u&&!r&&t<l.length;t++){var r,o=l[t],m=f.p,p=o[2];n>3?(r=p===a)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((r=n<2&&m<o[1])?(i=0,f.v=a,f.n=o[1]):m<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,f.n=p,i=0))}if(r||n>1)return c;throw b=!0,a}return function(r,l,p){if(u>1)throw TypeError("Generator is already running");for(b&&1===l&&m(l,p),i=l,s=p;(t=i<2?e:s)||!b;){o||(i?i<3?(i>1&&(f.n=-1),m(i,s)):f.n=s:f.v=s);try{if(u=2,o){if(i||(r="next"),t=o[r]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=e}else if((t=(b=f.n<0)?s:n.call(a,f))!==c)break}catch(t){o=e,i=1,s=t}finally{u=1}}return{value:t,done:b}}}(n,r,o),!0),l}var c={};function i(){}function l(){}function b(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(u(t={},a,(function(){return this})),t),m=b.prototype=i.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=b,u(m,"constructor",b),u(b,"constructor",l),l.displayName="GeneratorFunction",u(b,r,"GeneratorFunction"),u(m),u(m,r,"Generator"),u(m,a,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),(s=function(){return{w:o,m:p}})()}function u(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(u=function(e,t,n,a){function o(t,n){u(e,t,(function(e){return this._invoke(t,n,e)}))}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,a)}function l(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}var b=function(){var e,t=(e=s().m((function e(){var t;return s().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,r()({path:Object(o.C)("/messages/daily-limit")});case 1:if((t=e.v)&&t.result&&200==t.code){e.n=2;break}throw Error(Object(i.__)("Unable to get daily limit","wp-marketing-automations"));case 2:return e.a(2,t.result)}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){l(o,a,r,c,i,"next",e)}function i(e){l(o,a,r,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();t.a=function(){return Object(c.useQuery)(["bwfcrm-get-daily-limit"],b,{retry:!1})}},1204:function(e,t,n){},1309:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(17),o=n(1),c=n(2),i=n(51),s=n(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["fetch","setStateProp"],b=["s","page","filter","path"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=u(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var O=function(){var e=Object(i.a)("campaignList"),t=e.fetch,n=e.setStateProp;return m(m({},d(e,l)),{},{fetch:function(e,a,r,o,i,u){n("isLoading",!0),n("error",null);var l=a.s,f=(a.page,a.filter,a.path,m({offset:r,limit:o,type:e,search:l,filters:d(a,b),status:i},!Object(c.isEmpty)(u)&&{category:u.map((function(e){return e.id})).join(",")}));t("GET",Object(s.C)("/broadcasts"),f)},setCamapignListValues:function(e,t){n(e,t)}})},g=n(52);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=["getStateProp"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=j(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(){var e=Object(g.a)("campaignList"),t=e.getStateProp;return v(v({},function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,y)),{},{getCampaigns:function(){return t("campaigns")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total"))},getLoadingStatus:function(){return t("isLoading")},getPageCountData:function(){return t("countData")},getWorkerResponseCode:function(){return t("response_code")},getWorkerDelay:function(){return t("worker_delayed")}})},k=n(9),E=n.n(k),C=n(147),P=n(205),S=n(60),N=n(5),T=n(61),A=n(48),D=n(19),I=(n(1204),n(355)),L=n(357),x=n(49),B=n(6),F=n.n(B),M=n(7),R=n(149),G=n(1101),U=n(12),q=n(97),V=n(54);function W(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var s=a&&a.prototype instanceof i?a:i,u=Object.create(s.prototype);return z(u,"_invoke",function(n,a,r){var o,i,s,u=0,l=r||[],b=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,s=e,f.n=n,c}};function m(n,a){for(i=n,s=a,t=0;!b&&u&&!r&&t<l.length;t++){var r,o=l[t],m=f.p,p=o[2];n>3?(r=p===a)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((r=n<2&&m<o[1])?(i=0,f.v=a,f.n=o[1]):m<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,f.n=p,i=0))}if(r||n>1)return c;throw b=!0,a}return function(r,l,p){if(u>1)throw TypeError("Generator is already running");for(b&&1===l&&m(l,p),i=l,s=p;(t=i<2?e:s)||!b;){o||(i?i<3?(i>1&&(f.n=-1),m(i,s)):f.n=s:f.v=s);try{if(u=2,o){if(i||(r="next"),t=o[r]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=e}else if((t=(b=f.n<0)?s:n.call(a,f))!==c)break}catch(t){o=e,i=1,s=t}finally{u=1}}return{value:t,done:b}}}(n,r,o),!0),u}var c={};function i(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][a]?t(t([][a]())):(z(t={},a,(function(){return this})),t),b=u.prototype=i.prototype=Object.create(l);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,z(e,r,"GeneratorFunction")),e.prototype=Object.create(b),e}return s.prototype=u,z(b,"constructor",u),z(u,"constructor",s),s.displayName="GeneratorFunction",z(u,r,"GeneratorFunction"),z(b),z(b,r,"Generator"),z(b,a,(function(){return this})),z(b,"toString",(function(){return"[object Generator]"})),(W=function(){return{w:o,m:f}})()}function z(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(z=function(e,t,n,a){function o(t,n){z(e,t,(function(e){return this._invoke(t,n,e)}))}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,a)}function Q(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){Q(o,a,r,c,i,"next",e)}function i(e){Q(o,a,r,c,i,"throw",e)}c(void 0)}))}}var Y=function(e){var t=e.isOpen,n=e.tasks,r=e.onSuccess,c=e.onError,i=e.onRequestClose,u=e.actionType,l=n?n.length:0,b=Object(q.useMutation)(function(){var e=H(W().m((function e(t){return W().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,E()({path:Object(s.C)("/bulk-action/broadcast"),method:"DELETE",data:{ids:t}});case 1:return e.a(2,e.v)}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return b.reset()}),2500),r&&r()},onError:function(){c&&c()}}),f=function(){var e=H(W().m((function e(){return W().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,b.mutate(n.map((function(e){return e.id})));case 1:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}(),m={delete:{title:Object(o._n)("Delete Broadcast","Delete Broadcasts",l,"wp-marketing-automations"),description:Object(a.createElement)(a.Fragment,null,Object(o.__)("You are about to delete ","wp-marketing-automations"),Object(o._n)("broadcast","broadcasts",l,"wp-marketing-automations"),Object(o.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(o.__)("Delete","wp-marketing-automations"),cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),successMsg:Object(o.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(o.__)("Unable to delete broadcast","wp-marketing-automations"),confirmDescription:Object(o.__)("This action is irreversible","wp-marketing-automations")}};return Object(a.createElement)(V.a,{modalTitle:m.hasOwnProperty(u)&&m[u].hasOwnProperty("title")?m[u].title:Object(o._n)("Perform Actions","Perform Actions",l,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("description")?m[u].description:"",confirmButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmBtn")?m[u].confirmBtn:Object(o.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("cancelBtn")?m[u].cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:f,isLoading:b.isLoading,successMessage:b.isSuccess&&(m.hasOwnProperty(u)&&m[u].hasOwnProperty("successMsg")?m[u].successMsg:Object(o.__)("Actions Done!","wp-marketing-automations")),errorMessage:b.isError&&(b.error&&b.error.message?b.error.message:m.hasOwnProperty(u)&&m[u].hasOwnProperty("errorMsg")?m[u].errorMsg:Object(o.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!i&&i()},isOpen:t,confirmDescription:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmDescription")?m[u].confirmDescription:"",isDelete:!0})},J=n(44),$=n(203),K=n(11),X=n(347),Z=n(345),ee=n(26),te=n(1135);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=ne(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var s=a&&a.prototype instanceof i?a:i,u=Object.create(s.prototype);return ie(u,"_invoke",function(n,a,r){var o,i,s,u=0,l=r||[],b=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,s=e,f.n=n,c}};function m(n,a){for(i=n,s=a,t=0;!b&&u&&!r&&t<l.length;t++){var r,o=l[t],m=f.p,p=o[2];n>3?(r=p===a)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((r=n<2&&m<o[1])?(i=0,f.v=a,f.n=o[1]):m<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,f.n=p,i=0))}if(r||n>1)return c;throw b=!0,a}return function(r,l,p){if(u>1)throw TypeError("Generator is already running");for(b&&1===l&&m(l,p),i=l,s=p;(t=i<2?e:s)||!b;){o||(i?i<3?(i>1&&(f.n=-1),m(i,s)):f.n=s:f.v=s);try{if(u=2,o){if(i||(r="next"),t=o[r]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=e}else if((t=(b=f.n<0)?s:n.call(a,f))!==c)break}catch(t){o=e,i=1,s=t}finally{u=1}}return{value:t,done:b}}}(n,r,o),!0),u}var c={};function i(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][a]?t(t([][a]())):(ie(t={},a,(function(){return this})),t),b=u.prototype=i.prototype=Object.create(l);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,ie(e,r,"GeneratorFunction")),e.prototype=Object.create(b),e}return s.prototype=u,ie(b,"constructor",u),ie(u,"constructor",s),s.displayName="GeneratorFunction",ie(u,r,"GeneratorFunction"),ie(b),ie(b,r,"Generator"),ie(b,a,(function(){return this})),ie(b,"toString",(function(){return"[object Generator]"})),(ce=function(){return{w:o,m:f}})()}function ie(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(ie=function(e,t,n,a){function o(t,n){ie(e,t,(function(e){return this._invoke(t,n,e)}))}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,a)}function se(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){se(o,a,r,c,i,"next",e)}function i(e){se(o,a,r,c,i,"throw",e)}c(void 0)}))}}function le(){return(le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function be(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,c,i=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw r}}return i}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return de(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Oe={email:Object(o.__)("Email Broadcasts","wp-marketing-automations"),sms:Object(o.__)("SMS Broadcasts","wp-marketing-automations"),whatsapp:Object(o.__)("WhatsApp Broadcasts","wp-marketing-automations")},ge=function(e){var t=Object(a.useContext)(s.h),n=e.query,i=e.type,u=e.status,l=void 0===u?"all":u,b=e.onRequestSendUnopen,f=e.menuButton,m=e.pitchData,p=e.setOpenProModal,d=n.s,g=void 0===d?"":d,j=fe(Object(a.useState)({status:!1}),2),y=j[0],w=j[1],v=fe(Object(a.useState)(!1),2),h=v[0],k=v[1],B=fe(Object(a.useState)(!1),2),q=B[0],V=B[1],W=fe(Object(a.useState)({}),2),z=W[0],Q=W[1],H=fe(Object(a.useState)(!1),2),ne=H[0],ae=H[1],oe=[],ie=O(),se=_(),pe=Object(G.a)(),de=Object(s.I)(),ge=ie.fetch,je=ie.setCamapignListValues,ye=se.getCampaigns,we=se.getPageNumber,ve=se.getPerPageCount,he=se.getTotalCount,_e=se.getOffset,ke=se.getLoadingStatus,Ee=se.getPageCountData,Ce=se.getError,Pe=ye(),Se=_e(),Ne=ve(),Te=ke(),Ae=he(),De=we(),Ie=Ee(),Le=Ce(),xe=Object(a.useRef)(new AbortController),Be=Object(A.a)(Object(s.Cb)()).formatAmount,Fe=0;Object(c.isEmpty)(i)||("email"===i?Fe=1:"sms"===i?Fe=2:"whatsapp"===i&&(Fe=3));var Me=fe(Object(a.useState)([]),2),Re=Me[0],Ge=Me[1],Ue=fe(Object(a.useState)(!1),2),qe=Ue[0],Ve=Ue[1],We=fe(Object(a.useState)(""),2),ze=We[0],Qe=We[1],He=Object(te.a)({type:5,fetch:function(e){return ge(Fe,n,Se,Ne,l,e)}}),Ye=He.setAssignCategoryItems,Je=He.renderCategoryColumn,$e=He.renderCategorySelector,Ke=He.renderAssignCategoryModal,Xe=He.renderCategoryTags,Ze=He.selectedCategories,et=He.refreshCategory,tt=He.setShowProModal,nt=He.renderProModal,at=He.renderAssignCategoryButton,rt=function(){bt&&bt(),Ge([])};Object(a.useEffect)((function(){Te||V(!1)}),[Te]);var ot=Object(a.useCallback)((function(e,t){switch(e){case"delete":Ge(t),Qe(e),Ve(!0);break;case"assign_category":if(Object(s.fc)()){var n=t.map((function(e){return e.id}));Ye(n.length>1?n:n[0])}else tt(!0)}}),[]);Object(a.useEffect)((function(){k(!1),je("isLoading",!0),je("campaigns",[]),ge(Fe,n,Se,Ne,l,Ze)}),[Se,Ne,i,n.s,l]),Object(a.useEffect)((function(){if(!Te&&!h&&!Object(c.isEmpty)(Pe)||ne)try{var e={broadcast_ids:[],force:ne};Pe.map((function(t){e.broadcast_ids.push(t.id)})),E()({method:"GET",path:Object(s.C)("/broadcasts-stats?"+Object(r.stringify)(e)),signal:xe.current.signal}).then((function(e){200==e.code&&(Q(e.result),k(!0),ne&&(t(Object(o.__)("Stats Updated","wp-marketing-automations")),Object(s.Pb)(t,3e3),ae(!1)))})).catch((function(e){console.log(e)}))}catch(e){k(!0),ae(!1),console.log(e)}}),[Pe,ne]),Object(a.useEffect)((function(){return rt(),function(){je("offset",0),xe.current.abort()}}),[]);var ct=Object(a.useMemo)((function(){var e={};if(Array.isArray(Pe)){var t,n=be(Pe);try{for(n.s();!(t=n.n()).done;){var a=t.value;e[a.id]=a}}catch(e){n.e(e)}finally{n.f()}}return e}),[Pe]),it=Object(R.b)(ct),st=it.singleSelectProps,ut=it.selectAllProps,lt=it.floatingBarProps,bt=it.resetSelection,ft=it.selected,mt=void 0===ft?{}:ft,pt=Object.keys(mt).filter((function(e){return mt[e]})).length,dt=[{key:"select_template",label:Object(a.createElement)(J.a,le({type:"checkbox",checked:!1,onChange:function(){}},ut)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"campaign",label:Object(o.__)("Name","wp-marketing-automations"),isLeftAligned:!0,required:!0,cellClassName:"bwf-w-210 bwf-table-col-sticky bwf-sticky-left"}];null!==at()&&dt.push({key:"category",label:Object(o.__)("Category","wp-marketing-automations"),isLeftAligned:!0,required:!0,cellClassName:"bwf-max-w-360"}),dt.push({key:"created_on",label:Object(o.__)("Created On","wp-marketing-automations"),isLeftAligned:!0,required:!0,cellClassName:"bwf-w-180"},{key:"schedule",label:Object(o.__)("Execution Date","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-180"},{key:"contacts",label:Object(o.__)("Contacts","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-90"},{key:"sent",label:Object(o.__)("Sent","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-90"}),"sms"!==i&&dt.push({key:"open_rate",label:Object(o.__)("Open Rate","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-90"}),dt.push({key:"click_rate",label:Object(o.__)("Click Rate","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-90"}),Object(s.uc)()&&(dt.push({key:"orders",label:Object(o.__)("Orders","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-120"}),dt.push({key:"revenue",label:Object(o.__)("Revenue","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-120"})),"all"===l&&dt.push({key:"status",label:Object(o.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-30 bwf-table-col-sticky bwf-sticky-right"});var Ot,gt=function(e){e!==Ne&&je("limit",e)},jt=function(){var e=ue(ce().m((function e(a){var r;return ce().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,E()({path:Object(s.C)("/broadcast/".concat(a,"/")),method:"DELETE"}).then((function(e){200==e.code?(t(Object(o.__)("Broadcast deleted","wp-marketing-automations")),ge(Fe,n,0,Ne,l,Ze),et(!0),w({status:!1})):w({status:!0,error:!0,message:e.message})}));case 1:e.n=3;break;case 2:e.p=2,r=e.v,w({status:!0,error:!0,message:r.message});case 3:Object(s.Pb)(t,3e3);case 4:return e.a(2)}}),e,null,[[0,2]])})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=ue(ce().m((function e(a,r){var c,i;return ce().w((function(e){for(;;)switch(e.p=e.n){case 0:return 7!==parseInt(r)&&(c={1:Object(o.__)("Drafting broadcast…","wp-marketing-automations"),3:Object(o.__)("Resuming broadcast…","wp-marketing-automations"),6:Object(o.__)("Pausing broadcast…","wp-marketing-automations"),7:Object(o.__)("Canceling broadcast…","wp-marketing-automations")},t(c[r])),e.p=1,e.n=2,E()({path:Object(s.C)("/broadcast/".concat(a,"/pause-unpause")),method:"POST",data:{status:parseInt(r)}}).then((function(e){200==e.code?(t(e.message),7===parseInt(r)&&w({}),setTimeout((function(){w({}),ge(Fe,n,0,Ne,l,Ze)}),2e3)):7!==parseInt(r)?t(e.message):w({status:!0,error:!0,message:e.message})}));case 2:e.n=4;break;case 3:e.p=3,i=e.v,7!==parseInt(l)?t(i.message):w({status:!0,error:!0,message:i.message});case 4:Object(s.Pb)(t,3e3);case 5:return e.a(2)}}),e,null,[[1,3]])})));return function(t,n){return e.apply(this,arguments)}}(),wt=function(){var e=ue(ce().m((function e(a){var r,c,i=arguments;return ce().w((function(e){for(;;)switch(e.p=e.n){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],t(Object(o.__)("Cloning…","wp-marketing-automations")),e.p=1,e.n=2,E()({path:Object(s.C)("/broadcast/".concat(a,"/clone")),method:"POST",data:{created_by:Object(s.Q)(),send_to_unopen:r}}).then((function(e){200==e.code?(t(Object(o.__)("Broadcast cloned","wp-marketing-automations")),ge(Fe,n,0,Ne,l,Ze),et(!0)):t(e.message)}));case 2:e.n=4;break;case 3:e.p=3,c=e.v,t(c.message);case 4:Object(s.Pb)(t,3e3);case 5:return e.a(2)}}),e,null,[[1,3]])})));return function(t){return e.apply(this,arguments)}}(),vt=function(e){return Object(a.createElement)(S.a,{label:Object(o.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(a.createElement)(a.Fragment,null,parseInt(e.status)>1&&Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){}},Object(a.createElement)(P.a,{to:"wp-admin/admin.php?page=autonami&path=/broadcast/"+e.id,onClick:function(t){t.preventDefault(),pe.setCampaignValues("listData",e),Object(U.l)({page:"autonami",path:"/broadcast/"+parseInt(e.id)},"/",{})},type:"bwf-crm",className:"bwf-a-no-underline"},Object(a.createElement)(D.a,{justify:"flex-start"},Object(a.createElement)(D.c,null,Object(o.__)("View","wp-marketing-automations"))))),parseInt(e.status)<3&&Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){}},Object(a.createElement)(P.a,{to:"admin.php?page=autonami&path=/broadcast/".concat(e.id,"&edit=true"),type:"bwf-crm",className:"bwf-a-no-underline",onClick:function(t){t.preventDefault(),pe.setCampaignValues("listData",e),Object(U.l)({page:"autonami",path:"/broadcast/"+parseInt(e.id)},"/",{})}},Object(a.createElement)(D.a,{justify:"flex-start"},Object(a.createElement)(D.c,null,Object(o.__)("Edit","wp-marketing-automations"))))),Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){Object(s.fc)()?wt(e.id):p(!0),n()}},Object(a.createElement)(D.a,{justify:"space-between"},Object(a.createElement)(D.c,null,Object(o.__)("Duplicate","wp-marketing-automations")),!Object(s.fc)()&&Object(a.createElement)(D.c,null,s.e))),at({children:Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){Object(s.fc)()?Ye(e.id):tt(!0),n()}},Object(a.createElement)(D.a,{justify:"space-between"},Object(a.createElement)(D.c,null,Object(o.__)("Assign Category","wp-marketing-automations")),!Object(s.fc)()&&Object(a.createElement)(D.c,null,s.e)))}),4===parseInt(e.status)&&"grandchild"!==e.level&&"email"===i&&Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){Object(s.fc)()?b&&b(parseInt(e.id)):p(!0),n()}},Object(a.createElement)(D.a,{justify:"space-between"},Object(a.createElement)(D.c,null,Object(o.__)("Send to Unopen","wp-marketing-automations")),!Object(s.fc)()&&Object(a.createElement)(D.c,null,s.e))),3===parseInt(e.status)&&Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){yt(e.id,6),n()}},Object(a.createElement)(D.a,{justify:"flex-start"},Object(a.createElement)(D.c,null,Object(o.__)("Pause","wp-marketing-automations")))),6===parseInt(e.status)&&Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){yt(e.id,3),n()}},Object(a.createElement)(D.a,{justify:"flex-start"},Object(a.createElement)(D.c,null,Object(o.__)("Resume","wp-marketing-automations")))),2===parseInt(e.status)&&Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){yt(e.id,1),n()}},Object(a.createElement)(D.a,{justify:"flex-start"},Object(a.createElement)(D.c,null,Object(o.__)("Unschedule","wp-marketing-automations")))),[2,3,6].includes(parseInt(e.status))&&Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){w({status:!0,id:e.id,modalContent:Object(a.createElement)(a.Fragment,null,Object(o.__)("You are about to cancel broadcast ","wp-marketing-automations"),Object(a.createElement)("strong",null,e.title,"."),Object(o.__)(" Cancel to stop, Confirm to proceed.","wp-marketing-automations")),title:Object(o.__)("Cancel Broadcast","wp-marketing-automations"),confirmBtnText:Object(o.__)("Confirm","wp-marketing-automations"),onConfirm:function(t){w(re(re({},t),{},{status:!0,id:e.id,loading:!0})),yt(e.id,7)}}),n()}},Object(a.createElement)(D.a,{justify:"flex-start"},Object(a.createElement)(D.c,null,Object(o.__)("Cancel","wp-marketing-automations")))),Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){w({status:!0,id:e.id,entityName:e.title,title:Object(o.__)("Delete Broadcast","wp-marketing-automations"),confirmBtnText:Object(o.__)("Delete","wp-marketing-automations"),onConfirm:function(t){w(re(re({},t),{},{status:!0,id:e.id,loading:!0})),jt(e.id)}}),n()}},Object(a.createElement)(D.a,{justify:"flex-start"},Object(a.createElement)(D.c,null,Object(o.__)("Delete","wp-marketing-automations")))))}})},ht=function(e){return Object(a.createElement)("a",{href:"admin.php?page=autonami&path=/broadcast/"+e.id,onClick:function(t){t.preventDefault(),pe.setCampaignValues("listData",e),Object(U.l)({path:"/broadcast/"+parseInt(e.id),return_to:"/broadcasts/".concat(i,"/").concat(l)},"/",n)},className:"bwf-a-no-underline"},Object(a.createElement)("b",null,e.title.charAt(0).toUpperCase()+e.title.slice(1)+" "))},_t=function(e){if(!h)return Object(a.createElement)("div",{className:"bwf-placeholder-temp bwf-w-60",title:"Loading"},"Loading");var t=z.hasOwnProperty(e.id)?z[e.id]:{};return t.hasOwnProperty("revenue")&&parseFloat(t.revenue)>0?Object(a.createElement)("span",{className:"bwf-tags bwf-tag-revenue"},Be(parseFloat(t.revenue))):" - "},kt=function(e){if(!h)return Object(a.createElement)("div",{className:"bwf-placeholder-temp bwf-w-60",title:Object(o.__)("Loading","wp-marketing-automations")},Object(o.__)("Loading","wp-marketing-automations"));var t=z.hasOwnProperty(e.id)?z[e.id]:{};return t.hasOwnProperty("conversions")&&parseFloat(t.conversions)>0?Object(a.createElement)(a.Fragment,null,parseInt(t.conversions)):" - "},Et=function(e){if(!h)return Object(a.createElement)("div",{className:"bwf-placeholder-temp bwf-w-60",title:Object(o.__)("Loading","wp-marketing-automations")},Object(o.__)("Loading","wp-marketing-automations"));var t=z.hasOwnProperty(e.id)?z[e.id]:{};return Object(a.createElement)(a.Fragment,null,t.hasOwnProperty("sent")&&parseInt(t.sent)>0?t.sent:"-")},Ct=function(e){if(!h)return Object(a.createElement)("div",{className:"bwf-placeholder-temp bwf-w-60",title:Object(o.__)("Loading","wp-marketing-automations")},Object(o.__)("Loading","wp-marketing-automations"));var t=z.hasOwnProperty(e.id)?z[e.id]:{};return Object(a.createElement)(a.Fragment,null,t.hasOwnProperty("open_rate")&&t.open_rate?parseFloat(t.open_rate).toFixed(2)+"%":"-")},Pt=function(e){if(!h)return Object(a.createElement)("div",{className:"bwf-placeholder-temp bwf-w-60",title:Object(o.__)("Loading","wp-marketing-automations")},Object(o.__)("Loading","wp-marketing-automations"));var t=z.hasOwnProperty(e.id)?z[e.id]:{};return Object(a.createElement)(a.Fragment,null,t.hasOwnProperty("click_rate")&&t.open_rate?parseFloat(t.click_rate).toFixed(2)+"%":"-")},St=Object(a.useMemo)((function(){var e,t=[],n=be(Pe);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a){var r=re({},a);if(delete r.children,t.push(r),Array.isArray(a.children)&&!(a.children.length<=0)){var o,c=be(a.children);try{for(c.s();!(o=c.n()).done;){var i=o.value,s=re(re({},i),{},{level:"child"});if(delete s.children,t.push(s),Array.isArray(i.children)&&!(i.children.length<=0)){var u,l=be(i.children);try{for(l.s();!(u=l.n()).done;){var b=re(re({},u.value),{},{level:"grandchild"});t.push(b)}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){c.e(e)}finally{c.f()}}}}}catch(e){n.e(e)}finally{n.f()}return t}),[Pe]),Nt=[],Tt=St?St.map((function(e){e.level&&"child"===e.level?Nt.push("bwf-c-broadcast-child"):e.level&&"grandchild"===e.level?Nt.push("bwf-c-broadcast-grandchild"):Nt.push("bwf-c-broadcast-parent");var t=[{display:st.hasOwnProperty(e.id)?Object(a.createElement)(J.a,le({type:"checkbox",checked:!1,onChange:function(){}},st[e.id])):Object(a.createElement)(a.Fragment,null),value:null},{display:vt(e),value:null},{display:ht(e),value:e.title}].concat(me(null!==at()?[{display:Je(e.category||[]),value:""}]:[]),[{display:e.created_at?Object(s.lb)(e.created_at,!1,!1):" - ",value:e.created_at}]);return t.push({display:e.execution_time?Object(s.lb)(e.execution_time,!1,!0):" - ",value:e.execution_time},{display:parseInt(e.count)>0?e.count:"-",value:e.count>0?e.count:0},{display:Et(e),value:""}),"sms"!==i&&t.push({display:Ct(e),value:""}),t.push({display:Pt(e),value:""}),Object(s.uc)()&&(t.push({display:kt(e),value:""}),t.push({display:_t(e),value:""})),"all"===l&&t.push({display:de.hasOwnProperty(e.status)?Object(a.createElement)("span",{className:s.J[e.status]},de[e.status].label):e.status,value:e.status}),t})):[],At=F()("bwfcrm-campaign-list-table",{"has-search":!0}),Dt=[{slug:"status_all",name:Object(o.__)("All","wp-marketing-automations"),path:"/broadcasts/".concat(i,"/")},{slug:"status_scheduled",name:Object(o.__)("Scheduled","wp-marketing-automations"),path:"/broadcasts/".concat(i,"/scheduled")},{slug:"status_ongoing",name:Object(o.__)("Ongoing","wp-marketing-automations"),path:"/broadcasts/".concat(i,"/ongoing")},{slug:"status_completed",name:Object(o.__)("Completed","wp-marketing-automations"),path:"/broadcasts/".concat(i,"/completed")},{slug:"status_paused",name:Object(o.__)("Paused","wp-marketing-automations"),path:"/broadcasts/".concat(i,"/paused")},{slug:"status_cancelled",name:Object(o.__)("Cancelled","wp-marketing-automations"),path:"/broadcasts/".concat(i,"/cancelled")}],It=Te||q||""!==g||!["","all"].includes(l)||0!==Ae||Le||!Object(c.isEmpty)(Ze);return Object(a.createElement)(a.Fragment,null,y&&y.status&&Object(a.createElement)(N.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-no-header bwf-h--core-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},y.success?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(I.a,null),Object(a.createElement)("div",{className:"bwf-h1"},y.message))):y.error?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(L.a,null),Object(a.createElement)("div",{className:"bwf-h1"},y.message))):y.confirm?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-t-center"},!y.content&&Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(x.a,{spaceClass:y.content?"bwf_clear_15":"bwf_clear_30"}),y.content&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-h1"},Object(o.__)("Please wait…")),Object(a.createElement)("div",{className:"bwf-h4 bwf-h4-grey",style:{margin:0,fontSize:"15px"}},y.content),Object(a.createElement)("div",{className:"bwf_clear_15"})))):Object(a.createElement)(a.Fragment,null,y.title&&Object(a.createElement)("div",{className:"bwf-modal-header"},Object(a.createElement)("div",{className:"bwf-modal-heading"},y.title),Object(a.createElement)("span",{onClick:function(){return w({status:!1})},className:"bwf-modal-close"},Object(a.createElement)(M.a,{icon:"close",color:"#353030"}))),Object(a.createElement)("div",{className:"bwf-form-buttons"},Object(a.createElement)("div",{className:"bwf-h4 bwf-h4-grey"},y.hasOwnProperty("modalContent")?y.modalContent:Object(a.createElement)(a.Fragment,null,y.entityName?Object(a.createElement)(a.Fragment,null,Object(o.__)("You are about to delete broadcast ","wp-marketing-automations"),Object(a.createElement)("strong",null,y.entityName,"."),Object(o.__)(" Cancel to stop, Delete to proceed.","wp-marketing-automations")):Object(o.__)("Once you delete this item. It will no longer available.","wp-marketing-automations"))),Object(a.createElement)("div",{className:"bwf_clear_10"}),Object(a.createElement)("div",{className:"bwf_text_right"},Object(a.createElement)(K.a,{className:"bwf-cancel-btn",onClick:function(){w({status:!1})}},Object(o.__)("Cancel","wp-marketing-automations")),Object(a.createElement)(K.a,{className:"bwf-delete-btn",disabled:y.loading,isBusy:y.loading,onClick:function(){return y.onConfirm(y)}},y.hasOwnProperty("confirmBtnText")?y.confirmBtnText:Object(o.__)("Delete","wp-marketing-automations")))))),Object(a.createElement)("div",{className:"bwf-content-header-new"},Object(a.createElement)("div",{className:"bwf-content-header-left"},Object(a.createElement)("div",{className:"bwf-content-header-title"},Oe[i]),parseInt(Ae)>0&&Object(a.createElement)("div",{className:"bwf-content-header-count"},Object(o.sprintf)(Object(o._n)("(%s Result)","(%s Results)",Ae,"wp-marketing-automations"),Ae))),Object(a.createElement)("div",{className:"bwf-content-header-right"},It&&f)),Le&&Object(a.createElement)(ee.a,{status:"error"},Le.message),It?Object(a.createElement)(a.Fragment,null,Object(a.createElement)(X.a,{tabs:Dt,selected:l?"status_".concat(l):"status_all",count:Ie,disableUrlUpdate:!0,onChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je("offset",0),V(!0),Object(U.l)({page:"autonami",path:t},"/",{})}}),Object(a.createElement)("div",{className:"bwf_clear_16"}),Object(a.createElement)(C.a,{className:At,rows:Tt,headers:function(e){if(Object(c.isEmpty)(oe))return e;var t=[];return e.map((function(e){oe.includes(e.key)||(e.visible=!1),t.push(e)})),t}(dt),query:{paged:De},rowsPerPage:Ne,totalRows:Ae,isLoading:Te,onPageChange:function(e,t){je("offset",(e-1)*Ne)},onQueryChange:function(e){return"per_page"!==e?function(){}:gt},showMenu:!1,onColumnsChange:function(e,t){E()({path:Object(s.C)("/user-preference/".concat(Object(s.Q)(),"/")),method:"POST",data:{data:{campaign_column:e}}}).then((function(t){200===t.code&&(bwfcrm_contacts_data.table_column_data.campaign=e)}))},actions:pt>0?[Object(a.createElement)(R.a,le({key:"broadacst-bulk-action",actions:(Ot=null!==at(),[].concat(me(Ot?[{id:"assign_category",icon:"add-circle",isPro:!0,hint:Object(o.__)("Assign Category","wp-marketing-automations")}]:[]),[{id:"delete",icon:"trash",hint:Object(o.__)("Delete","wp-marketing-automations")}])),onAction:ot,inLine:!0,reset:rt},lt))]:[Object(a.createElement)("div",{key:"table-actions",className:"bwf-w-100p bwf-display-flex-column gap-16"},Object(a.createElement)("div",{className:"bwf-w-100p bwf-display-flex bwf-flex-wrap bwf-space-between"},Object(a.createElement)("div",{className:"bwf-display-flex"},Object(a.createElement)($.a,{isLoading:Te,searchTerm:null==n?void 0:n.s,showResultCount:!1,setSearchData:function(e){if(Object(c.size)(e))Object(U.l)({s:e},"/",n);else{var t=Object(c.cloneDeep)(n);t.hasOwnProperty("s")&&(null==t||delete t.s),V(!0),Object(U.l)(t,"/",{})}}}),$e({disabled:Te})),Object(a.createElement)("div",{className:"bwf-display-flex gap-12"},Object(a.createElement)(K.a,{isGray:!0,className:"bwf-btn-small bwf-btn-gray is-light",title:Object(o.__)("Refresh Stats","wp-marketing-automations"),onClick:function(){return k(!1),void ae(!0)},disabled:!h,isBusy:!h&&ne},Object(a.createElement)(M.a,{icon:"retry",size:16}),Object(o.__)("Refresh","wp-marketing-automations")))),Xe())],rowHeader:!0,emptyMessage:Object(o.__)("No broadcasts found","wp-marketing-automations"),rowClasses:Nt})):Object(a.createElement)(Z.a,{data:m}),Object(a.createElement)(Y,{tasks:Re,isOpen:qe,onSuccess:function(){ge(Fe,n,Se,Ne,l,Ze),et(!0),rt()},onError:rt,onRequestClose:function(){return Ve(!1)},screenType:"broadcast",screenTypeId:"broadcast-bulk-action",actionType:ze}),Ke({items:Pe}),nt({proLink:Object(s.ib)("upgrade",{utm_medium:"Broadcast+Categories+Upgrade+Modal"})}))},je=n(200);function ye(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var s=a&&a.prototype instanceof i?a:i,u=Object.create(s.prototype);return we(u,"_invoke",function(n,a,r){var o,i,s,u=0,l=r||[],b=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,s=e,f.n=n,c}};function m(n,a){for(i=n,s=a,t=0;!b&&u&&!r&&t<l.length;t++){var r,o=l[t],m=f.p,p=o[2];n>3?(r=p===a)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((r=n<2&&m<o[1])?(i=0,f.v=a,f.n=o[1]):m<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,f.n=p,i=0))}if(r||n>1)return c;throw b=!0,a}return function(r,l,p){if(u>1)throw TypeError("Generator is already running");for(b&&1===l&&m(l,p),i=l,s=p;(t=i<2?e:s)||!b;){o||(i?i<3?(i>1&&(f.n=-1),m(i,s)):f.n=s:f.v=s);try{if(u=2,o){if(i||(r="next"),t=o[r]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=e}else if((t=(b=f.n<0)?s:n.call(a,f))!==c)break}catch(t){o=e,i=1,s=t}finally{u=1}}return{value:t,done:b}}}(n,r,o),!0),u}var c={};function i(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][a]?t(t([][a]())):(we(t={},a,(function(){return this})),t),b=u.prototype=i.prototype=Object.create(l);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,we(e,r,"GeneratorFunction")),e.prototype=Object.create(b),e}return s.prototype=u,we(b,"constructor",u),we(u,"constructor",s),s.displayName="GeneratorFunction",we(u,r,"GeneratorFunction"),we(b),we(b,r,"Generator"),we(b,a,(function(){return this})),we(b,"toString",(function(){return"[object Generator]"})),(ye=function(){return{w:o,m:f}})()}function we(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(we=function(e,t,n,a){function o(t,n){we(e,t,(function(e){return this._invoke(t,n,e)}))}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,a)}function ve(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,c,i=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var ke=function(e){e.query;var t=e.onCloseModal,n=e.type,r=e.createUnopen,c=Object(a.useContext)(s.h),i=he(Object(a.useState)(!1),2),u=i[0],l=i[1],b=he(Object(a.useState)(""),2),f=b[0],m=b[1],p=he(Object(a.useState)({}),2),d=(p[0],p[1]),O=he(Object(a.useState)(null),2),g=O[0],j=O[1],y=he(Object(a.useState)(""),2),w=y[0],v=y[1],h=Object(G.a)().setCampaignValues;Object(a.useEffect)((function(){l(!1),d({}),j(""),v(""),m("")}),[]);var _=function(){var e,t=(e=ye().m((function e(){var t,a,i;return ye().w((function(e){for(;;)switch(e.p=e.n){case 0:return l(!0),m(""),e.p=1,t={title:g,description:w,type:n,created_by:Object(s.Q)()},r&&(a=Object(o.__)("Send to Unopen","wp-marketing-automations"),g||(j(a),t.title=a),t.createUnopen=r),e.n=2,E()({path:Object(s.C)("/broadcast/"),method:"POST",data:t}).then((function(e){200==e.code?(Object(s.bb)()||(bwfcrm_contacts_data.first_broadcast_id=1),c(e.message),h("listData",e.result),Object(U.l)({page:"autonami",path:"/broadcast/"+e.result.id},"/",{})):(l(!1),m(e.message))}));case 2:e.n=4;break;case 3:e.p=3,i=e.v,l(!1),m(i.message);case 4:Object(s.Pb)(c,3e3);case 5:return e.a(2)}}),e,null,[[1,3]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){ve(o,a,r,c,i,"next",e)}function i(e){ve(o,a,r,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){r&&_()}),[r]);var k=function(){Object(je.a)(g)?m(Object(o.__)("Name is required.","wp-marketing-automations")):(m(""),_())},C={1:Object(o.__)("Add Email Broadcast","wp-marketing-automations"),2:Object(o.__)("Add SMS Broadcast","wp-marketing-automations"),3:Object(o.__)("Add WhatsApp Broadcast","wp-marketing-automations")};return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(N.Modal,{className:"bwf-admin-modal bwf-admin-modal-480 bwf-h--core-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(a.createElement)("div",{className:"bwf-modal-header"},Object(a.createElement)("div",{className:"bwf-modal-heading"},C[n]),Object(a.createElement)("span",{onClick:function(){return t()},className:"bwf-modal-close"},Object(a.createElement)(M.a,{icon:"close",color:"#353030"}))),3!=n||Object(s.rc)()?Object(a.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&k()}},f&&Object(a.createElement)(ee.a,{status:"error",onRemove:function(){return m("")}},f),Object(a.createElement)(N.TextControl,{placeholder:Object(o.__)("Type here...","wp-marketing-automations"),autoFocus:!0,label:Object(o.__)("Name","wp-marketing-automations"),value:g||"",onChange:function(e){return j(e)},disabled:u}),Object(a.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(a.createElement)(K.a,{onClick:function(){return t()},className:"bwf-cancel-btn"},Object(o.__)("Cancel","wp-marketing-automations")),Object(a.createElement)(K.a,{isPrimary:!0,disabled:u,isBusy:u,onClick:function(){k()}},Object(o.__)("Add","wp-marketing-automations")))):Object(a.createElement)(ee.a,{status:"error",isDismissible:!1},Object(o.__)("Whats service is not configured","wp-marketing-automations"))))},Ee=n(1117),Ce=n(68),Pe=n(1146),Se=n(33),Ne=n(110),Te=n(77),Ae=n(152),De=n(40);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Ie(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ie(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,c,i=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Re={email:Object(o.__)("Email Broadcasts","wp-marketing-automations"),sms:Object(o.__)("SMS Broadcasts","wp-marketing-automations"),whatsapp:Object(o.__)("WhatsApp Broadcasts","wp-marketing-automations")},Ge={email:Object(o.__)("Email","wp-marketing-automations"),sms:Object(o.__)("SMS","wp-marketing-automations"),whatsapp:Object(o.__)("WhatsApp","wp-marketing-automations")};t.default=function(e){var t=e.match.params,n=t.type,i=void 0===n?"email":n,u=t.status,l=void 0===u?"all":u,b=location&&location.search?Object(r.parse)(location.search.substring(1)):{};Object(s.m)("Broadcasts");var f=Fe(Object(a.useState)(!1),2),m=f[0],p=f[1],d=Fe(Object(a.useState)(!0),2),g=d[0],j=d[1],y=Fe(Object(a.useState)(!1),2),w=y[0],v=y[1],h=Fe(Object(a.useState)(!1),2),k=h[0],E=h[1],C=_(),P=C.getPageCountData,S=C.getWorkerDelay,T=C.getWorkerResponseCode,A=C.getLoading,D=O(),I=D.setCamapignListValues,L=D.setLoading,x=P(),B=A(),F=T(),R=S(),G=Object(Ne.a)().getPageCountData,q=Object(Te.a)(),V=q.setPageCountData,W=q.setWorkerStatus,z=q.resetHeaderMenu,Q=G();Object(a.useEffect)((function(){return function(){return z()}}),[]),Object(a.useEffect)((function(){if(!B){var e="";parseInt(F)?e="restricted":parseInt(R)>0&&(e="cached"),W(e)}}),[R,F,B]),Object(a.useEffect)((function(){V(xe(xe({},Q),x))}),[x]),Object(a.useEffect)((function(){L(!0),I("campaigns",[])}),[i]);var H=Object(a.createElement)(N.Button,{isPrimary:!0,onClick:function(){Object(s.fc)()?(E(!1),p(!0)):v(!0)},className:"bwf-display-flex"},!Object(s.fc)()&&Object(a.createElement)(M.a,{icon:"king",size:16,color:"#fff"}),Object(o.sprintf)(Object(o.__)("Create %s Broadcast","wp-marketing-automations"),Ge[i]));Object(Ee.a)(i,Object(o.__)("ALL BROADCASTS","wp-marketing-automations"),!1,!1,("sms"!==i||!Object(c.isEmpty)(Object(s.A)()))&&H,1,x);var Y=(Object(s.fc)()?Object(Pe.a)():{}).data,J=Y||{},$=J.reached,K=void 0!==$&&$,X=J.daily_limit,te=void 0===X?0:X,ne={email:1,sms:2,whatsapp:3},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[{type:"heading",data:{title:"email"===i?Object(o.__)("Ping your contacts by initiating Email Broadcasts","wp-marketing-automations"):Object(o.sprintf)(Object(o.__)("Target your contacts by initiating %s","wp-marketing-automations"),Re[i]),desc:Object(o.sprintf)(Object(o.__)("Create personalised %s, send, and analyse statistics seamlessly.","wp-marketing-automations"),Re[i].toLowerCase())}},{type:"image-desc",data:[{img:Object(s.u)()+Object(o.sprintf)("%s-broadcast/broadcast1.png","email"===i?"email":"sms"),title:Object(o.__)("Segment contact","wp-marketing-automations"),desc:Object(o.__)("Effortlessly Organize Your Contacts: Streamline and Target.","wp-marketing-automations")},{img:Object(s.u)()+Object(o.sprintf)("%s-broadcast/broadcast2.png","email"===i?"email":"sms"),title:Object(o.__)("Prepare and Send","wp-marketing-automations"),desc:Object(o.sprintf)(Object(o.__)("Craft %s content and deliver them to your audience.","wp-marketing-automations"),Re[i].toLowerCase())}]},{type:"buttons",data:{buttons:[e?{text:Object(o.__)("Go to Connectors","wp-marketing-automations"),onClick:function(){Object(U.l)({page:"autonami",path:"/connectors"},"/",{})}}:{text:Object(o.sprintf)(Object(o.__)("Create %s Broadcast","wp-marketing-automations"),Ge[i]),proCheck:!0,onClick:function(){Object(s.fc)()?(E(!1),p(!0)):v(!0)}}]}},{type:"link-wth-text",data:{text:Object(o.sprintf)(Object(o.__)("Curious about %s broadcast?","wp-marketing-automations"),Ge[i].toLowerCase()),link:Object(o.sprintf)("https://funnelkit.com/docs/autonami-2/%s-broadcasts/",Ge[i].toLowerCase()),linkText:Object(o.__)("Learn More","wp-marketing-automations")}}]};return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-broadcast-main-wrapper"},Object(a.createElement)("div",{className:"bwf-broadcast-section-sidebar"},Object(a.createElement)(Ae.a,{showHeaderLabal:!0})),Object(a.createElement)("div",{className:"bwf-broadcast-section-body"},0!==s.q?Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Ce.a,null),Object(s.fc)()&&"email"===i&&!!K&&!!g&&Object(a.createElement)(ee.a,{status:"warning",onRemove:function(){return j(!1)}},"".concat(Object(o.__)("Daily sending limit of","wp-marketing-automations")," ").concat(te," ").concat(Object(o.__)(" emails has been reached today. To send out more emails, go to ","wp-marketing-automations")," "),Object(a.createElement)(Se.a,{href:"admin.php?page=autonami&path=/settings",className:"bwf-a-no-underline"},Object(o.__)("Settings > Emails","wp-marketing-automations")),Object(o.__)(" to increase the limit.","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwfcrm-campaign-list"},Object(s.fc)()&&"sms"===i&&Object(c.isEmpty)(Object(s.A)())?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-content-header-new"},Object(a.createElement)("div",{className:"bwf-content-header-left"},Object(a.createElement)("div",{className:"bwf-content-header-title"},Re[i]))),Object(a.createElement)(Z.a,{data:ae(!0)})):Object(a.createElement)(ge,{query:b,type:i,status:l,onRequestSendUnopen:function(e){Object(s.fc)()?(E(e),p(!0)):v(!0)},menuButton:H,pitchData:ae(),setOpenProModal:v}))):Object(a.createElement)("div",{className:"bwfcrm-campaign-list"},Object(a.createElement)("div",{className:"bwf-content-header-new"},Object(a.createElement)("div",{className:"bwf-content-header-left"},Object(a.createElement)("div",{className:"bwf-content-header-title"},Re[i]),!Object(s.fc)()&&s.e)),Object(a.createElement)(Z.a,{data:ae()})))),m&&Object(a.createElement)(ke,{query:b,createUnopen:k,onCloseModal:function(){return p(!1)},type:ne.hasOwnProperty(i)?ne[i]:1}),!Object(s.fc)()&&Object(a.createElement)(De.b,{isOpen:w,onRequestClose:function(){return v(!1)},modalContent:{isFeature:!0,featureTitle:Object(o.sprintf)(Object(o.__)("%s Broadcast","wp-marketing-automations"),Ge[i]),proLink:Object(s.ib)("upgrade",{utm_medium:"Create+".concat(Ge[i],"+Broadcast+Upgrade+Modal")}),image:Object(s.vb)("".concat(i,"-broadcast.png")),benefit:Object(o.sprintf)(Object(o.__)("Unlock %s Broadcast and other awesome features.","wp-marketing-automations"),Ge[i])}}))}}}]);