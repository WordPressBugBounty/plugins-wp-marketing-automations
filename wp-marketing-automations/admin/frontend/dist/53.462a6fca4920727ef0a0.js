(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1128:function(t,e,n){"use strict";var r=n(0),o=n(96),a=n(9),i=n.n(a),c=n(3),u=n(66),s=n(1);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=j(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var m={};function p(){}function h(){}function b(){}var d={};c(d,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(x([])));g&&g!==e&&n.call(g,o)&&(d=g);var v=b.prototype=p.prototype=Object.create(d);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var f=u.arg,m=f.value;return m&&"object"==l(m)&&n.call(m,"__await")?e.resolve(m.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(m).then((function(t){f.value=t,i(f)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function j(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=b,c(v,"constructor",b),c(b,"constructor",h),h.displayName=c(b,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},w(O.prototype),c(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new O(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},t}function m(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){m(a,r,o,i,c,"next",t)}function c(t){m(a,r,o,i,c,"throw",t)}i(void 0)}))}}e.a=function(t){var e=t.isOpen,n=t.tasks,a=t.onSuccess,l=t.onError,m=t.onRequestClose,h=t.actionType,b=(t.screenType,t.screenTypeId),d=Object(r.useContext)(c.h),y=n?n.length:0,g=Object(o.useMutation)(function(){var t=p(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i()({path:Object(c.y)("/automation/bulk-action"),method:"POST",data:{action:h,a_cids:e,status:b}}).then((function(t){d(t.message),Object(c.Eb)(d,2e3)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return g.reset()}),2500),a&&setTimeout((function(){return a()}),2e3)},onError:function(){l&&l()}}),v=function(){var t=p(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.mutate(n.map((function(t){return t.ID})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w={delete:{title:Object(s._n)("Delete Automation for Contact","Delete Automation for Contacts",y,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(s.__)("You are about to delete ","wp-marketing-automations"),Object(s._n)("contact","contacts",y,"wp-marketing-automations"),Object(s.__)(" from this automation. This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Delete","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to delete automation for contacts","wp-marketing-automations"),confirmDescription:Object(s.__)("This action is irreversible","wp-marketing-automations")},end:{title:Object(s._n)("End Automation for Contact","End Automation for Contacts",y,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(s.__)("You are about to end automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",y,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk action has been scheduled, it will be executed within one minute.","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to end automation for contacts","wp-marketing-automations")},paused:{title:Object(s._n)("Pause Automation for Contact","Pause Automation for Contacts",y,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(s.__)("You are about to pause automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",y,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to pause automation for contacts","wp-marketing-automations")},run_now:{title:Object(s._n)("Run Automation for Contact","Run Automation for Contacts",y,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(s.__)("You are about to run automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",y,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to run automation for contacts","wp-marketing-automations")},unpaused:{title:Object(s._n)("Resume Automation for Contact","Resume Automation for Contacts",y,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(s.__)("You are about to resume automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",y,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to resume automation for contacts","wp-marketing-automations")},retry:{title:Object(s._n)("Retry Automation for Contact","Retry Automation for Contacts",y,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(s.__)("You are about to retry automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",y,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to re-run automation for contacts","wp-marketing-automations")},rerun:{title:Object(s._n)("Re-Run Automation for Contact","Re-Run Automation for Contacts",y,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(s.__)("You are about to re-run automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",y,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to re-run automation for contacts","wp-marketing-automations")},startbegin:{title:Object(s._n)("Start From Beginning Automation for Contact","Start From Beginning Automation for Contacts",y,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(s.__)("You are about to start automation from beginning for ","wp-marketing-automations"),Object(s._n)("contact","contacts",y,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to start automation from beginning for contacts","wp-marketing-automations")}};return Object(r.createElement)(u.a,{modalTitle:w.hasOwnProperty(h)&&w[h].hasOwnProperty("title")?w[h].title:Object(s._n)("Perform Actions","Perform Actions",y,"wp-marketing-automations"),deleteDescriptionText:w.hasOwnProperty(h)&&w[h].hasOwnProperty("description")?w[h].description:"",confirmButtonText:w.hasOwnProperty(h)&&w[h].hasOwnProperty("confirmBtn")?w[h].confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelButtonText:w.hasOwnProperty(h)&&w[h].hasOwnProperty("cancelBtn")?w[h].cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),onConfirm:v,isLoading:g.isLoading,successMessage:g.isSuccess&&(w.hasOwnProperty(h)&&w[h].hasOwnProperty("successMsg")?w[h].successMsg:Object(s.__)("Actions Done!","wp-marketing-automations")),errorMessage:g.isError&&(g.error&&g.error.message?g.error.message:w.hasOwnProperty(h)&&w[h].hasOwnProperty("errorMsg")?w[h].errorMsg:Object(s.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!m&&m()},isOpen:e,confirmDescription:w.hasOwnProperty(h)&&w[h].hasOwnProperty("confirmDescription")?w[h].confirmDescription:"",isDelete:!0})}},1366:function(t,e,n){},1431:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(1049),a=n(5),i=n(12),c=n(1),u=n(137),s=n(25),l=n(34),f=n.n(l),m=n(2),p=n(339);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(){b=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=j(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var d={};c(d,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(x([])));g&&g!==e&&n.call(g,o)&&(d=g);var v=p.prototype=f.prototype=Object.create(d);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==h(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function j(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=p,c(v,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},w(O.prototype),c(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new O(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function d(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var y=function(t){var e=t.selected,n=void 0===e?[]:e,o=t.placeholder,a=void 0===o?"":o,i=t.setSelected,u=function(){var t,e=(t=b().mark((function t(e){var n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(m.isArray)(e)){t.next=2;break}return t.abrupt("return");case 2:n=e.find((function(t){return f()(t,"searchTerm")})),Object(m.isUndefined)(n)&&e.length>0&&e[0].hasOwnProperty("key")&&i([e[e.length-1]]);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){d(a,r,o,i,c,"next",t)}function c(t){d(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}();return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(s.a,{autocompleter:p.a,multiple:!1,allowFreeTextSearch:!1,inlineTags:!0,selected:n,onChange:u,onRemoveTag:function(){return i([])},placeholder:""!==a?a:Object(c.__)("Search by automation","wp-marketing-automations"),showClearButton:!1,disabled:!1}))},g=n(3),v=n(6),w=n.n(v),O=n(9),j=n.n(O),_=n(17),k=n.n(_),E=n(36),x=n.n(E),L=n(19);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(){C=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new _(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return E()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var b=Object.getPrototypeOf,d=b&&b(b(k([])));d&&d!==e&&n.call(d,o)&&(h=d);var y=p.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==P(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,a,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new v(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function S(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var A={name:"contacts",className:"bwf-search-bwf-contacts-result",options:function(t){return(e=C().mark((function t(e){var n,r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x()(e)){t.next=2;break}return t.abrupt("return",[]);case 2:return n={search:e,limit:10,offset:0},t.next=5,j()({path:Object(g.y)("/v3/contacts?"+Object(L.stringify)(n)),method:"GET"});case 5:return r=t.sent,t.abrupt("return",f()(r,"result")?r.result:[]);case 7:case"end":return t.stop()}}),t)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(t){S(a,r,o,i,c,"next",t)}function c(t){S(a,r,o,i,c,"throw",t)}i(void 0)}))},function(t){return n.apply(this,arguments)})(t);var e,n},isDebounced:!0,getOptionIdentifier:function(t){return t.id},getOptionKeywords:function(t){return[t.f_name,t.l_name,t.email,t.f_name+" "+t.l_name]},getFreeTextOptions:function(t,e){return[{key:"name",label:Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name"},k()({mixedString:Object(c.__)("All contacts with names that include {{query /}}","wp-marketing-automations"),components:{query:Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},t)}})),value:{id:t,name:t,contacts:e.map((function(t){return f()(t,"value")?t.value:t})),searchTerm:t}}]},getOptionLabel:function(t,e){var n=Object(g.n)(Object(g.I)(t),e)||{};return Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":Object(g.I)(t)},n.suggestionBeforeMatch,Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch)},getOptionCompletion:function(t){return t}};function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(){T=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new _(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return E()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var b=Object.getPrototypeOf,d=b&&b(b(k([])));d&&d!==e&&n.call(d,o)&&(h=d);var y=p.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==N(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,a,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new v(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function I(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var R=function(t){var e=t.selected,n=void 0===e?[]:e,o=t.setSelected,a=function(){var t,e=(t=T().mark((function t(e){var n,r,a,i;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(m.isArray)(e)){t.next=2;break}return t.abrupt("return");case 2:n=e.find((function(t){return f()(t,"searchTerm")})),Object(m.isUndefined)(n)&&e.length>0&&e[0].hasOwnProperty("id")&&(r=e[e.length-1],a=r.hasOwnProperty("f_name")?r.f_name:"",a=r.hasOwnProperty("l_name")?a+" "+r.l_name:a,r.hasOwnProperty("email")&&(a+="( ".concat(r.email," )")),i={key:r.hasOwnProperty("id")?r.id:"",label:a,value:a},o([i]));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){I(a,r,o,i,c,"next",t)}function c(t){I(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}();return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(s.a,{autocompleter:A,multiple:!1,allowFreeTextSearch:!1,inlineTags:!0,selected:n,onChange:a,onRemoveTag:function(){return o([])},placeholder:Object(c.__)("Search by contact","wp-marketing-automations"),showClearButton:!1,disabled:!1}))},F=n(47),B=["fetch","setStateProp"];function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var Y=function(){var t=Object(F.a)("automationContactsList"),e=t.fetch,n=t.setStateProp;return M(M({},U(t,B)),{},{fetch:function(t,n,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=t.s,u={offset:n,limit:r,search:c,type:o};a.hasOwnProperty(0)&&a[0].hasOwnProperty("key")&&(u.automation=a[0].key),i.hasOwnProperty(0)&&i[0].hasOwnProperty("key")&&(u.contact=i[0].key),e("GET",Object(g.y)("/automations/contacts/"),u)},setAutomationContactsValues:function(t,e){n(t,e)}})},q=n(48),J=["getStateProp"];function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){Q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var K=function(){var t=Object(q.a)("automationContactsList"),e=t.getStateProp;return H(H({},z(t,J)),{},{getAutomationContacts:function(){return e("acontacts")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getPageOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getCountData:function(){return e("countData")}})},W=n(139),$=n(62),X=n(63),Z=n(18),tt=n(8),et=n(31),nt=n(1045),rt=n(1091),ot=n(66),at=(n(1366),n(1128)),it=n(345),ct=n.n(it),ut=n(44),st=n(324),lt=n(39),ft=n(108),mt=n(74);function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(){ht=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new _(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return E()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var b=Object.getPrototypeOf,d=b&&b(b(k([])));d&&d!==e&&n.call(d,o)&&(h=d);var y=p.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==pt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,a,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new v(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function bt(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function dt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){bt(a,r,o,i,c,"next",t)}function c(t){bt(a,r,o,i,c,"throw",t)}i(void 0)}))}}function yt(){return(yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){wt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||jt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,e){if(t){if("string"==typeof t)return _t(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(t,e):void 0}}function _t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kt=function(t){var e=[];return"completed"!==t?(["active","delayed"].includes(t)&&(e.push({id:"run_now",icon:"play",hint:Object(c.__)("Run Now","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Run Now Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Run+Now+Upgrade+Modal"})}),e.push({id:"paused",icon:"pause",hint:Object(c.__)("Pause Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Pause Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Pause+Upgrade+Modal"})})),"paused"===t&&e.push({id:"unpaused",icon:"play",hint:Object(c.__)("Resume Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Resume Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Resume+Upgrade+Modal"})}),"failed"===t&&(e.push({id:"retry",icon:"retry",hint:Object(c.__)("Retry Action","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Retry Action","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Retry+Upgrade+Modal"})}),e.push({id:"startbegin",icon:"start-beginning",hint:Object(c.__)("Re-Enter Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Re-Enter Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Re+Enter+Upgrade+Modal"})})),"inactive"!==t&&e.push({id:"end",icon:"end-status",hint:Object(c.__)("End","wp-marketing-automations")})):e.push({id:"rerun",icon:"retry",hint:Object(c.__)("Retstart Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Retstart Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Retstart+Upgrade+Modal"})}),e.push({id:"delete",icon:"trash",hint:Object(c.__)("Delete","wp-marketing-automations")}),e};e.default=function(t){var e=t.match.params.type,n=void 0===e?"failed":e,s=Object(r.useContext)(g.h),l=Object(i.i)(),f=Ot(Object(r.useState)(""),2),p=f[0],h=f[1],b=Ot(Object(r.useState)({}),2),d=b[0],v=b[1],O=Ot(Object(r.useState)([]),2),_=O[0],k=O[1],E=Ot(Object(r.useState)([]),2),x=E[0],L=E[1],P=Ot(Object(r.useState)({loading:!1,status:!1}),2),C=P[0],S=P[1],A=Y(),N=A.fetch,T=A.setAutomationContactsValues,I=K(),F=I.getAutomationContacts,B=I.getLoading,D=I.getPageOffset,M=I.getPerPageCount,G=I.getTotalCount,U=I.getPageNumber,q=I.getCountData,J=B(),V=U(),H=M(),Q=G(),z=D(),it=F(),pt=Ot(Object(r.useState)([]),2),bt=pt[0],gt=pt[1],wt=Ot(Object(r.useState)(!1),2),_t=wt[0],Et=wt[1],xt=Ot(Object(r.useState)(""),2),Lt=xt[0],Pt=xt[1],Ct=Ot(Object(r.useState)(!1),2),St=Ct[0],At=Ct[1],Nt=Ot(Object(r.useState)({isFeature:!0}),2),Tt=Nt[0],It=Nt[1],Rt=function(){Wt&&Wt(),gt([])},Ft=Object(r.useCallback)((function(t,e){gt(e),Pt(t),Et(!0)}),[]);Object(r.useEffect)((function(){Object(g.l)(Object(c.__)("Automation Contacts","wp-marketing-automations")),Rt()}),[]);var Bt=l.s,Dt=void 0===Bt?"":Bt;Object(r.useEffect)((function(){N(l,z,H,n,_,x)}),[Dt,H,z,n,_,x]),Object(o.a)("automation-contacts","","",!1,Object(r.createElement)(r.Fragment,null),0,!1,!0);var Mt=Object(ft.a)().getPageCountData,Gt=Object(mt.a)().setPageCountData,Ut=Mt(),Yt=q();Object(r.useEffect)((function(){Yt.hasOwnProperty("failed")&&Gt(vt(vt({},Ut),{},{"contact-activity":parseInt(Yt.failed)}))}),[Yt]);var qt,Jt=w()("bwfcrm-automation-contact-list-table",{"has-search":!0}),Vt=Object(r.useMemo)((function(){var t={};if(Array.isArray(it)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(it);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.ID]=r}}catch(t){n.e(t)}finally{n.f()}}return t}),[it]),Ht=Object(W.b)(Vt),Qt=Ht.singleSelectProps,zt=Ht.selectAllProps,Kt=Ht.floatingBarProps,Wt=Ht.resetSelection,$t=Ht.selected,Xt=Object.keys($t).filter((function(t){return $t[t]})).length,Zt=[{key:"select_contact",label:Object(r.createElement)(ut.a,yt({type:"checkbox",checked:!1,onChange:function(){}},zt)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"contact",label:Object(c.__)("Contact","wp-marketing-automations"),required:!0,cellClassName:"bwf-crm-col-contact bwf-w-150 bwf-table-col-sticky bwf-sticky-left "},{key:"automation",label:Object(c.__)("Automation","wp-marketing-automations"),cellClassName:"bwf-crm-col-contact-details",isLeftAligned:!1},{key:"contact-data",label:Object(c.__)("Details","wp-marketing-automations"),cellClassName:"bwf-crm-col-contact-details",isLeftAligned:!0},{key:"startedon ",label:Object(c.__)("Started On","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210",isLeftAligned:!0},{key:"last_run",label:"completed"===n?Object(c.__)("Completed On","wp-marketing-automations"):Object(c.__)("Last Run","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210",isLeftAligned:!0},"failed"===n&&{key:"error_msg",label:Object(c.__)("Reason","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210 bwf-word-break",isLeftAligned:!0},"active"===n&&{key:"next_last_run",label:Object(c.__)("Next Run Time","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210",isLeftAligned:!0},{key:"journey",label:Object(c.__)("Journey","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-90 bwf-table-col-sticky bwf-sticky-right",isLeftAligned:!0}],te=function(t){t!==H&&T("limit",t)},ee=function(){var t=dt(ht().mark((function t(e,r,o){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(Object(c.__)("Updating status…","wp-marketing-automations")),t.prev=1,t.next=4,j()({path:Object(g.y)("/automation/".concat(e,"/contact/status")),method:"POST",data:{to:o,from:r}}).then((function(t){200===t.code?(s(t.message),N(l,z,H,n)):s(t.message)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),s(t.t0.message);case 9:Object(g.Eb)(s,3e3);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,r){return t.apply(this,arguments)}}(),ne=function(){var t=dt(ht().mark((function t(e){var r,o,a=arguments;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},o=a.length>2&&void 0!==a[2]?a[2]:0,S(vt(vt({},r),{},{status:!0})),t.prev=3,t.next=6,j()({path:Object(g.y)("/automation/".concat(r.aid,"/delete-contact")),method:"DELETE",data:{trail_id:e,ac_id:o,type:n}}).then((function(t){if(200!==t.code)throw Error(Object(g.t)(null==t?void 0:t.message));S({status:!1}),s(t.message),N(l,z,H,n)})).catch((function(t){throw Error(Object(g.t)(null==t?void 0:t.message))}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),S(vt(vt({},r),{},{status:!0,error:t.t0.message}));case 11:Object(g.Eb)(s,3e3);case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),re=function(t){return Object(r.createElement)("div",{className:"bwf-display-flex-column"},Object(r.createElement)(et.a,{href:"admin.php?page=autonami&path=/automation/"+t.aid,type:"bwf-crm",className:"bwf-crm-campaign-data-contact-link bwf-a-no-underline",key:t.aid},t.hasOwnProperty("title")?t.title:"-"),t.hasOwnProperty("event")&&""!==t.event&&Object(r.createElement)("span",null,Object(c.__)("Event","wp-marketing-automations"),": ",t.event))},oe=function(t){var e=t.trail,n=void 0===e?"":e;return Object(m.isEmpty)(n)?"-":Object(r.createElement)(a.Button,{isSecondary:!0,className:"bwf-btn-small is-light bwf-btn-gray",onClick:function(){Object(g.Sb)()?(h(n),v(t)):(It(vt(vt({},Tt),{},{featureTitle:Object(c.__)("Contact Journey","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Contact+Activity+Contact+Journey+Upgrade+Modal"})})),At(!0))}},!Object(g.Sb)()&&Object(r.createElement)(tt.a,{icon:"king",size:16}),Object(c.__)("View","wp-marketing-automations"))},ae={1:Object(c.__)("Delay","wp-marketing-automations"),2:Object(c.__)("Action","wp-marketing-automations"),3:Object(c.__)("Goal","wp-marketing-automations"),4:Object(c.__)("Condition","wp-marketing-automations")},ie=function(t){var e=t.data,n=void 0===e?{}:e;if(Object(m.isEmpty)(n))return Object(r.createElement)(r.Fragment,null,"-");var o=n.action,a=void 0===o?"":o,i=n.run_time,c=void 0===i?"":i,u=n.type,s=void 0===u?"":u;return Object(r.createElement)("div",{className:"bwf-c-contact-details-cell"},!Object(m.isEmpty)(s)&&!Object(m.isEmpty)(a)&&ae.hasOwnProperty(parseInt(s))&&Object(r.createElement)(Z.a,{justify:"justify",align:"top"},Object(r.createElement)(Z.c,null,Object(r.createElement)("span",{className:"bwf_bold",style:{color:"#99752B"}},ae[parseInt(s)]),Object(m.isEmpty)(a)?"":" : "+a)),!Object(m.isEmpty)(c)&&Object(r.createElement)(Z.a,{justify:"justify",align:"top"},Object(r.createElement)(Z.c,null,Object(g.db)(c))),(Object(m.isEmpty)(s)||!ae.hasOwnProperty(parseInt(s)))&&Object(m.isEmpty)(c)&&Object(r.createElement)("span",null,"-"))},ce=function(t){var e=t.data,n=void 0===e?{}:e;return!(!n.hasOwnProperty("type")||3!==parseInt(n.type))},ue=[{slug:"failed",name:Object(c.__)("Failed","wp-marketing-automations"),path:"/automation-contacts/failed"},{slug:"paused",name:Object(c.__)("Paused","wp-marketing-automations"),path:"/automation-contacts/paused"},{slug:"delayed",name:Object(c.__)("Delayed","wp-marketing-automations"),path:"/automation-contacts/delayed"},{slug:"active",name:Object(c.__)("Active","wp-marketing-automations"),path:"/automation-contacts/active"},{slug:"completed",name:Object(c.__)("Completed","wp-marketing-automations"),path:"/automation-contacts/completed"},{slug:"inactive",name:Object(c.__)("Inactive","wp-marketing-automations"),path:"/automation-contacts/inactive"}];return Object(r.createElement)("div",{className:"bwf-automation-all-contacts-wrap"},Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(c.__)("Contact Activity","wp-marketing-automations")),parseInt(Q)>0&&Object(r.createElement)("div",{className:"bwf-content-header-count"},Object(c.sprintf)(Object(c.__)("(%s Results)","wp-marketing-automations"),Q)))),Object(r.createElement)(st.a,{tabs:ue,selected:n,count:Yt}),Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(u.a,{className:Jt,rows:it.map((function(t){var e,o,a,i,u,s,f,p,h,b,d,y,v,w,O,j=[];return j.push({display:Qt.hasOwnProperty(t.ID)?Object(r.createElement)(ut.a,yt({type:"checkbox",checked:!1,onChange:function(){}},Qt[t.ID])):Object(r.createElement)(r.Fragment,null),value:null},{display:(p=t,h=p.status,b=void 0===h?"":h,d=p.trail,y=void 0===d?"":d,v=p.ID,w=p.aid,O=void 0===w?"":w,Object(r.createElement)($.a,{label:Object(c.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var e=t.onToggle;return Object(r.createElement)(r.Fragment,null,[1,4,6].includes(parseInt(b))&&"inactive"!==n&&Object(r.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.Sb)()?ee(v,b,"now"):(It(vt(vt({},Tt),{},{featureTitle:Object(c.__)("Run Now Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Run+Now+Upgrade+Modal"})})),At(!0)),e()}},Object(r.createElement)(Z.a,{justify:"space-between"},Object(r.createElement)(Z.c,null,Object(c.__)("Run Now","wp-marketing-automations")),!Object(g.Sb)()&&Object(r.createElement)(Z.c,null,g.e))),[1,4,6].includes(parseInt(b))&&"inactive"!==n&&Object(r.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.Sb)()?ee(v,b,3):(It(vt(vt({},Tt),{},{featureTitle:Object(c.__)("Pause Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Pause+Upgrade+Modal"})})),At(!0)),e()}},Object(r.createElement)(Z.a,{justify:"space-between"},Object(r.createElement)(Z.c,null,Object(c.__)("Pause Automation","wp-marketing-automations")),!Object(g.Sb)()&&Object(r.createElement)(Z.c,null,g.e))),3===parseInt(b)&&"inactive"!==n&&Object(r.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.Sb)()?ee(v,b,1):(It(vt(vt({},Tt),{},{featureTitle:Object(c.__)("Resume Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Resume+Upgrade+Modal"})})),At(!0)),e()}},Object(r.createElement)(Z.a,{justify:"space-between"},Object(r.createElement)(Z.c,null,Object(c.__)("Resume Automation","wp-marketing-automations")),!Object(g.Sb)()&&Object(r.createElement)(Z.c,null,g.e))),2===parseInt(b)&&"inactive"!==n&&Object(r.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.Sb)()?ee(v,b,1):(It(vt(vt({},Tt),{},{featureTitle:Object(c.__)("Retry Action","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Retry+Upgrade+Modal"})})),At(!0)),e()}},Object(r.createElement)(Z.a,{justify:"space-between"},Object(r.createElement)(Z.c,null,Object(c.__)("Retry Action","wp-marketing-automations")),!Object(g.Sb)()&&Object(r.createElement)(Z.c,null,g.e))),[2].includes(parseInt(b))&&"inactive"!==n&&Object(r.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.Sb)()?ee(v,b,"startbegin"):(It(vt(vt({},Tt),{},{featureTitle:Object(c.__)("Re-Enter Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Start+From+Beginning+Upgrade+Modal"})})),At(!0)),e()}},Object(r.createElement)(Z.a,{justify:"space-between"},Object(r.createElement)(Z.c,null,Object(c.__)("Re-Enter Automation","wp-marketing-automations")),!Object(g.Sb)()&&Object(r.createElement)(Z.c,null,g.e))),!Object(m.isEmpty)(b)&&"inactive"!==n&&Object(r.createElement)(X.a,{isClickable:!0,onInvoke:function(){ee(v,b,"end"),e()}},Object(r.createElement)(Z.a,{justify:"space-between"},Object(r.createElement)(Z.c,null,Object(c.__)("End Automation","wp-marketing-automations")))),"completed"===n&&Object(r.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.Sb)()?ee(v,b,"re_run"):(It(vt(vt({},Tt),{},{featureTitle:Object(c.__)("Restart Automation","wp-marketing-automations"),proLink:Object(g.ab)("upgrade",{utm_medium:"Automation+Contact+Activity+Re+Run+Upgrade+Modal"})})),At(!0)),e()}},Object(r.createElement)(Z.a,{justify:"space-between"},Object(r.createElement)(Z.c,null,Object(c.__)("Restart Automation","wp-marketing-automations")),!Object(g.Sb)()&&Object(r.createElement)(Z.c,null,g.e))),Object(r.createElement)(X.a,{isClickable:!0,onInvoke:function(){var t={status:!0,deleteEntityName:Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{style:{fontWeight:"normal"}},Object(c.__)("contact ")),p.f_name," ",p.l_name),buttonConfirm:Object(c.__)("Delete","wp-marketing-automations"),buttonCancel:Object(c.__)("Cancel","wp-marketing-automations"),modalTitle:Object(c.__)("Delete Contact","wp-marketing-automations"),aid:O};S(vt(vt({},t),{},{onConfirm:function(){return ne(y,t,v)}})),e()}},Object(r.createElement)(Z.a,{justify:"space-between"},Object(r.createElement)(Z.c,null,Object(c.__)("Delete","wp-marketing-automations")))))}})),value:""},{display:(o=t,a=o.f_name,i=void 0===a?"":a,u=o.l_name,s=void 0===u?"":u,f=Object(g.gc)([i,s]," "),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(et.a,{href:"admin.php?page=autonami&path=/contact/"+o.cid+"&return_to=".concat(l.path),type:"bwf-crm",className:"bwf-crm-campaign-contactData-contact-link bwf-a-no-underline",key:o.cid},Object(r.createElement)("div",{className:"bwf-blue-content"},Object(m.isEmpty)(ct()(f))?"-":f)))),value:"-"},{display:re(t),value:""},{display:(e=t,Object(r.createElement)("div",{className:"bwf-c-contact-details-cell"},e.email?Object(r.createElement)(Z.a,{justify:"justify",align:"top"},Object(r.createElement)(Z.c,null,e.email)):"-",e.contact_no&&Object(r.createElement)(Z.a,{justify:"justify",align:"top"},Object(r.createElement)(Z.c,null,e.contact_no)),!e.email&&!e.contact_no&&"-")),value:""},{display:t.hasOwnProperty("c_date")?Object(g.db)(t.c_date):"-",value:t.hasOwnProperty("c_date")?t.c_date:"-"}),"active"===n&&j.push({display:ie(t),value:""}),j.push({display:t.hasOwnProperty("e_time")&&!ce(t)?Object(g.db)(t.e_time):"-",value:"-"}),"failed"===n&&j.push({display:t.hasOwnProperty("error_msg")&&!Object(m.isEmpty)(t.error_msg)?t.error_msg:"-",value:""}),j.push({display:oe(t),value:"-"}),j})),headers:Zt.filter((function(t){return!!t})),query:{paged:V},rowsPerPage:H,totalRows:Q,isLoading:J,onPageChange:function(t,e){T("offset",(t-1)*H)},onQueryChange:function(t){return"per_page"!==t?function(){}:te},rowHeader:!0,showMenu:!1,actions:Xt>0?[Object(r.createElement)(W.a,yt({key:"automation-contact-bulk-action",actions:kt(n),onAction:Ft,inLine:!0,reset:Rt},Kt))]:[Object(r.createElement)(y,{key:"automation",selected:_,setSelected:k,placeholder:Object(c.__)("Search by automation","wp-marketing-automations")}),Object(r.createElement)(R,{key:"contact",selected:x,setSelected:L})],emptyMessage:Object(c.__)("No contact activities found","wp-marketing-automations")}),Object(r.createElement)(ot.a,{modalTitle:C.modalTitle,content:C.content,deleteEntityName:C.deleteEntityName,confirmText:C.confirmText,confirmButtonText:C.buttonConfirm,cancelButtonText:C.buttonCancel,onConfirm:C.onConfirm,isLoading:C.loading,successMessage:C.success,errorMessage:C.error,onRequestClose:function(){return S({status:!1})},isOpen:C.status,isDelete:!0}),Object(r.createElement)(at.a,{tasks:bt,isOpen:_t,onSuccess:function(){N(l,z,H,n),Rt()},onError:Rt,onRequestClose:function(){return Et(!1)},screenType:"automation-contact",screenTypeId:n,actionType:Lt}),Object(g.Sb)()&&!Object(m.isEmpty)(p)&&Object(r.createElement)(a.Modal,{title:"",className:"bwf-admin-modal bwf-admin-modal-no-header bwf-admin-modal-fullscreen bwf-fullsc-modal",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-stretch-header-single"},Object(r.createElement)("div",{className:"bwf-modal-heading"},(qt="-",Object(m.isEmpty)(d)||(qt=Object(m.isEmpty)(d.f_name)&&Object(m.isEmpty)(d.l_name)?d.email:d.f_name+" "+d.l_name),qt)," ",Object(r.createElement)("span",{className:"bwf-tags bwf-tag-light-blue"},Object(c.__)("Customer Journey","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-display-flex gap-24"},Object(r.createElement)(a.Button,{isSecondary:!0,className:"bwf-btn-small is-light bwf-btn-gray",onClick:function(){Object(i.k)({page:"autonami",path:"/automation/"+d.aid},"/",{})}},Object(c.__)("View Automation","wp-marketing-automations")),Object(r.createElement)("span",{onClick:function(){h(""),v({})},className:"bwf-modal-close"},Object(r.createElement)(tt.a,{icon:"close",color:"#353030"})))),Object(r.createElement)(nt.e,null,Object(r.createElement)(rt.a,{customerData:{trail:p},isConatctTab:!0,automatonID:d.aid,hasHeader:!0}))),!Object(g.Sb)()&&Object(r.createElement)(lt.b,{isOpen:St,onRequestClose:function(){return At(!1)},modalContent:Tt}))}}}]);