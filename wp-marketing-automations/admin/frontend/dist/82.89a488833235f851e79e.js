(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1452:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a(1),o=a(1226),c=a(1091),s=a(13),i=a(33),l=a(2),m=a(1092),u=a(68),b=a(3),f=(a(8),a(1066)),d=a(1093),p=a(1067);function y(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?O(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}e.default=function(){var t=Object(c.a)(),e=t.fetchContactAnalytics,a=t.setContactAnalyticsData,O=(0,f.a.getContactAnalytics)();Object(m.a)("contacts",!1,"");var j=Object(s.i)(),w=function(t){return t.compare="previous_year",Object(i.e)(t).primary};j.hasOwnProperty("period")||(j.period="month");var _=j.period,v=j.compare,Y=j.interval,g=j.after,h=j.before;Object(r.useEffect)((function(){if(Object(b.l)("Contact Analytics"),Object(b.Wb)()){var t=j.hasOwnProperty("interval")?j.interval:"day";!function(t,a){var r=w(t),n="",o="";r&&(Object(l.isEmpty)(r.after)||(n=r.after.format("YYYY-MM-DD HH:mm:ss")),Object(l.isEmpty)(r.before)||(o=r.before.format("YYYY-MM-DD 23:59:59")),Object(l.isEmpty)(n)||Object(l.isEmpty)(o)||e(n,o,a))}(j,t)}else{for(var r=w(j),n=0,o=0,c=0,s=0,i=[],m=r.after;m.isBefore(r.before);m.add(1,"days")){var u=Math.floor(10*Math.random()),f=Math.floor(Math.random()*parseInt(u)),d=Math.floor(Math.random()*parseInt(u));n+=u,o+=f,c+=u,s+=d,i.push({date_end_gmt:m.format("YYYY-MM-DD")+" 23:59:59",date_start_gmt:m.format("YYYY-MM-DD")+" 00:00:00",end_date:m.format("YYYY-MM-DD")+" 23:59:59",interval:m.format("YYYY-MM-DD"),start_date:m.format("YYYY-MM-DD")+" 00:00:00",subtotals:{total_contacts:n,total_customers:o,new_contacts:u,unsubscribers:d}})}a("data",{totals:{total_contacts:n,total_customers:o,new_contacts:c,unsubscribers:s},intervals:i}),a("isLoading",!1)}}),[_,v,Y,g,h]);var M=function(t){if(!O||!O.hasOwnProperty("totals"))return 0;var e=O.totals;return e.hasOwnProperty(t)?e[t]:void 0},E=function(t){return[{key:"new_contacts",title:Object(n.__)("New Contacts","wp-marketing-automations"),icon:"add-user",value:M("new_contacts")},{key:"total_contacts",title:Object(n.__)("Total Contacts","wp-marketing-automations"),icon:"contact-new",value:M("total_contacts")}].concat(y(Object(b.jc)()?[{key:"total_customers",title:Object(n.__)("Total Customers","wp-marketing-automations"),icon:"visitors",value:M("total_customers")}]:[]),[{key:"unsubscribers",title:Object(n.__)("Unsubscribers","wp-marketing-automations"),icon:"unsubscribes",value:M("unsubscribers")}])};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(n.__)("Contacts","wp-marketing-automations")))),Object(r.createElement)(u.a,null),Object(r.createElement)("div",{className:"bwf-crm-analytics-wrap bwf-crm-contacts-report-wrap"},!b.Ub&&!Object(b.Wb)()&&Object(r.createElement)(p.a,{onPage:!0,modalContent:{proLink:Object(b.db)("upgrade",{utm_medium:"Contact+Analytics+Upgrade+Modal"})}}),Object(r.createElement)(o.b,{query:j},b.Ub&&Object(r.createElement)(d.a,{title:Object(n.__)("Contact Analytics","wp-marketing-analytics"),message:Object(n.__)("Use our sample data to explore Contact Analytics. See how contact and customer growth and review impact of your campaigns.","wp-marketing-automations"),proLink:Object(b.db)("upgrade",{utm_medium:"Contact+Analytics+Sample+Data+Notice"})})),Object(r.createElement)("div",{className:"bwf_clear_2"}),Object(r.createElement)(o.c,{query:j,metrics:E()}),Object(r.createElement)(o.a,{query:j,metrics:E()})))}}}]);