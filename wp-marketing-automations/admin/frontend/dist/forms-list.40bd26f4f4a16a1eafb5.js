(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1104:function(e,t,n){"use strict";var r=n(52),o=n(366);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["getStateProp"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=Object(r.a)(o.b.feed),t=e.getStateProp;return u(u({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c)),{},{getFeed:function(){return t("feed")},getStep:function(){var e=t("editMapFieldsMode"),n=t("step");return e&&"selection"===n?"mapping":n},getSelectionOptions:function(){return t("selectionOptions")},getSelectionOptionsTotal:function(){return t("selectionTotal")},getSelections:function(){return t("selection")},getSelectionValue:function(e){var n=t("selection");return n&&n[e]?n[e]:""},getLoading:function(){return t("isLoading")},getFormFields:function(){return t("fields")},getFormHeaders:function(){return t("headers")},getUpdateStepTwoStatus:function(){return t("updateStepTwoStatus")},getUpdateStepThreeStatus:function(){return t("updateStepThreeStatus")},getUpdateStatusStatus:function(){return t("updateStatusStatus")},getEditMapMode:function(){return t("editMapFieldsMode")},getListData:function(){return t("listData")}})}},1108:function(e,t,n){"use strict";var r=n(51),o=n(3),a=n(366),c=n(1104),i=n(9),u=n.n(i),s=n(0);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=["fetch","setStateProp"];function b(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,s=Object.create(u.prototype);return m(s,"_invoke",function(n,r,o){var a,i,u,s=0,l=o||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,i=0,u=e,b.n=n,c}};function m(n,r){for(i=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,a=l[t],m=b.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(i=0,b.v=r,b.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,b.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),i=l,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(b.n=-1),m(i,u)):b.n=u:b.v=u);try{if(s=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=b.n<0)?u:n.call(r,b))!==c)break}catch(t){a=e,i=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,a),!0),s}var c={};function i(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(m(t={},r,(function(){return this})),t),f=s.prototype=i.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,m(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,m(f,"constructor",s),m(s,"constructor",u),u.displayName="GeneratorFunction",m(s,o,"GeneratorFunction"),m(f),m(f,o,"Generator"),m(f,r,(function(){return this})),m(f,"toString",(function(){return"[object Generator]"})),(b=function(){return{w:a,m:p}})()}function m(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(m=function(e,t,n,r){function a(t,n){m(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function p(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){p(a,r,o,c,i,"next",e)}function i(e){p(a,r,o,c,i,"throw",e)}c(void 0)}))}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e,t,n,i=Object(s.useContext)(o.h),l=Object(r.a)(a.b.feed),m=l.fetch,p=l.setStateProp,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(l,f),v=Object(c.a)(),j=v.getFeed,w=v.getSelections,h=v.getSelectionOptions,_=j(),S=(_||{}).source,k=void 0===S?"":S,E=w(),P=h();return O(O({},y),{},{fetch:function(e){m("GET",Object(o.C)("/form-feeds/".concat(e)))},setFeed:function(e){return p("feed",e)},setStep:function(e){return p("step",e)},syncSelection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m("POST",Object(o.C)("/form-feeds/".concat(e,"/sync-selection")),{selection:t,form:k,return_all_options:n},{syncSelection:!0})},fetchMappingData:function(e){m("GET",Object(o.C)("/form-feeds/".concat(e,"/mapping-data")),{},{mappingDataFetch:!0})},setFormSource:function(e){var t=_?O(O({},_),{},{source:e}):{source:e};p("feed",t)},setSelection:function(e,t){if(P){var n=9999,r=O({},E);Object.keys(P).map((function(o){var a=P[o];a.slug===e&&(n=parseInt(o),r=O(O({},r),{},g({},e,t))),o>n&&a.slug in r&&delete r[a.slug]})),p("selection",r),p("updateFeed",!1),p("mapData",{}),p("updateStatus",1)}else p("selection",O(O({},E),{},g({},e,t)))},resetAll:function(){p("step","selection"),p("feed",null),p("selectionOptions",{}),p("selectionTotal",10),p("selection",{}),p("error",null),p("editMapFieldsMode",!1)},resetSelection:function(){p("selectionOptions",{}),p("selectionTotal",10),p("selection",{})},setFeedStatus:function(e){return p("feed",O(O({},_),{},{status:e}))},setEditMapMode:function(e){return p("editMapFieldsMode",e)},setError:function(e){return p("error",e)},updateStepTwo:(n=d(b().m((function e(t,n,r){var a,c;return b().w((function(e){for(;;)switch(e.p=e.n){case 0:return p("updateStepTwoStatus",1),e.p=1,e.n=2,u()({path:Object(o.C)("/form-feeds/".concat(t)),method:"POST",data:O(O({},n),{},{status:r})});case 2:(a=e.v)&&a.result&&a.result.id&&(p("updateStepTwoStatus",2),p("feed",a.result)),e.n=4;break;case 3:e.p=3,c=e.v,p("updateStepTwoStatus",3),console.log(c);case 4:return e.a(2)}}),e,null,[[1,3]])}))),function(e,t,r){return n.apply(this,arguments)}),resetUpdateStepTwoStatus:function(){return p("updateStepTwoStatus",null)},updateStepThree:(t=d(b().m((function e(t,n,r){var a,c,s,l;return b().w((function(e){for(;;)switch(e.p=e.n){case 0:return p("updateStepThreeStatus",1),e.p=1,a=O(O({},n),{},{status:r}),c={content:JSON.stringify(a)},e.n=2,u()({path:Object(o.C)("/form-feeds/".concat(t,"/save-email-data")),method:"POST",data:c});case 2:(s=e.v)&&s.result&&s.result.id&&(i("Form Updated"),Object(o.Pb)(i,3e3),p("editMapFieldsMode",!1),p("updateStepThreeStatus",2),p("feed",s.result)),e.n=4;break;case 3:e.p=3,l=e.v,p("updateStepThreeStatus",3),console.log(l);case 4:return e.a(2)}}),e,null,[[1,3]])}))),function(e,n,r){return t.apply(this,arguments)}),resetUpdateStepThreeStatus:function(){return p("updateStepThreeStatus",null)},setIncentivizeEmail:function(e){var t=_&&_.data?_.data:{};t.incentivize_email=e,p("feed",O(O({},_),{},{data:t}))},setMarketingStatus:function(e){var t=_&&_.data?_.data:{};t.marketing_status=e,p("feed",O(O({},_),{},{data:t}))},setAddTagEnabled:function(e){var t=_&&_.data?_.data:{};t.add_tag_enable=e,p("feed",O(O({},_),{},{data:t}))},setTagList:function(e){var t=_&&_.data?_.data:{};t.tag_to_add=e,p("feed",O(O({},_),{},{data:t}))},setRedirectMode:function(e){var t=_&&_.data?_.data:{};t.redirect_mode=e,p("feed",O(O({},_),{},{data:t}))},setRedirectUrl:function(e){var t=_&&_.data?_.data:{};t.redirect_url=e,p("feed",O(O({},_),{},{data:t}))},setNotSendToSubscribed:function(e){var t=_&&_.data?_.data:{};t.not_send_to_subscribed=e,p("feed",O(O({},_),{},{data:t}))},updateStatus:(e=d(b().m((function e(t,n){var r,a;return b().w((function(e){for(;;)switch(e.p=e.n){case 0:return p("updateStatusStatus",1),e.p=1,e.n=2,u()({path:Object(o.C)("/form-feeds/".concat(t,"/status")),method:"POST",data:{status:n}});case 2:(r=e.v)&&r.result&&r.result.id&&(p("updateStatusStatus",2),p("feed",r.result)),e.n=4;break;case 3:e.p=3,a=e.v,p("updateStatusStatus",3),console.log(a);case 4:return e.a(2)}}),e,null,[[1,3]])}))),function(t,n){return e.apply(this,arguments)}),resetUpdateStatusStatus:function(){return p("updateStatusStatus",null)},setListData:function(e){return p("listData",e)}})}},1201:function(e,t,n){},1311:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(3),a=n(9),c=n.n(a),i=n(1),u=n(60),s=n(61),l=n(19),f=n(5),b=n(147),m=n(17),p=n(12),d=n(7),y=n(1108),O=n(26),g=n(11);function v(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,s=Object.create(u.prototype);return j(s,"_invoke",function(n,r,o){var a,i,u,s=0,l=o||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,i=0,u=e,b.n=n,c}};function m(n,r){for(i=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,a=l[t],m=b.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(i=0,b.v=r,b.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,b.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),i=l,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(b.n=-1),m(i,u)):b.n=u:b.v=u);try{if(s=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=b.n<0)?u:n.call(r,b))!==c)break}catch(t){a=e,i=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,a),!0),s}var c={};function i(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(j(t={},r,(function(){return this})),t),f=s.prototype=i.prototype=Object.create(l);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,j(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,j(f,"constructor",s),j(s,"constructor",u),u.displayName="GeneratorFunction",j(s,o,"GeneratorFunction"),j(f),j(f,o,"Generator"),j(f,r,(function(){return this})),j(f,"toString",(function(){return"[object Generator]"})),(v=function(){return{w:a,m:b}})()}function j(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(j=function(e,t,n,r){function a(t,n){j(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function w(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=Object(r.useContext)(o.h),n=h(Object(r.useState)(!1),2),a=n[0],u=n[1],s=h(Object(r.useState)(""),2),l=s[0],b=s[1],m=h(Object(r.useState)(""),2),j=m[0],_=m[1],S=Object(y.a)().setListData,k=e.onCloseModal;Object(r.useEffect)((function(){u(!1),_("")}),[]);var E=function(){var e,n=(e=v().m((function e(){var n,r;return v().w((function(e){for(;;)switch(e.p=e.n){case 0:if(j){e.n=1;break}return b(Object(i.__)("Form name is required feed","wp-marketing-automations")),e.a(2);case 1:return b(""),u(!0),e.p=2,e.n=3,c()({path:Object(o.C)("/form-feeds/"),method:"POST",data:{name:j}});case 3:if(!((n=e.v)&&n.result&&n.result.id)){e.n=4;break}Object(o.fb)()||(bwfcrm_contacts_data.first_form_id=1),t(n.message),S(n.result),Object(p.l)({page:"autonami",path:"/form/".concat(n.result.id)},"/",{}),e.n=5;break;case 4:throw Error(Object(o.w)(null==n?void 0:n.message));case 5:e.n=7;break;case 6:e.p=6,r=e.v,b(r.message),u(!1);case 7:Object(o.Pb)(t,3e3);case 8:return e.a(2)}}),e,null,[[2,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){w(a,r,o,c,i,"next",e)}function i(e){w(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.createElement)(f.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-admin-m-header-new"},Object(r.createElement)("div",{className:"bwf-admin-m-title"},Object(i.__)("Add Form","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-admin-m-close",onClick:k},Object(r.createElement)(d.a,{icon:"close",size:20}))),Object(r.createElement)("div",{className:"bwf_clear_16"}),l&&Object(r.createElement)(O.a,{status:"error",onRemove:function(){return b("")}},l),Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&E()}},Object(r.createElement)(f.TextControl,{placeholder:Object(i.__)("Enter form name","wp-marketing-automations"),label:Object(i.__)("Name","wp-marketing-automations"),value:j,autoFocus:!0,onChange:function(e){return _(e)},disabled:a,autoComplete:"off"}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(g.a,{onClick:function(){return k()},className:"bwf-cancel-btn"},Object(i.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(g.a,{isPrimary:!0,disabled:a,isBusy:a,onClick:E},Object(i.__)("Add","wp-marketing-automations")))))},k=n(54),E=n(2);function P(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,s=Object.create(u.prototype);return T(s,"_invoke",function(n,r,o){var a,i,u,s=0,l=o||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,i=0,u=e,b.n=n,c}};function m(n,r){for(i=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,a=l[t],m=b.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(i=0,b.v=r,b.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,b.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),i=l,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(b.n=-1),m(i,u)):b.n=u:b.v=u);try{if(s=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=b.n<0)?u:n.call(r,b))!==c)break}catch(t){a=e,i=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,a),!0),s}var c={};function i(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(T(t={},r,(function(){return this})),t),f=s.prototype=i.prototype=Object.create(l);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,T(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,T(f,"constructor",s),T(s,"constructor",u),u.displayName="GeneratorFunction",T(s,o,"GeneratorFunction"),T(f),T(f,o,"Generator"),T(f,r,(function(){return this})),T(f,"toString",(function(){return"[object Generator]"})),(P=function(){return{w:a,m:b}})()}function T(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(T=function(e,t,n,r){function a(t,n){T(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function C(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=Object(r.useContext)(o.h),n=A(Object(r.useState)(""),2),a=n[0],u=n[1],s=e.isOpen,l=e.feedId,f=e.onRequestClose,b=e.feedName,m=e.onSuccess,p=void 0===m?E.noop:m,d=function(){var e,n=(e=P().m((function e(){var n;return P().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,c()({path:Object(o.C)("/form-feeds/".concat(l)),method:"DELETE"}).then((function(e){200==e.code&&(t(Object(i.__)("Form deleted","wp-marketing-automations")),f(!0),u(""),p())}));case 1:e.v,e.n=3;break;case 2:e.p=2,n=e.v,u(n&&n.message?n.message:Object(i.__)("Unknown error occurred","wp-marketing-automations")),console.log(a);case 3:Object(o.Pb)(t,3e3);case 4:return e.a(2)}}),e,null,[[0,2]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){C(a,r,o,c,i,"next",e)}function i(e){C(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.createElement)(k.a,{modalTitle:Object(i.__)("Delete Form","wp-marketing-automations"),confirmButtonText:Object(i.__)("Delete","wp-marketing-automations"),cancelButtonText:Object(i.__)("Cancel","wp-marketing-automations"),deleteEntityName:b,onConfirm:d,errorMessage:a,onRequestClose:function(){f(!1),u("")},isOpen:s,isDelete:!0})},x=n(6),M=n.n(x),D=n(68),G=n(77),I=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},a=Object(G.a)(),c=a.setActiveMultiple,u=a.setL2NavType,s=a.setL2Nav,l=a.resetHeaderMenu,f=a.setPageHeader,b=a.setL2Content,m=a.setPageCountData;return Object(r.useEffect)((function(){l(),c({leftNav:"forms",rightNav:e}),u("menu"),s(o.forms_nav),f(Object(i.__)("Forms","wp-marketing-automations")),t&&b(t),!Object(E.isEmpty)(n)&&m(n)}),[e,n]),!0},L=n(345),U=n(149),q=n(97);function B(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,s=Object.create(u.prototype);return R(s,"_invoke",function(n,r,o){var a,i,u,s=0,l=o||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,i=0,u=e,b.n=n,c}};function m(n,r){for(i=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,a=l[t],m=b.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(i=0,b.v=r,b.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,b.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),i=l,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(b.n=-1),m(i,u)):b.n=u:b.v=u);try{if(s=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=b.n<0)?u:n.call(r,b))!==c)break}catch(t){a=e,i=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,a),!0),s}var c={};function i(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(R(t={},r,(function(){return this})),t),f=s.prototype=i.prototype=Object.create(l);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,R(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,R(f,"constructor",s),R(s,"constructor",u),u.displayName="GeneratorFunction",R(s,o,"GeneratorFunction"),R(f),R(f,o,"Generator"),R(f,r,(function(){return this})),R(f,"toString",(function(){return"[object Generator]"})),(B=function(){return{w:a,m:b}})()}function R(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(R=function(e,t,n,r){function a(t,n){R(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function z(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){z(a,r,o,c,i,"next",e)}function i(e){z(a,r,o,c,i,"throw",e)}c(void 0)}))}}var J=function(e){var t=e.isOpen,n=e.tasks,a=e.onSuccess,u=e.onError,s=e.onRequestClose,l=e.actionType,f=n?n.length:0,b=Object(q.useMutation)(function(){var e=H(B().m((function e(t){return B().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,c()({path:Object(o.C)("/bulk-action/form"),method:"DELETE",data:{ids:t}});case 1:return e.a(2,e.v)}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return b.reset()}),2500),a&&a()},onError:function(){u&&u()}}),m=function(){var e=H(B().m((function e(){return B().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,b.mutate(n.map((function(e){return e.id})));case 1:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}(),p={delete:{title:Object(i._n)("Delete Form","Delete Forms",f,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(i.__)("You are about to delete ","wp-marketing-automations"),Object(i._n)("form","forms",f,"wp-marketing-automations"),Object(i.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(i.__)("Delete","wp-marketing-automations"),cancelBtn:Object(i.__)("Cancel","wp-marketing-automations"),successMsg:Object(i.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(i.__)("Unable to delete form feeds","wp-marketing-automations"),confirmDescription:Object(i.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(k.a,{modalTitle:p.hasOwnProperty(l)&&p[l].hasOwnProperty("title")?p[l].title:Object(i._n)("Perform Actions","Perform Actions",f,"wp-marketing-automations"),deleteDescriptionText:p.hasOwnProperty(l)&&p[l].hasOwnProperty("description")?p[l].description:"",confirmButtonText:p.hasOwnProperty(l)&&p[l].hasOwnProperty("confirmBtn")?p[l].confirmBtn:Object(i.__)("Confirm","wp-marketing-automations"),cancelButtonText:p.hasOwnProperty(l)&&p[l].hasOwnProperty("cancelBtn")?p[l].cancelBtn:Object(i.__)("Cancel","wp-marketing-automations"),onConfirm:m,isLoading:b.isLoading,successMessage:b.isSuccess&&(p.hasOwnProperty(l)&&p[l].hasOwnProperty("successMsg")?p[l].successMsg:Object(i.__)("Actions Done!","wp-marketing-automations")),errorMessage:b.isError&&(b.error&&b.error.message?b.error.message:p.hasOwnProperty(l)&&p[l].hasOwnProperty("errorMsg")?p[l].errorMsg:Object(i.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!s&&s()},isOpen:t,confirmDescription:p.hasOwnProperty(l)&&p[l].hasOwnProperty("confirmDescription")?p[l].confirmDescription:"",isDelete:!0})},Q=n(44),$=n(203),V=n(40),K=n(347),Y=n(110),W=(n(1201),n(1135));function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(){return(Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function ee(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,s=Object.create(u.prototype);return te(s,"_invoke",function(n,r,o){var a,i,u,s=0,l=o||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,i=0,u=e,b.n=n,c}};function m(n,r){for(i=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,a=l[t],m=b.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(i=0,b.v=r,b.n=a[1]):m<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,b.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,l,p){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),i=l,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(b.n=-1),m(i,u)):b.n=u:b.v=u);try{if(s=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=b.n<0)?u:n.call(r,b))!==c)break}catch(t){a=e,i=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,a),!0),s}var c={};function i(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(te(t={},r,(function(){return this})),t),f=s.prototype=i.prototype=Object.create(l);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,te(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,te(f,"constructor",s),te(s,"constructor",u),u.displayName="GeneratorFunction",te(s,o,"GeneratorFunction"),te(f),te(f,o,"Generator"),te(f,r,(function(){return this})),te(f,"toString",(function(){return"[object Generator]"})),(ee=function(){return{w:a,m:b}})()}function te(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(te=function(e,t,n,r){function a(t,n){te(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw o}}return i}}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"==typeof e)return se(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var le={1:"bwf-tags bwf-tag-orange",2:"bwf-tags bwf-tag-green",3:"bwf-tags bwf-tag-red"};t.default=function(e){var t=e.selected,n=void 0===t?"all":t;Object(o.m)(Object(i.__)("Forms","wp-marketing-automations"));var a=location&&location.search?Object(m.parse)(location.search.substring(1)):{},g=ce(Object(r.useState)(25),2),v=g[0],j=g[1],w=ce(Object(r.useState)(0),2),h=w[0],_=w[1],k=ce(Object(r.useState)(0),2),P=k[0],T=k[1],C=ce(Object(r.useState)([]),2),A=C[0],F=C[1],x=ce(Object(r.useState)(!1),2),G=x[0],q=x[1],B=ce(Object(r.useState)(!0),2),R=B[0],z=B[1],H=ce(Object(r.useState)(),2),X=H[0],te=H[1],ne=ce(Object(r.useState)(!1),2),oe=ne[0],se=ne[1],fe=ce(Object(r.useState)({}),2),be=fe[0],me=fe[1],pe=ce(Object(r.useState)(!1),2),de=pe[0],ye=pe[1],Oe=ce(Object(r.useState)(!1),2),ge=Oe[0],ve=Oe[1],je=ce(Object(r.useState)(0),2),we=je[0],he=je[1],_e=ce(Object(r.useState)(""),2),Se=_e[0],ke=_e[1],Ee=Object(y.a)().setListData,Pe=Object(o.jb)(),Te=Object(r.useRef)(new AbortController),Ce=ce(Object(r.useState)([]),2),Ae=Ce[0],Fe=Ce[1],Ne=ce(Object(r.useState)(!1),2),xe=Ne[0],Me=Ne[1],De=ce(Object(r.useState)(""),2),Ge=De[0],Ie=De[1],Le=Object(W.a)({type:7,fetch:function(e){return et({categories:e})}}),Ue=Le.setAssignCategoryItems,qe=Le.renderCategoryColumn,Be=Le.renderCategorySelector,Re=Le.renderAssignCategoryModal,ze=Le.renderCategoryTags,He=Le.selectedCategories,Je=Le.refreshCategory,Qe=Le.setShowProModal,$e=Le.renderProModal,Ve=Le.renderAssignCategoryButton,Ke=(0,Object(Y.a)().getPageCountData)(),Ye=function(){st&&st(),Fe([])},We=Object(r.useCallback)((function(e,t){switch(e){case"delete":Fe(t),Ie(e),Me(!0);break;case"assign_category":if(Object(o.fc)()){var n=t.map((function(e){return e.id}));Ue(n.length>1?n:n[0])}else Qe(!0)}}),[]),Xe=Object(r.createElement)(f.Button,{isPrimary:!0,className:"bwf-display-flex",onClick:function(){Object(o.fc)()?q(!0):se(!0)}},!Object(o.fc)()&&Object(r.createElement)(d.a,{icon:"king",size:16,color:"#fff"}),Object(r.createElement)("span",null,Object(i.__)("Create Form","wp-marketing-automations")));I("Forms",n,Xe,be);var Ze={all:0,active:2,inactive:3},et=function(){var e,t=(e=ee().m((function e(){var t,r,a,u,s,l,f,b,p,d=arguments;return ee().w((function(e){for(;;)switch(e.p=e.n){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},r=t.categories,a=void 0===r?He:r,z(!0),e.p=1,e.n=2,c()({method:"GET",path:Object(o.C)("/form-feeds".concat(Object(m.stringify)(re({offset:h,limit:v,search:nt,status:Ze[n],grab_totals:!0},!Object(E.isEmpty)(a)&&{category:a.map((function(e){return e.id})).join(",")}),{addQueryPrefix:!0}))),signal:Te.current.signal});case 2:if((u=e.v)&&u.result&&Array.isArray(u.result)){e.n=3;break}return te(Object(i.__)("Blank response returned","wp-marketing-automations")),e.a(2);case 3:s=u.total_count,l=void 0===s?0:s,f=u.result,b=void 0===f?[]:f,T(parseInt(l)),F(b),u.hasOwnProperty("count_data")?me(u.count_data):me({}),z(!1),e.n=5;break;case 4:e.p=4,"AbortError"===(p=e.v).name?console.log(p.message):(te(p&&p.message?p.message:Object(i.__)("Unknown Error Occurred","wp-marketing-automations")),z(!1));case 5:return e.a(2)}}),e,null,[[1,4]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){ae(a,r,o,c,i,"next",e)}function i(e){ae(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),tt=a.s,nt=void 0===tt?"":tt;Object(r.useEffect)((function(){0!==o.q&&et()}),[n,v,h,nt]),Object(r.useEffect)((function(){return Ye(),function(){Te.current.abort()}}),[]);var rt=Object(r.useMemo)((function(){var e={};if(Array.isArray(A)){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ue(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}(A);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.id]=r}}catch(e){n.e(e)}finally{n.f()}}return e}),[A]);Object(r.useEffect)((function(){R||ye(!1)}),[R]);var ot,at=Object(U.b)(rt),ct=at.singleSelectProps,it=at.selectAllProps,ut=at.floatingBarProps,st=at.resetSelection,lt=at.selected,ft=void 0===lt?{}:lt,bt=Object.keys(ft).filter((function(e){return ft[e]})).length,mt=[{key:"select_feed",label:Object(r.createElement)(Q.a,Z({type:"checkbox",checked:!1,onChange:function(){}},it)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"name",label:Object(i.__)("Name","wp-marketing-automations"),isLeftAligned:!0,required:!0,cellClassName:"bwf-table-col-sticky bwf-sticky-left bwf-w-300"}].concat(ie(null!==Ve()?[{key:"category",label:Object(i.__)("Category","wp-marketing-automations"),isLeftAligned:!0,required:!0,cellClassName:"bwf-max-w-360"}]:[]),[{key:"created_on",label:Object(i.__)("Created On","wp-marketing-automations"),isLeftAligned:!0,required:!0},{key:"form",label:Object(i.__)("Form","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"submissions",label:Object(i.__)("Submissions","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-100"},{key:"status",label:Object(i.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-100 "}]),pt=function(e){e!==v&&j(e)},dt=function(e){return Object(r.createElement)(u.a,{label:Object(i.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(s.a,{isClickable:!0,onInvoke:function(){Ee(e),Object(p.l)({page:"autonami",path:"/form/".concat(e.id)},"/",{}),n()}},Object(r.createElement)(l.a,{justify:"space-between"},Object(r.createElement)(l.c,null,Object(i.__)("View","wp-marketing-automations")))),Ve({children:Object(r.createElement)(s.a,{isClickable:!0,onInvoke:function(){Object(o.fc)()?Ue(e.id):Qe(!0),n()}},Object(r.createElement)(l.a,{justify:"space-between"},Object(r.createElement)(l.c,null,Object(i.__)("Assign Category","wp-marketing-automations")),!Object(o.fc)()&&Object(r.createElement)(l.c,null,o.e)))}),Object(r.createElement)(s.a,{isClickable:!0,onInvoke:function(){he(e.id),ke(e.title),ve(!0),n()}},Object(r.createElement)(l.a,{justify:"flex-start"},Object(r.createElement)(l.c,null,Object(i.__)("Delete","wp-marketing-automations")))))}})},yt=function(e){return Object(r.createElement)("a",{href:"admin.php?page=autonami&path=/form/"+e.id,type:"bwf-crm",className:"bwf-a-no-underline",onClick:function(t){t.preventDefault(),Ee(e),Object(p.l)({page:"autonami",path:"/form/".concat(e.id)},"/",{})}},Object(r.createElement)("b",null,e.title))},Ot=Array.isArray(A)?A.map((function(e){return[{display:!!ct[e.id]&&Object(r.createElement)(Q.a,Z({type:"checkbox",checked:!1,onChange:function(){}},ct[e.id])),value:null},{display:dt(e),value:null},{display:yt(e),value:e.title}].concat(ie(null!==Ve()?[{display:qe(e.category||[]),value:""}]:[]),[{display:e.created_on?Object(o.lb)(e.created_on,!1,!1):" - ",value:e.created_on},{display:e.source in Pe?Pe[e.source]:"-",value:e.source},{display:e.contacts_created&&parseInt(e.contacts_created)>0?e.contacts_created:"-",value:e.contacts_created},{display:Object(r.createElement)("span",{className:le[null==e?void 0:e.status]},e.status_text),value:e.status}])})):[],gt=M()("bwfcrm-forms-list-table",{"has-search":!0}),vt=[{type:"heading",data:{title:Object(i.__)("Easy forms, strong leads: Create forms to connect & grow","wp-marketing-automations"),desc:Object(i.__)("Increase efficiency with forms for organized and task management.","wp-marketing-automations")}},{type:"image-desc",data:[{img:Object(o.u)()+"form/form1.png",title:Object(i.__)("Integrate with your favourite form plugins","wp-marketing-automations"),desc:Object(i.__)("Map fields and creates contacts as user submits the form","wp-marketing-automations")},{img:Object(o.u)()+"form/form2.png",title:Object(i.__)("Track submissions and run automations","wp-marketing-automations"),desc:Object(i.__)("Subscribe contacts, deliver lead magnets & follow up for sales","wp-marketing-automations")}]},{type:"buttons",data:{buttons:[{text:Object(i.__)("Create Form","wp-marketing-automations"),proCheck:!0,onClick:function(){Object(o.fc)()?q(!0):se(!0)}}]}},{type:"link-wth-text",data:{text:Object(i.__)("Curious about forms?","wp-marketing-automations"),link:"https://funnelkit.com/docs/autonami-2/forms/",linkText:Object(i.__)("Learn More","wp-marketing-automations")}}],jt=0!==P||R||!["","all"].includes(n)||X||""!==nt||de,wt=[{slug:"forms_all",name:Object(i.__)("All","wp-marketing-automations"),path:"/forms/"},{slug:"forms_active",name:Object(i.__)("Active","wp-marketing-automations"),path:"/forms/active"},{slug:"forms_inactive",name:Object(i.__)("Inactive","wp-marketing-automations"),path:"/forms/inactive/"}];return Object(r.createElement)(r.Fragment,null,Object(o.fb)()&&0!==o.q?Object(r.createElement)("div",{className:"bwf-p-24 bwf-form-list-wrap"},Object(r.createElement)(D.a,null),Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(i.__)("Forms","wp-marketing-automations")),parseInt(P)>0&&Object(r.createElement)("div",{className:"bwf-content-header-count"},Object(i.sprintf)(Object(i._n)("(%s Result)","(%s Results)",parseInt(P),"wp-marketing-automations"),parseInt(P)))),Object(r.createElement)("div",{className:"bwf-content-header-right"},jt&&Xe)),X&&Object(r.createElement)(O.a,{status:"error"},X),jt?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(K.a,{tabs:wt,selected:"forms_".concat(n),count:Ke,disableUrlUpdate:!0,onChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(0),ye(!0),Object(p.l)({page:"autonami",path:t},"/",{})}}),Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(b.a,{className:gt,title:"",rows:Ot,headers:mt,query:{paged:h/v+1},rowsPerPage:v,totalRows:P,isLoading:R,onPageChange:function(e,t){_((e-1)*v)},onQueryChange:function(e){return"per_page"!==e?function(){}:pt},rowHeader:!0,showMenu:!1,actions:bt>0?[Object(r.createElement)(U.a,Z({key:"form-bulk-action",actions:(ot=null!==Ve(),[].concat(ie(ot?[{id:"assign_category",icon:"add-circle",isPro:!0,hint:Object(i.__)("Assign Category","wp-marketing-automations")}]:[]),[{id:"delete",icon:"delete",hint:Object(i.__)("Delete","wp-marketing-automations")}])),onAction:We,inLine:!0,reset:Ye},ut))]:[Object(r.createElement)("div",{key:"table-actions",className:"bwf-w-100p bwf-display-flex-column gap-16"},Object(r.createElement)("div",{className:"bwf-display-flex",key:"table-actions"},Object(r.createElement)($.a,{isLoading:R,searchTerm:null==a?void 0:a.s,showResultCount:!1,setSearchData:function(e){if(Object(E.size)(e))Object(p.l)({s:e},"/",a);else{var t=Object(E.cloneDeep)(a);t.hasOwnProperty("s")&&(null==t||delete t.s),ye(!0),Object(p.l)(t,"/",{})}}}),Be({disabled:R})),ze())],emptyMessage:Object(i.__)("No forms found","wp-marketing-automations")})):Object(r.createElement)(L.a,{data:vt}),Object(r.createElement)(N,{feedName:Se,feedId:we,isOpen:ge,onSuccess:function(){return Je(!0)},onRequestClose:function(e){ve(!1),e&&et()}})):Object(r.createElement)("div",{className:"bwf-p-24"},Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(i.__)("Forms","wp-marketing-automations")),!Object(o.fc)()&&o.e)),Object(r.createElement)(L.a,{data:vt})),G&&Object(r.createElement)(S,{query:a,onCloseModal:function(){return q(!1)}}),!Object(o.fc)()&&Object(r.createElement)(V.b,{isOpen:oe,onRequestClose:function(){return se(!1)},modalContent:{isFeature:!0,featureTitle:"Forms",proLink:Object(o.ib)("upgrade",{utm_medium:"Create+Forms+Upgrade+Modal"}),image:Object(o.vb)("forms.png"),benefit:Object(i.__)("Unlock Forms and other awesome features.","wp-marketing-automations")}}),Object(r.createElement)(J,{tasks:Ae,isOpen:xe,onSuccess:function(){et(),Je(!0),Ye()},onError:Ye,onRequestClose:function(){return Me(!1)},screenType:"form",actionType:Ge}),Re({items:A}),$e({proLink:Object(o.ib)("upgrade",{utm_medium:"Forms+Categories+Upgrade+Modal"})}))}}}]);