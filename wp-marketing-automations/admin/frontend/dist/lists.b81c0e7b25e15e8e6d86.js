(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1218:function(e,t,n){},1219:function(e,t,n){},1268:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(17),o=(n(1218),n(1)),c=n(6),i=n.n(c),s=n(2),u=n(9),l=n.n(u),f=n(5),b=n(11),m=n(19),p=n(147),O=n(60),d=n(61),j=n(3),y=n(52);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=["getStateProp"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(){var e=Object(y.a)("listdata"),t=e.getStateProp;return v(v({},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,w)),{},{getLists:function(){return t("lists")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getTotalCount:function(){return parseInt(t("total"))},getCountData:function(){return t("countData")},getContactCountData:function(){return t("contactCountData")}})},E=n(51);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C=["fetch","setStateProp"],S=["s","page","filter","path"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var L=function(){var e=Object(E.a)("listdata"),t=e.fetch,n=e.setStateProp;return N(N({},T(e,C)),{},{fetch:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.s,c=(e.page,e.filter,e.path,T(e,S)),i={offset:n,limit:r,search:o,filters:c,get_wc:Object(j.uc)(),grab_totals:a};t("GET",Object(j.C)("/v3/lists"),i)},setStateListValues:function(e){n("lists",e)},setStateListValuesByKey:function(e,t){n(e,t)}})},x=(n(1219),n(12)),A=n(7),F=n(356),M=n(110),B=n(77),G=n(149),q=n(97),R=n(54);function z(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof i?r:i,u=Object.create(s.prototype);return U(u,"_invoke",function(n,r,a){var o,i,s,u=0,l=a||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,s=e,b.n=n,c}};function m(n,r){for(i=n,s=r,t=0;!f&&u&&!a&&t<l.length;t++){var a,o=l[t],m=b.p,p=o[2];n>3?(a=p===r)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(i=0,b.v=r,b.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,b.n=p,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,l,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),i=l,s=p;(t=i<2?e:s)||!f;){o||(i?i<3?(i>1&&(b.n=-1),m(i,s)):b.n=s:b.v=s);try{if(u=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(f=b.n<0)?s:n.call(r,b))!==c)break}catch(t){o=e,i=1,s=t}finally{u=1}}return{value:t,done:f}}}(n,a,o),!0),u}var c={};function i(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(U(t={},r,(function(){return this})),t),f=u.prototype=i.prototype=Object.create(l);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,U(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=u,U(f,"constructor",u),U(u,"constructor",s),s.displayName="GeneratorFunction",U(u,a,"GeneratorFunction"),U(f),U(f,a,"Generator"),U(f,r,(function(){return this})),U(f,"toString",(function(){return"[object Generator]"})),(z=function(){return{w:o,m:b}})()}function U(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(U=function(e,t,n,r){function o(t,n){U(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,r)}function V(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){V(o,r,a,c,i,"next",e)}function i(e){V(o,r,a,c,i,"throw",e)}c(void 0)}))}}var J=function(e){var t=e.isOpen,n=e.tasks,a=e.onSuccess,c=e.onError,i=e.onRequestClose,s=e.actionType,u=n?n.length:0,f=Object(q.useMutation)(function(){var e=K(z().m((function e(t){return z().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,l()({path:Object(j.C)("/bulk-action/list"),method:"DELETE",data:{ids:t}});case 1:return e.a(2,e.v)}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return f.reset()}),2500),a&&a()},onError:function(){c&&c()}}),b=function(){var e=K(z().m((function e(){return z().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,f.mutate(n.map((function(e){return e.ID})));case 1:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}(),m={delete:{title:Object(o._n)("Delete List","Delete Lists",u,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(o.__)("You are about to delete ","wp-marketing-automations"),Object(o._n)("list","lists",u,"wp-marketing-automations"),Object(o.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(o.__)("Delete","wp-marketing-automations"),cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),successMsg:Object(o.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(o.__)("Unable to delete list","wp-marketing-automations"),confirmDescription:Object(o.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(R.a,{modalTitle:m.hasOwnProperty(s)&&m[s].hasOwnProperty("title")?m[s].title:Object(o._n)("Perform Actions","Perform Actions",u,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(s)&&m[s].hasOwnProperty("description")?m[s].description:"",confirmButtonText:m.hasOwnProperty(s)&&m[s].hasOwnProperty("confirmBtn")?m[s].confirmBtn:Object(o.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(s)&&m[s].hasOwnProperty("cancelBtn")?m[s].cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:b,isLoading:f.isLoading,successMessage:f.isSuccess&&(m.hasOwnProperty(s)&&m[s].hasOwnProperty("successMsg")?m[s].successMsg:Object(o.__)("Actions Done!","wp-marketing-automations")),errorMessage:f.isError&&(f.error&&f.error.message?f.error.message:m.hasOwnProperty(s)&&m[s].hasOwnProperty("errorMsg")?m[s].errorMsg:Object(o.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!i&&i()},isOpen:t,confirmDescription:m.hasOwnProperty(s)&&m[s].hasOwnProperty("confirmDescription")?m[s].confirmDescription:"",isDelete:!0})},Q=n(44),Y=n(203),H=n(26),$=n(40),W=n(345),X=n(48);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var s=r&&r.prototype instanceof i?r:i,u=Object.create(s.prototype);return te(u,"_invoke",function(n,r,a){var o,i,s,u=0,l=a||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,s=e,b.n=n,c}};function m(n,r){for(i=n,s=r,t=0;!f&&u&&!a&&t<l.length;t++){var a,o=l[t],m=b.p,p=o[2];n>3?(a=p===r)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(i=0,b.v=r,b.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,b.n=p,i=0))}if(a||n>1)return c;throw f=!0,r}return function(a,l,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),i=l,s=p;(t=i<2?e:s)||!f;){o||(i?i<3?(i>1&&(b.n=-1),m(i,s)):b.n=s:b.v=s);try{if(u=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(f=b.n<0)?s:n.call(r,b))!==c)break}catch(t){o=e,i=1,s=t}finally{u=1}}return{value:t,done:f}}}(n,a,o),!0),u}var c={};function i(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(te(t={},r,(function(){return this})),t),f=u.prototype=i.prototype=Object.create(l);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,te(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=u,te(f,"constructor",u),te(u,"constructor",s),s.displayName="GeneratorFunction",te(u,a,"GeneratorFunction"),te(f),te(f,a,"Generator"),te(f,r,(function(){return this})),te(f,"toString",(function(){return"[object Generator]"})),(ee=function(){return{w:o,m:b}})()}function te(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(te=function(e,t,n,r){function o(t,n){te(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,r)}function ne(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ne(o,r,a,c,i,"next",e)}function i(e){ne(o,r,a,c,i,"throw",e)}c(void 0)}))}}function ae(){return(ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,i=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"==typeof e)return le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fe=function(e){var t=e.query,n=Object(X.a)(Object(j.Cb)()).formatAmount,c=k(),u=L(),y=se(Object(r.useState)(!1),2),g=y[0],w=y[1],h=se(Object(r.useState)(!1),2),v=h[0],_=h[1],E=se(Object(r.useState)(!1),2),P=E[0],C=E[1],S=se(Object(r.useState)({}),2),D=S[0],N=S[1],I=u.fetch,T=u.setStateListValues,q=u.setStateListValuesByKey,R=se(Object(r.useState)(!1),2),z=R[0],U=R[1],V=se(Object(r.useState)(!1),2),K=V[0],Z=V[1],te=t.s,ne=void 0===te?"":te,oe=c.getLists,ie=c.getPageNumber,le=c.getPerPageCount,fe=c.getLoading,be=c.getTotalCount,me=c.getCountData,pe=c.getContactCountData,Oe=c.getError,de=Object(r.useContext)(j.h),je=oe(),ye=Oe(),ge=ie(),we=le(),he=be(),ve=fe(),_e=me(),ke=pe(),Ee=se(Object(r.useState)(!1),2),Pe=Ee[0],Ce=Ee[1],Se=se(Object(r.useState)({}),2),De=Se[0],Ne=Se[1],Ie=Object(r.useRef)(new AbortController),Te=se(Object(r.useState)([]),2),Le=Te[0],xe=Te[1],Ae=se(Object(r.useState)(!1),2),Fe=Ae[0],Me=Ae[1],Be=se(Object(r.useState)(""),2),Ge=Be[0],qe=Be[1],Re=function(){Ze&&Ze(),xe([])},ze=Object(r.useCallback)((function(e,t){xe(t),qe(e),Me(!0)}),[]);Object(r.useEffect)((function(){Ne(ke)}),[ke]),Object(r.useEffect)((function(){I(t,0,25,!0),w(!1),C(!1)}),[t.s]);var Ue=Object(r.createElement)(b.a,{isPrimary:!0,key:"add",className:"bwf-display-flex",onClick:function(){N({}),_(!0),U(!1)}},Object(o.__)("Create List","wp-marketing-automations")),Ve=Object(M.a)().getPageCountData,Ke=Object(B.a)().setPageCountData,Je=Ve();Object(r.useEffect)((function(){Ke(ce(ce({},Je),_e))}),[_e]),Object(r.useEffect)((function(){return Re(),function(){T([]),q("countData",{}),Ie.current.abort()}}),[]),Object(F.a)("manage_lists","",Object(o.__)("ALL LISTS","wp-marketing-automations"),Ue),Object(r.useEffect)((function(){if(!g&&!Object(s.isEmpty)(je)&&!ve)try{var e={list_ids:[]};je.map((function(t){e.list_ids.push(t.ID)})),l()({method:"GET",path:Object(j.C)("/v3/lists/contacts?"+Object(a.stringify)(e)),signal:Ie.current.signal}).then((function(e){200==e.code&&(q("contactCountData",ce(ce({},e.result),ke)),w(!0))})).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}),[je]);var Qe=i()("bwfcrm-contacts-lists",{"has-search":!0}),Ye=Object(r.useMemo)((function(){var e={};if(Array.isArray(je)){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ue(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}(je);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.ID]=r}}catch(e){n.e(e)}finally{n.f()}}return e}),[je]),He=Object(G.b)(Ye),$e=He.singleSelectProps,We=He.selectAllProps,Xe=He.floatingBarProps,Ze=He.resetSelection,et=He.selected,tt=Object.keys(et).filter((function(e){return et[e]})).length,nt=[{key:"select_list",label:Object(r.createElement)(Q.a,ae({type:"checkbox",checked:!1,onChange:function(){}},We)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"actions",label:"",isLeftAligned:!1,cellClassName:"bwf-col-action bwf-w-30"},{key:"lists",label:Object(o.__)("Name","wp-marketing-automations"),isLeftAligned:!0},{key:"createdon",label:Object(o.__)("Created On","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"contacts",label:Object(o.__)("Contacts","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-90"}];Object(j.uc)()&&(nt.push({key:"customer",label:Object(o.__)("Customers","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-90"}),nt.push({key:"revenue",label:Object(o.__)("Revenue","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-90"})),nt.push({key:"subscribed",label:Object(o.__)("Subscribed","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-90"});var rt=function(e){e!==we&&(I(t,0,e),w(!1))},at=function(e){return Object(r.createElement)(O.a,{label:Object(o.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(d.a,{isClickable:!0,onInvoke:function(){N(e),_(!0),U(!1),n()}},Object(r.createElement)(m.a,{justify:"flex-start"},Object(r.createElement)(m.c,null,Object(o.__)("Edit","wp-marketing-automations")))),Object(r.createElement)(d.a,{isClickable:!0,onInvoke:function(){Object(j.fc)()?Object(x.l)({filter:"advanced",path:"/contacts","lists_any[]":e.ID},"/",{}):Z(!0),n()}},Object(r.createElement)(m.a,{justify:"space-between"},Object(r.createElement)(m.c,null,Object(o.__)("View Contacts","wp-marketing-automations")),!Object(j.fc)()&&Object(r.createElement)(m.c,null,j.e))),Object(r.createElement)(d.a,{isClickable:!0,onInvoke:function(){N(ce(ce({},D),{},{delete:!0,deleteid:e.ID,entityName:e.name})),_(!0),n()}},Object(r.createElement)(m.a,{justify:"flex-start"},Object(r.createElement)(m.c,null,Object(o.__)("Delete","wp-marketing-automations")))))}})},ot=function(e){var t,a,c,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(g){if(De.hasOwnProperty(parseInt(e.ID)))switch(s){case"contact":var u=null!==(t=parseInt(De[parseInt(e.ID)].contact_count))&&void 0!==t?t:0;return u>0&&Object(j.fc)()?Object(r.createElement)("a",{onClick:function(){Object(x.l)({filter:"advanced",path:"/contacts","lists_any[]":e.ID},"/",{})},className:"bwf-a-no-underline"},u):u>0?u:"-";case"customer":var l=null!==(a=parseInt(De[parseInt(e.ID)].customer_count))&&void 0!==a?a:0;return l>0&&Object(j.fc)()?Object(r.createElement)("a",{onClick:function(){Object(x.l)({filter:"advanced",path:"/contacts","lists_any[]":e.ID,has_purchased:"yes"},"/",{})},className:"bwf-a-no-underline"},l):l>0?l:"-";case"revenue":var f=null!==(c=parseFloat(De[parseInt(e.ID)].total_revenue))&&void 0!==c?c:0;return f>0?Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},n(f)):"-";case"subscriber":var b=null!==(i=parseInt(De[parseInt(e.ID)].subscribers_count))&&void 0!==i?i:0;return b>0&&Object(j.fc)()?Object(r.createElement)("a",{onClick:function(){Object(x.l)({filter:"advanced",path:"/contacts","lists_any[]":e.ID,status_is:1},"/",{})},className:"bwf-a-no-underline"},b):b>0?b:"-";default:return"-"}return"-"}return Object(r.createElement)("span",{className:"bwf-placeholder-temp bwf-w-90",title:Object(o.__)("Loading","wp-marketing-automations")},Object(o.__)("Loading","wp-marketing-automations"))},ct=je.map((function(e){var t,n,a,o,c,i,s=[{display:$e.hasOwnProperty(e.ID)?Object(r.createElement)(Q.a,ae({type:"checkbox",checked:!1,onChange:function(){}},$e[e.ID])):Object(r.createElement)(r.Fragment,null),value:null},{display:at(e),value:"action"},{display:(n=e,a=n.name,o=void 0===a?"":a,c=n.description,i=void 0===c?"":c,Object(r.createElement)("div",{className:"bwf-display-flex-column"},Object(r.createElement)("span",null,o),""!==i&&Object(r.createElement)("span",{className:"bwf-normal-text bwf-light"},i))),value:e.ID},{display:(t=e.created_at,Object(r.createElement)("div",{className:"bwf-display-flex-column"},Object(r.createElement)("span",null,Object(j.lb)(t)))),value:e.created_at},{display:ot(e,"contact"),value:""}];return Object(j.uc)()&&(s.push({display:ot(e,"customer"),value:""}),s.push({display:ot(e,"revenue"),value:""})),s.push({display:ot(e,"subscriber"),value:""}),s})),it=function(){var e=re(ee().m((function e(n){var r,a,o;return ee().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!n.ID){e.n=5;break}return r=je.map((function(e){return parseInt(e.ID)===parseInt(n.ID)?n:e})),e.p=1,e.n=2,l()({path:Object(j.C)("/v3/lists/".concat(n.ID,"/")),method:"POST",data:{list_name:n.name,description:n.description},headers:{"Content-Type":"application/json"}}).then((function(e){if(200!=e.code)throw Error(Object(j.w)(null==e?void 0:e.message));_(!1),T(r),N({}),Object(j.yc)().catch((function(e){console.error("Failed to refresh settings schema:",e)})),de(e.result),Object(j.Pb)(de,3e3)})).catch((function(e){throw Error(Object(j.w)(null==e?void 0:e.message))}));case 2:e.n=4;break;case 3:e.p=3,a=e.v,U(a.message),N(ce(ce({},D),{},{loading:!1}));case 4:e.n=8;break;case 5:return e.p=5,e.n=6,l()({path:Object(j.C)("/v3/list/"),method:"POST",data:{name:n.name,description:n.description},headers:{"Content-Type":"application/json"}}).then((function(e){if(200!=e.code)throw Error(Object(j.w)(null==e?void 0:e.message));_(!1),I(t,(ge-1)*we,we),Object(j.yc)().catch((function(e){console.error("Failed to refresh settings schema:",e)})),N({}),w(!1),de(e.message),Object(j.Pb)(de,3e3)})).catch((function(e){throw Error(Object(j.w)(null==e?void 0:e.message))}));case 6:e.n=8;break;case 7:e.p=7,o=e.v,U(o.message),N(ce(ce({},D),{},{loading:!1}));case 8:return e.a(2)}}),e,null,[[5,7],[1,3]])})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=re(ee().m((function e(n){var r;return ee().w((function(e){for(;;)switch(e.p=e.n){case 0:if(!n){e.n=5;break}return Ce(!0),e.p=1,e.n=2,l()({path:Object(j.C)("/v3/lists/".concat(n,"/")),method:"DELETE",data:{list_id:parseInt(n)}}).then((function(e){if(200!=e.code)throw Error(Object(j.w)(null==e?void 0:e.message));setTimeout((function(){de(e.message),_(!1),I(t,(ge-1)*we,we),Object(j.yc)().catch((function(e){console.error("Failed to refresh settings schema:",e)})),N({}),w(!1),Ce(!1)}),1e3)}));case 2:e.n=4;break;case 3:e.p=3,r=e.v,Ce(!1),N(ce(ce({},D),{},{error:r.message}));case 4:Object(j.Pb)(de,3e3);case 5:return e.a(2)}}),e,null,[[1,3]])})));return function(t){return e.apply(this,arguments)}}(),ut=[{type:"heading",data:{title:Object(o.__)("Use lists to create your automation efforts","wp-marketing-automations"),desc:Object(o.__)("Effortlessly organize contacts for targeted broadcast and automation workflows.","wp-marketing-automations")}},{type:"image-desc",data:[{img:Object(j.u)()+"list/lists1.png",title:Object(o.__)("Create list","wp-marketing-automations"),desc:Object(o.__)("Automated processes based on list membership to increase engagement and customised for each list.","wp-marketing-automations")},{img:Object(j.u)()+"list/lists2.png",title:Object(o.__)("Manage your lists","wp-marketing-automations"),desc:Object(o.__)("Start list management by organizing, update, and optimize your contact lists.","wp-marketing-automations")}]},{type:"buttons",data:{buttons:[{text:Object(o.__)("Create List","wp-marketing-automations"),onClick:function(){N({}),_(!0),U(!1)}}]}},{type:"link-wth-text",data:{text:Object(o.__)("Curious about lists?","wp-marketing-automations"),link:"https://funnelkit.com/docs/autonami-2/lists/",linkText:Object(o.__)("Learn More","wp-marketing-automations")}}],lt=ve||ye||he>0||""!==ne||P;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(o.__)("Lists","wp-marketing-automations")),parseInt(he)>0&&Object(r.createElement)("div",{className:"bwf-content-header-count"},Object(o.sprintf)(Object(o._n)("(%s Result)","(%s Results)",he,"wp-marketing-automations"),he))),Object(r.createElement)("div",{className:"bwf-content-header-right"},lt&&!ve&&Ue)),Object(r.createElement)("div",{className:"bwf-c-list-section bwf_w_full"},ye&&Object(r.createElement)(H.a,{status:"error"},ye.message),lt?Object(r.createElement)(p.a,{className:Qe,rows:ct,headers:nt,query:{paged:ge},rowsPerPage:we,totalRows:he?parseInt(he):0,isLoading:ve,onPageChange:function(e,n){I(t,(e-1)*we,we),w(!1)},onQueryChange:function(e){return"per_page"!==e?function(){}:rt},showMenu:!1,actions:tt>0?[Object(r.createElement)(G.a,ae({key:"list-bulk-action",actions:[{id:"delete",icon:"trash",hint:Object(o.__)("Delete","wp-marketing-automations")}],onAction:ze,inLine:!0,reset:Re},Xe))]:[Object(r.createElement)(Y.a,{key:"search",isLoading:ve,searchTerm:null==t?void 0:t.s,showResultCount:!1,setSearchData:function(e){if(Object(s.size)(e))Object(x.l)({s:e},"/",t);else{var n=Object(s.cloneDeep)(t);C(!0),n.hasOwnProperty("s")&&(null==n||delete n.s),Object(x.l)(n,"/",{})}}})],rowHeader:!0,emptyMessage:Object(o.__)("No lists found","wp-marketing-automations")}):Object(r.createElement)(W.a,{data:ut}),v&&Object(r.createElement)(f.Modal,{shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,className:"bwf-admin-modal bwf-h--core-header "+(D.loading?"bwf-admin-modal-no-header ":" ")+(D.delete?" bwf-admin-modal-squeezy ":"bwf-admin-modal-squeezy")},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},!D.delete&&(D.ID?Object(o.__)("Edit List","wp-marketing-automations"):Object(o.__)("Add List","wp-marketing-automations")),D.delete&&Object(o.__)("Delete List")),Object(r.createElement)("span",{onClick:function(){return _(!1)},className:"bwf-modal-close"},Object(r.createElement)(A.a,{icon:"close",color:"#353030"}))),D.success||D.error||D.delete?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-form-buttons"},Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey",style:{margin:0,wordBreak:"break-word"}},D.error?D.error:Object(r.createElement)(r.Fragment,null,Object(o.__)("You are about to delete ","wp-marketing-automations"),Object(r.createElement)("strong",null,D.entityName),Object(o.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf_clear_24"}),D.error?Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(b.a,{isPrimary:!0,onClick:function(){N({}),_(!1)}},Object(o.__)("OK","wp-marketing-automations"))):Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(b.a,{className:"bwf-cancel-btn",onClick:function(){N({}),_(!1)},disabled:Pe},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(b.a,{className:"bwf-delete-btn",onClick:function(){st(D.deleteid)},isBusy:Pe},Object(o.__)("Delete","wp-marketing-automations"))))):Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"===e.key&&(Object(s.isEmpty)(D.name)||(N(ce(ce({},D),{},{loading:!0})),it(D)))}},z&&Object(r.createElement)(H.a,{status:"error",onRemove:function(){return U(!1)}},z),Object(r.createElement)(f.TextControl,{label:Object(o.__)("Name","wp-marketing-automations"),autoFocus:!0,type:"text",value:D.name?D.name:"",placeholder:Object(o.__)("Type here…","wp-marketing-automations"),onChange:function(e){N(ce(ce({},D),{},{name:e}))},disabled:D.loading}),Object(r.createElement)(f.TextareaControl,{label:Object(o.__)("Description","wp-marketing-automations"),type:"text",value:D.description?D.description:"",placeholder:Object(o.__)("Type here…","wp-marketing-automations"),onChange:function(e){N(ce(ce({},D),{},{description:e}))},className:"bwf-show-help-text",help:Object(o.__)("This description will be used on Unsubscribe page when List Management is turned on.","wp-marketing-automations"),disabled:D.loading}),Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(b.a,{className:"bwf-cancel-btn",onClick:function(){return _(!1)}},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(b.a,{isPrimary:!0,onClick:function(){Object(s.isEmpty)(D.name)?U(Object(o.__)("Name is required","wp-marketing-automations")):(N(ce(ce({},D),{},{loading:!0})),it(D))},className:"bwf-ml-0",isBusy:D.loading,disabled:D.loading},D.ID?Object(o.__)("Save","wp-marketing-automations"):Object(o.__)("Add","wp-marketing-automations"))))),Object(r.createElement)(J,{tasks:Le,isOpen:Fe,onSuccess:function(){I(t,0,25,!0),Object(j.yc)().catch((function(e){console.error("Failed to refresh settings schema:",e)})),Re()},onError:Re,onRequestClose:function(){return Me(!1)},screenType:"lists",screenTypeId:"list-bulk",actionType:Ge})),!Object(j.fc)()&&Object(r.createElement)($.b,{isOpen:K,onRequestClose:function(){return Z(!1)},modalContent:{featureTitle:Object(o.__)("Contact Filters","wp-marketing-automations"),isFeature:!0,proLink:Object(j.ib)("upgrade",{utm_medium:"List+Filter+Contacts+Upgrade+Modal"})}}))},be=n(68);t.default=function(){var e=location&&location.search?Object(a.parse)(location.search.substring(1)):{};return Object(j.m)(Object(o.__)("Lists","wp-marketing-automations")),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(be.a,null),Object(r.createElement)(fe,{query:e}))}}}]);