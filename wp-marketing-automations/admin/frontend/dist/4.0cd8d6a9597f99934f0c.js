(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1140:function(t,e,r){"use strict";r.d(e,"a",(function(){return C}));var n=r(97),o=r(9),a=r.n(o),i=r(3),u=r(1),c=r(0),f=r(16),l=r.n(f);function s(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return p(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function d(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof u?n:u,f=Object.create(c.prototype);return y(f,"_invoke",function(r,n,o){var a,u,c,f=0,l=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return a=e,u=0,c=t,p.n=r,i}};function d(r,n){for(u=r,c=n,e=0;!s&&f&&!o&&e<l.length;e++){var o,a=l[e],d=p.p,y=a[2];r>3?(o=y===n)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=d&&((o=r<2&&d<a[1])?(u=0,p.v=n,p.n=a[1]):d<y&&(o=r<3||a[0]>n||n>y)&&(a[4]=r,a[5]=n,p.n=y,u=0))}if(o||r>1)return i;throw s=!0,n}return function(o,l,y){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&d(l,y),u=l,c=y;(e=u<2?t:c)||!s;){a||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(f=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(s=p.n<0)?c:r.call(n,p))!==i)break}catch(e){a=t,u=1,c=e}finally{f=1}}return{value:e,done:s}}}(r,o,a),!0),f}var i={};function u(){}function c(){}function f(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(y(e={},n,(function(){return this})),e),s=f.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,y(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return c.prototype=f,y(s,"constructor",f),y(f,"constructor",c),c.displayName="GeneratorFunction",y(f,o,"GeneratorFunction"),y(s),y(s,o,"Generator"),y(s,n,(function(){return this})),y(s,"toString",(function(){return"[object Generator]"})),(d=function(){return{w:a,m:p}})()}function y(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(y=function(t,e,r,n){function a(e,r){y(t,e,(function(t){return this._invoke(e,r,t)}))}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(a("next",0),a("throw",1),a("return",2))})(t,e,r,n)}function v(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){v(a,n,o,i,u,"next",t)}function u(t){v(a,n,o,i,u,"throw",t)}i(void 0)}))}}var b=function(t){return{name:t.slug,className:"bwf-search-bwf-".concat(t.slug,"-result"),options:function(e){return(r=h(d().m((function e(r){var n,o;return d().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,a()({path:Object(i.C)("/automation/rules/".concat(t.slug,"/suggestions?search=")+r),method:"GET"});case 1:return n=e.v,(o=n&&n.result?n.result:{})&&(o=Object.keys(o).map((function(t){return{key:String(t),label:o[t]}}))),e.a(2,o)}}),e)}))),function(t){return r.apply(this,arguments)})(e);var r},isDebounced:!0,getOptionIdentifier:function(t){return t.key},getOptionKeywords:function(t){return[t.label]},getFreeTextOptions:function(e,r){var n,o=s(r);try{for(o.s();!(n=o.n()).done;){if(n.value.value.label.toLowerCase()===e.toLowerCase())return[]}}catch(t){o.e(t)}finally{o.f()}return[{key:"name",label:Object(c.createElement)("span",{key:"name",className:"bwf-search-result-name"},l()({mixedString:"Search ".concat(t.name," with term {{query /}}"),components:{query:Object(c.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{key:"0",label:e}}]},getOptionLabel:function(t,e){var r=Object(i.o)(t.label,e)||{};return Object(c.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":t.label},Object.keys(r).length>0?Object(c.createElement)(c.Fragment,null,r.suggestionBeforeMatch,Object(c.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch):t.label)},getOptionCompletion:function(t){return t}}},m=function(t){return function(){var e=h(d().m((function e(r){var n,o;return d().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,a()({path:Object(i.C)("/automation/rules/".concat(t.slug,"/suggestions?search=")+r),method:"GET"});case 1:return n=e.v,(o=n&&n.result?n.result:{})&&(o=Object.keys(o).map((function(t){return{key:String(t),label:o[t]}}))),e.a(2,o);case 2:return e.p=2,e.v,e.a(2,[])}}),e,null,[[0,2]])})));return function(t){return e.apply(this,arguments)}}()};function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var k=function(t){switch(t.type){case"Text":case"Number":case"Days":case"datetime":case"time":case"Date":return{input:{component:t.type,extraProps:t.hasOwnProperty("extra_props")?t.extra_props:{}}};case"Select":return{input:{component:"selectcontrol",options:t.options?Object.keys(t.options).map((function(e){return{value:e,label:t.options[e]}})):[],default:t.default}};case"key-value":return{input:{component:"key-value",options:t.options?Object.keys(t.options).map((function(e){return{value:e,label:t.options[e]}})):[]}};case"Search":return{input:{component:"Search",type:b(t),getLabels:m(t),emptySearch:!0}};case"product-qty":return{input:{component:"product-qty",type:b(t),getLabels:m(t),emptySearch:!0}};case"search-list":return{input:{component:"search-list",apiPath:t.slug,multiple:!(!t.hasOwnProperty("multiple")||!t.multiple)}};default:return{}}},S=function(t){return t&&t.operators?{rules:Object.keys(t.operators).map((function(e){return{label:t.operators[e],value:e}}))}:{}},E=function(t){if(!t||!t.name||!t.slug)return{};var e=t.hasOwnProperty("title")&&""!==t.title?t.title:t.name;return{labels:{add:t.name,label:e,valueLabel:t.value_label?t.value_label:Object(u.__)("Value","wp-marketing-automations"),remove:Object(u.__)("Remove ","wp-marketing-automations")+e,rule:Object(u.__)("Select ","wp-marketing-automations")+t.name+Object(u.__)(" filter match","wp-marketing-automations"),title:"{{title}}".concat(e,"{{/title}} {{rule/}} {{filter /}}"),filter:Object(u.__)("Select ","wp-marketing-automations")+e}}},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(!t||!t.type)&&j(j(j(j({},e),k(t)),S(t)),E(t))},_=r(2),P=function(t,e){var r=e.type,n=e.options,o=void 0===n?{}:n,a=e.operators,f=void 0===a?{}:a,l=t.rule,s=t.data;if(["is_blank","is_not_blank"].includes(l)){if("key-value"===r){o&&o[s[0]]&&(s[0]=o[s[0]]);var p=f&&f[l]?f[l]:l;return s[0]+" "+p}return""}switch(r){case"product-qty":if(!s||!Array.isArray(s.search))return"";var d="";return s.qty&&(d+=s.qty+Object(u.__)(" qty of ","wp-marketing-automations")),d+=s.search.map((function(t){return t.label})).join(", ");case"Search":return s&&Array.isArray(s)?s.map((function(t){return t.label})).join(", "):"";case"Select":return s?o&&o[s]?o[s]:s:"";case"key-value":if(!Array.isArray(s)||2!==s.length)return"";o&&o[s[0]]&&(s[0]=o[s[0]]);var y=f&&f[l]?f[l]:l;return y||(y=":"),s.join(" ".concat(y," "));case"Date":if(Object(_.isObject)(s)){var v=s.from,h=void 0===v?"":v,b=s.to,m=void 0===b?"":b;if(!Object(_.isEmpty)(h)&&!Object(_.isEmpty)(m))return Object(c.createElement)(c.Fragment,null,Object(i.kb)(h,!0,!1)," "+Object(u.__)("and","wp-marketing-automations")+" ",Object(i.kb)(m,!0,!1))}return Object(i.lb)(s,!0,!1);case"datetime":if(Object(_.isObject)(s)){var g=s.from,O=void 0===g?"":g,j=s.to,w=void 0===j?"":j;if(!Object(_.isEmpty)(O)&&!Object(_.isEmpty)(w))return Object(c.createElement)(c.Fragment,null,Object(i.lb)(O,!0,!1)," "+Object(u.__)("and","wp-marketing-automations")+" ",Object(i.lb)(w,!0,!1))}return Object(i.lb)(s,!0,!1);case"Days":if(Object(_.isObject)(s)){var k=s.from,S=void 0===k?"":k,E=s.to,x=void 0===E?"":E;if(!Object(_.isEmpty)(S)&&!Object(_.isEmpty)(x))return S+" "+Object(u.__)("and","wp-marketing-automations")+" "+x}return s;case"search-list":return s&&Array.isArray(s)?s.map((function(t){return t.name})).join(", "):"";default:return s}},M=function(t,e){var r=e.type,n=(e.options,e.operators),o=void 0===n?{}:n,a=t.rule,i=(t.data,o&&o[a]?o[a]:a);switch(r){case"Select":return a?i:": ";case"key-value":return": ";default:return i}},A=function(t){return function(e){var r=Object(_.cloneDeep)(e);return t&&Object.keys(t).length&&Array.isArray(r)&&r.length?r.map((function(e){return e.map((function(e){var r=Object.keys(t).find((function(t){return e.filter===t}));return!(!r||!t[r])&&l()({mixedString:t[r].readable_text,components:{key:Object(c.createElement)(c.Fragment,null,t[r].hasOwnProperty("title")&&""!==t[r].title?t[r].title:t[r].name),rule:Object(c.createElement)(c.Fragment,null,M(e,t[r])),value:Object(c.createElement)("strong",null,P(e,t[r]))}})}))})):[]}};function I(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=D(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function T(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof u?n:u,f=Object.create(c.prototype);return N(f,"_invoke",function(r,n,o){var a,u,c,f=0,l=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return a=e,u=0,c=t,p.n=r,i}};function d(r,n){for(u=r,c=n,e=0;!s&&f&&!o&&e<l.length;e++){var o,a=l[e],d=p.p,y=a[2];r>3?(o=y===n)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=d&&((o=r<2&&d<a[1])?(u=0,p.v=n,p.n=a[1]):d<y&&(o=r<3||a[0]>n||n>y)&&(a[4]=r,a[5]=n,p.n=y,u=0))}if(o||r>1)return i;throw s=!0,n}return function(o,l,y){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&d(l,y),u=l,c=y;(e=u<2?t:c)||!s;){a||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(f=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(s=p.n<0)?c:r.call(n,p))!==i)break}catch(e){a=t,u=1,c=e}finally{f=1}}return{value:e,done:s}}}(r,o,a),!0),f}var i={};function u(){}function c(){}function f(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(N(e={},n,(function(){return this})),e),s=f.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,N(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return c.prototype=f,N(s,"constructor",f),N(f,"constructor",c),c.displayName="GeneratorFunction",N(f,o,"GeneratorFunction"),N(s),N(s,o,"Generator"),N(s,n,(function(){return this})),N(s,"toString",(function(){return"[object Generator]"})),(T=function(){return{w:a,m:p}})()}function N(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(N=function(t,e,r,n){function a(e,r){N(t,e,(function(t){return this._invoke(e,r,t)}))}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(a("next",0),a("throw",1),a("return",2))})(t,e,r,n)}function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){f=!0,o=t}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw o}}return u}}(t,e)||D(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){if(t){if("string"==typeof t)return F(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(t,e):void 0}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function V(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}var L=function(){var t,e=(t=T().m((function t(e){var r,n,o,c,f,l,s,p,d,y;return T().w((function(t){for(;;)switch(t.n){case 0:if(r=e.queryKey,(n=G(r,4))[0],o=n[1],c=void 0===o?"ab_cart_abandoned":o,f=n[2],l=void 0===f?0:f,s=n[3],p=void 0===s?{}:s,c){t.n=1;break}throw new Error(Object(u.__)("Unable to fetch rules, Event is empty","wp-marketing-automations"));case 1:if(Object(_.isEmpty)(p)){t.n=2;break}return t.a(2,p);case 2:return t.n=3,a()({path:Object(i.C)("/automation/event-rules/".concat(c,"?automation_id=").concat(l))});case 3:if((d=t.v)&&d.code&&200===parseInt(d.code)&&d.result){t.n=4;break}throw y=d&&d.message?d.message:Object(u.__)("Unable to load automation rules","wp-marketing-automations"),new Error(y);case 4:return t.a(2,d.result)}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){V(a,n,o,i,u,"next",t)}function u(t){V(a,n,o,i,u,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}(),C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ab_cart_abandoned",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object(n.useQuery)(["bwfan-rules",t,e,r],L,{staleTime:3e5}),a=o.isLoading,i=o.error,u=o.data;if(a||i||!u)return{isLoading:a,error:i,rules:{},getReadableTexts:function(t){return[]}};var c=1,f={},l={};for(var s in u)if(!Object(_.isEmpty)(u[s].rules)){var p,d={priority:c++,group:s,groupLabel:u[s].title},y=Object(_.isArray)(u[s].rules)?u[s].rules:Object.values(u[s].rules),v=I(y);try{for(v.s();!(p=v.n()).done;){var h=p.value;f[h.slug]=x(h,d),l[h.slug]=h}}catch(t){v.e(t)}finally{v.f()}}return{isLoading:a,error:i,rules:f,getReadableTexts:A(l)}}},1145:function(t,e,r){"use strict";var n=r(1093),o=r(2),a=r(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){f=!0,o=t}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw o}}return u}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=d(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function d(t,e){if(t){if("string"==typeof t)return y(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function v(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof u?n:u,f=Object.create(c.prototype);return h(f,"_invoke",function(r,n,o){var a,u,c,f=0,l=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return a=e,u=0,c=t,p.n=r,i}};function d(r,n){for(u=r,c=n,e=0;!s&&f&&!o&&e<l.length;e++){var o,a=l[e],d=p.p,y=a[2];r>3?(o=y===n)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=d&&((o=r<2&&d<a[1])?(u=0,p.v=n,p.n=a[1]):d<y&&(o=r<3||a[0]>n||n>y)&&(a[4]=r,a[5]=n,p.n=y,u=0))}if(o||r>1)return i;throw s=!0,n}return function(o,l,y){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&d(l,y),u=l,c=y;(e=u<2?t:c)||!s;){a||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(f=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(s=p.n<0)?c:r.call(n,p))!==i)break}catch(e){a=t,u=1,c=e}finally{f=1}}return{value:e,done:s}}}(r,o,a),!0),f}var i={};function u(){}function c(){}function f(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(h(e={},n,(function(){return this})),e),s=f.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,h(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return c.prototype=f,h(s,"constructor",f),h(f,"constructor",c),c.displayName="GeneratorFunction",h(f,o,"GeneratorFunction"),h(s),h(s,o,"Generator"),h(s,n,(function(){return this})),h(s,"toString",(function(){return"[object Generator]"})),(v=function(){return{w:a,m:p}})()}function h(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(h=function(t,e,r,n){function a(e,r){h(t,e,(function(t){return this._invoke(e,r,t)}))}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(a("next",0),a("throw",1),a("return",2))})(t,e,r,n)}function b(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){b(a,n,o,i,u,"next",t)}function u(t){b(a,n,o,i,u,"throw",t)}i(void 0)}))}}var g=null,O=null,j=function(){var t=m(v().m((function t(){return v().w((function(t){for(;;)switch(t.n){case 0:if(!g){t.n=1;break}return t.a(2,g);case 1:if(!O){t.n=2;break}return t.a(2,O);case 2:return O=r.e(34).then(r.t.bind(null,1221,7)).then((function(t){var e=t.default||t;return g=new e})),t.a(2,O)}}),t)})));return function(){return t.apply(this,arguments)}}(),w={"elk.algorithm":"layered","elk.direction":"DOWN","elk.spacing.nodeNode":"100","elk.layered.spacing.nodeNodeBetweenLayers":"90","elk.portConstraints":"FIXED_POS","elk.layered.crossingMinimization.forceNodeModelOrder":"true","elk.layered.nodePlacement.strategy":"BRANDES_KOEPF","elk.layered.nodePlacement.bk.fixedAlignment":"LEFT","elk.layered.considerModelOrder.strategy":"NODES_AND_EDGES","elk.layered.crossingMinimization.semiInteractive":"true"},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.type)return 150+e;var n=0;switch(t.type){case"start":n=r?110:80;break;case"end":n=30;break;case"exit":n=Object(a.fc)()?65:95;break;case"jump":n=Object(a.fc)()?150:95;break;case"wait":n=r&&t.data&&t.data.sidebarValues?160:125;break;case"yesNoNode":n=r?50:20;break;case"benchmark":n=160,Object(a.fc)()&&(n=r&&t.data&&t.data.benchmark?150:125,t.hasOwnProperty("data")&&t.data.hasOwnProperty("desc_text")&&!Object(o.isEmpty)(t.data.desc_text)&&(n+=30));break;case"action":var i=t.data&&t.data.selected?t.data.selected:"";if(""!==i)switch(i){case"wp_sendemail":case"twilio_send_sms":n=t.data.hasOwnProperty("sidebarValues")&&!Object(o.isEmpty)(t.data.sidebarValues)?200:145;break;default:n=r?170:120}else n=105;t.hasOwnProperty("data")&&t.data.hasOwnProperty("desc_text")&&!Object(o.isEmpty)(t.data.desc_text)&&(n+=30);break;case"conditional":if(n=95,Object(a.fc)()){var u=Object(o.flatten)(t.data.sidebarValues).length,c=u-1;n=u?48*u+29*c+75:150,r||(n-=30)}break;case"split":n=t.data.hasOwnProperty("sidebarValues")&&!Object(o.isEmpty)(t.data.sidebarValues)?200:140,r||(n=60);break;case"splitpath":n=70;break;case"unknown":n=65;break;default:n=150}return n+e},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],r=[];if(Array.isArray(t)){var o,a={},i=p(t);try{for(i.s();!(o=i.n()).done;){var u=o.value;Object(n.k)(u)&&"exit"===u.type&&r.push(u.id)}}catch(t){i.e(t)}finally{i.f()}var c,f=p(t);try{for(f.s();!(c=f.n()).done;){var l=c.value;e.includes(l.target)||(a[l.target]?(e.push(l.target),delete a[l.target]):a[l.target]=1,Object(n.j)(l)&&r.includes(l.source)&&e.push(l.target))}}catch(t){f.e(t)}finally{f.f()}}return{hasMultiParents:function(t){return e.includes(t)}}},E=function(t,e){if("conditional"===t.type){var r=k(t,70,!0);return[{id:"".concat(t.id,"-yes"),x:122,y:r,properties:{"port.side":"SOUTH","port.index":0}},{id:"".concat(t.id,"-no"),x:244,y:r,properties:{"port.side":"SOUTH","port.index":1}}]}return"split"===t.type?e.filter((function(e){return Object(n.j)(e)&&e.source===t.id&&"split-edge"===e.sourceHandle})).map((function(t){var e=t.target&&t.target.match(/-path-(\d+)/);return{edge:t,pathNum:e?parseInt(e[1]):0}})).sort((function(t,e){return t.pathNum-e.pathNum})).map((function(e,r){var n=e.pathNum;return{id:"".concat(t.id,"-split-").concat(n-1),properties:{"port.side":"SOUTH","port.index":String(r)}}})):[{id:"".concat(t.id,"-out"),properties:{"port.side":"SOUTH","port.index":1}}]},x=function(t,e,r){var o=t.filter(n.k),a=t.filter(n.j),i=function(t){return s(t).sort((function(t,e){var r,n,o,a;if("yesNoNode"===t.type&&"yesNoNode"===e.type&&(null===(r=t.data)||void 0===r?void 0:r.parent)===(null===(n=e.data)||void 0===n?void 0:n.parent)){var i,u,c,f;if("no"===(null===(i=t.data)||void 0===i?void 0:i.direction)&&"yes"===(null===(u=e.data)||void 0===u?void 0:u.direction))return-1;if("yes"===(null===(c=t.data)||void 0===c?void 0:c.direction)&&"no"===(null===(f=e.data)||void 0===f?void 0:f.direction))return 1}return"splitpath"===t.type&&"splitpath"===e.type?((null===(o=t.data)||void 0===o?void 0:o.path)||0)-((null===(a=e.data)||void 0===a?void 0:a.path)||0):0}))}(o),u={};i.forEach((function(t){u[t.id]=t}));var c=function(t,e){return s(t).sort((function(t,r){var n=e[t.source],o=e[r.source];if("conditional"===(null==n?void 0:n.type)&&"conditional"===(null==o?void 0:o.type)&&t.source===r.source){if("no"===t.sourceHandle&&"yes"===r.sourceHandle)return-1;if("yes"===t.sourceHandle&&"no"===r.sourceHandle)return 1}return 0}))}(a.filter((function(t){return u[t.source]&&u[t.target]})),u);return{id:"root",layoutOptions:w,children:i.map((function(n){var o="conditional"===n.type?70:50;return{id:n.id,width:366,height:k(n,e?o:0,e)+r,ports:E(n,t)}})),edges:c.map((function(t){u[t.source];return{id:t.id,sources:[t.source],targets:[t.target]}}))}},_=function(t,e,r,o,a){var i,c={};e.children&&e.children.forEach((function(t){c[t.id]={x:t.x,y:t.y}}));var l=t.filter(n.k),p=t.filter(n.j),d=new Set(l.map((function(t){return t.id}))),y=p.filter((function(t){return d.has(t.source)&&d.has(t.target)})),v={},h={},b={};y.forEach((function(t){v[t.target]=(v[t.target]||0)+1,h[t.source]||(h[t.source]=[]),h[t.source].push(t.target),b[t.target]||(b[t.target]=[]),b[t.target].push(t.source)}));var m=t.filter((function(t){return Object(n.k)(t)&&"yesNoNode"===t.type})),g={};m.forEach((function(t){var e,r=null===(e=t.data)||void 0===e?void 0:e.parent;r&&(g[r]||(g[r]={}),g[r][t.data.direction]=t.id)}));var O=t.filter((function(t){return Object(n.k)(t)&&"splitpath"===t.type})),j={};O.forEach((function(t){var e=t.id&&t.id.match(/^(.+)-path-(\d+)$/);if(e){var r=e[1],n=parseInt(e[2]);j[r]||(j[r]=[]),j[r].push({nodeId:t.id,path:n})}})),Object.values(j).forEach((function(t){t.sort((function(t,e){return t.path-e.path}))}));var w=Math.tan(20*Math.PI/180),S=function(t){arguments.length>1&&void 0!==arguments[1]||new Set;if(!t||0===t.length)return null;var e=t.map((function(t){for(var e=new Set,r=[t],n=new Set;r.length>0;){var o=r.shift();if(!n.has(o))n.add(o),e.add(o),(h[o]||[]).forEach((function(t){n.has(t)||r.push(t)}))}return e}));if(0===e.length)return null;for(var r=new Set(e[0]),n=function(t){r=new Set(s(r).filter((function(r){return e[t].has(r)})))},o=1;o<e.length;o++)n(o);var a=null,i=1/0;return r.forEach((function(t){var e=c[t];e&&e.y<i&&(i=e.y,a=t)})),a},E=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0!==n[e])return n[e];if(e===r)return 0;var o=t.find((function(t){return t.id===e}));if(!o)return n[e]=366,366;if("conditional"===o.type){var a=g[e];if(a&&a.yes&&a.no){var i=S([a.yes,a.no]),u=E(a.yes,i,n),c=E(a.no,i,n),f=Math.max(366,u+c);return n[e]=f,f}}if("split"===o.type){var l=j[e];if(l&&l.length>0){var s=l.map((function(t){return t.nodeId})),p=S(s),d=0;l.forEach((function(t){var e=E(t.nodeId,p,n);d+=e}));var y=Math.max(366,d);return n[e]=y,y}}var v=h[e]||[],b=v.filter((function(t){return t!==r}));if(0===b.length)return n[e]=366,366;var m=366;return b.forEach((function(t){var e=E(t,r,n);m=Math.max(m,e)})),n[e]=m,m},x=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(!o.has(e)&&e!==n){o.add(e);var a=t.find((function(t){return t.id===e}));if(a){if(c[e]&&(c[e].x=r),"conditional"===a.type){var i=g[e];if(i){if(i.yes&&i.no){var u=S([i.yes,i.no]),f={},l=E(i.yes,u,f),s=E(i.no,u,f),p=Math.max(20,Math.max(l,s)/2+20),d=r-p,y=r+p;return x(i.yes,d,u,o),x(i.no,y,u,o),void(u&&c[u]&&(c[u].x=r,x(u,r,n,o)))}var v=i.yes||i.no;if(v)return void x(v,r,n,o)}}if("split"===a.type){var b=j[e];if(b&&b.length>0){var m=b.map((function(t){return t.nodeId})),O=S(m),w={},k=b.map((function(t){return E(t.nodeId,O,w)})),_=k.reduce((function(t,e){return t+e}),0),P=r-_/2;return b.forEach((function(t,e){var r=k[e],n=P+r/2;x(t.nodeId,n,O,o),P+=r})),void(O&&c[O]&&(c[O].x=r,x(O,r,n,o)))}}var M=h[e]||[];M.forEach((function(t){t!==n&&x(t,r,n,o)}))}}},_=a?t.find((function(t){return Object(n.k)(t)&&t.id===a})):t.find((function(t){return Object(n.k)(t)&&"start"===t.type})),P=_?_.id:"start",M=(null===(i=c[P])||void 0===i?void 0:i.x)||400;x(P,M,null,new Set);var A;!function(){for(var e=0,o=function(){e++;var o={},a={};t.filter(n.k).forEach((function(t){a[t.id]=t})),y.forEach((function(t){var e=c[t.source],n=c[t.target];if(e&&n){var i=a[t.source],u=a[t.target];if(!("conditional"===(null==i?void 0:i.type)&&"yesNoNode"===(null==u?void 0:u.type)||"split"===(null==i?void 0:i.type)&&"splitpath"===(null==u?void 0:u.type))){var f=i?k(i,"conditional"===i.type?70:50,r):100,l=u?k(u,"conditional"===u.type?70:50,r):100,s=e.y-f/2,p=n.y-l/2,d=Math.abs(n.x-e.x),y=p-s;if(!(y<=0||d<50))if(y/d<w){var v=w*d-y;v>0&&(!o[t.target]||o[t.target]<v)&&(o[t.target]=v)}}}}));var i=Object.entries(o).filter((function(t){return u(t,2)[1]>0})).sort((function(t,e){var r,n;return((null===(r=c[t[0]])||void 0===r?void 0:r.y)||0)-((null===(n=c[e[0]])||void 0===n?void 0:n.y)||0)}));if(0===i.length)return 1;i.forEach((function(t){var e,r=u(t,2),n=r[0],o=r[1],a=null===(e=c[n])||void 0===e?void 0:e.y;a&&(c[n].y+=o,Object.keys(c).forEach((function(t){var e;if(t!==n){var r=null===(e=c[t])||void 0===e?void 0:e.y;r&&r>a&&(c[t].y+=o)}})))}))};e<5&&!o(););}(),A=function(t,e){for(var r=new Set,n=[e];n.length>0;){var o=n.shift();r.has(o)||(r.add(o),(h[o]||[]).forEach((function(t){return n.push(t)})))}for(var a=new Set,i=[t];i.length>0;){var u=i.shift();a.has(u)||u!==t&&r.has(u)||(a.add(u),(h[u]||[]).forEach((function(t){return i.push(t)})))}return a},Object.keys(g).forEach((function(t){var e=g[t];if(e&&e.yes&&e.no){var r=c[e.yes],n=c[e.no];if(r&&n){var o=Math.min(r.y,n.y);if(r.y>o){var a=r.y-o;A(e.yes,e.no).forEach((function(t){c[t]&&(c[t].y-=a)}))}if(n.y>o){var i=n.y-o;A(e.no,e.yes).forEach((function(t){c[t]&&(c[t].y-=i)}))}}}})),Object.keys(j).forEach((function(t){var e=j[t];if(e&&!(e.length<2)){var r=e.map((function(t){return f(f({},t),{},{pos:c[t.nodeId]})})).filter((function(t){return t.pos}));if(!(r.length<2)){var n=Math.min.apply(Math,s(r.map((function(t){return t.pos.y})))),o=r.map((function(t){return t.nodeId}));r.forEach((function(t){if(t.pos.y>n){var e=t.pos.y-n;(function(t,e){var r=new Set;e.forEach((function(e){if(e!==t)for(var n=[e];n.length>0;){var o=n.shift();r.has(o)||(r.add(o),(h[o]||[]).forEach((function(t){return n.push(t)})))}}));for(var n=new Set,o=[t];o.length>0;){var a=o.shift();n.has(a)||a!==t&&r.has(a)||(n.add(a),(h[a]||[]).forEach((function(t){return o.push(t)})))}return n})(t.nodeId,o).forEach((function(t){c[t]&&(c[t].y-=e)}))}}))}}}));var I,T;I=function(t,e){for(var r=new Set,n=[t];n.length>0;){var o=n.shift();if(o===e)return!0;r.has(o)||(r.add(o),(h[o]||[]).forEach((function(t){r.has(t)||n.push(t)})))}return!1},T=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r={},n=new Set,o=[{nodeId:t,depth:0}],a=function(){var t=o.shift();if(!t)return 0;var a=t.nodeId,i=t.depth;return n.has(a)||i>e?1:(n.add(a),v[a]>1&&i>0?1:(r[i]||(r[i]=[]),r[i].push(a),void(h[a]||[]).forEach((function(t){n.has(t)||o.push({nodeId:t,depth:i+1})}))))};o.length>0&&0!==a(););return r},Object.keys(j).forEach((function(t){var e=j[t];if(e&&!(e.length<2))for(var r=e.map((function(t){return{pathInfo:t,depthMap:T(t.nodeId)}})),n=Math.max.apply(Math,s(r.map((function(t){return Math.max.apply(Math,s(Object.keys(t.depthMap).map(Number)).concat([0]))})))),o=function(t){var e=r.map((function(e){return e.depthMap[t]||[]})).flat().filter((function(t){return c[t]}));if(e.length<2)return 0;var n=e.map((function(t){return{nodeId:t,y:c[t].y}})).filter((function(t){return void 0!==t.y}));if(n.length<2)return 0;var o=Math.min.apply(Math,s(n.map((function(t){return t.y}))));n.forEach((function(t){var r=t.nodeId,n=t.y;if(n>o){var a=n-o,i=e.filter((function(t){return t!==r}));(function(t,e){for(var r=new Set([t]),n=new Set([t]),o=[t];o.length>0;){var a=o.shift();(h[a]||[]).forEach((function(t){v[t]>1||e.some((function(e){return I(e,t)}))||n.has(t)||(n.add(t),r.add(t),o.push(t))}))}return r})(r,i).forEach((function(t){c[t]&&(c[t].y-=a)}))}}))},a=0;a<=n;a++)o(a)}));!function(){var e={};t.filter(n.k).forEach((function(t){e[t.id]=t}));var o=function(t){var n=c[t];if(!n)return null;var o=e[t],a=o?k(o,"conditional"===o.type?70:50,r):100;return n.y-a/2},a=[];y.forEach((function(t){var e=c[t.source],r=c[t.target];if(e&&r){var n=Math.abs(r.x-e.x),i=o(t.source),u=o(t.target);if(null!==i&&null!==u){var f=u-i;if(!(n>=50||f<=0)&&f<180){var l=180-f;a.push({source:t.source,target:t.target,pushAmount:l,targetY:r.y})}}}})),a.sort((function(t,e){return t.targetY-e.targetY})),a.forEach((function(t){var e=o(t.source),r=o(t.target);if(null!==e&&null!==r){var n=r-e;if(!(n>=180)){var a=180-n;(function(t){for(var e=new Set,r=[t];r.length>0;){var n=r.shift();e.has(n)||(e.add(n),(h[n]||[]).forEach((function(t){return r.push(t)})))}return e})(t.target).forEach((function(t){c[t]&&(c[t].y+=a)}))}}}))}();!function(){var e={};t.filter(n.k).forEach((function(t){e[t.id]=t}));for(var r=Object.keys(c),o=0;o<r.length;o++)for(var a=o+1;a<r.length;a++){var i=r[o],u=r[a],f=c[i],l=c[u];if(f&&l)if(!(Math.abs(f.y-l.y)>150)){var s=Math.abs(f.x-l.x);if(s<416){var p=(416-s)/2+10;f.x<l.x?(f.x-=p,l.x+=p):(l.x-=p,f.x+=p)}}}}();var N=Object.values(c);if(N.length>0){var G=Math.min.apply(Math,s(N.map((function(t){return t.x})))),D=Math.max.apply(Math,s(N.map((function(t){return t.x})))),F=Math.min.apply(Math,s(N.map((function(t){return t.y})))),V=F<250?250-F:0,L=0-(G+(D-G)/2);Object.keys(c).forEach((function(t){c[t].x+=L,c[t].y+=V}))}return t.map((function(t){if(Object(n.k)(t)){var e=c[t.id];if(e){t.targetPosition="top",t.sourcePosition="bottom",t.hasMultiParents=o(t.id);var a=k(t,"conditional"===t.type?70:50,r);t.position={x:e.x-165+Math.random()/1e3,y:e.y-a/2}}}return t}))},P=function(t,e){return t.map((function(t,r){return Object(n.k)(t)&&(t.targetPosition="top",t.sourcePosition="bottom",t.hasMultiParents=e(t.id),t.position=t.position||{x:0,y:100*r}),t}))},M={structureKey:null,positionMap:null},A=function(t){return t&&t.length?t.map((function(t){if(Object(n.k)(t)){var e=function(t){if(!t||!t.data)return"";var e=t.data,r={};if("wait"===t.type&&e.sidebarValues&&(r.sidebarValues=e.sidebarValues),"action"===t.type&&(e.selected&&(r.selected=e.selected),e.sidebarValues&&(r.sidebarValues=e.sidebarValues),e.desc_text&&(r.desc_text=e.desc_text)),"benchmark"===t.type&&(e.benchmark&&(r.benchmark=e.benchmark),e.desc_text&&(r.desc_text=e.desc_text)),"conditional"===t.type&&e.sidebarValues){var n=Object(o.flatten)(e.sidebarValues).length;r.rulesLength=n}return"split"===t.type&&e.sidebarValues&&(r.sidebarValues=e.sidebarValues),JSON.stringify(r)}(t);return"n:".concat(t.id,":").concat(t.type,":").concat(e)}return Object(n.j)(t)?"e:".concat(t.id,":").concat(t.source,":").concat(t.target,":").concat(t.sourceHandle||""):t.id})).join("|"):""},I=function(t,e,r,o){return t.map((function(t){if(Object(n.k)(t)&&e[t.id]){var r=e[t.id];t.targetPosition="top",t.sourcePosition="bottom",t.hasMultiParents=o(t.id),t.position={x:r.x+Math.random()/1e3,y:r.y}}return t}))},T=function(){var t=m(v().m((function t(e){var r,o,a,i,u,c,f,l,p,d,y,h=arguments;return v().w((function(t){for(;;)switch(t.p=t.n){case 0:if(r=!(h.length>1&&void 0!==h[1])||h[1],o=h.length>2&&void 0!==h[2]?h[2]:0,a=h.length>3&&void 0!==h[3]?h[3]:"",i=S(e),u=i.hasMultiParents,e&&!(e.length<=1)){t.n=1;break}return t.a(2,e);case 1:if((c=A(e))!==M.structureKey||!M.positionMap){t.n=2;break}return t.a(2,I(s(e),M.positionMap,0,u));case 2:return t.p=2,t.n=3,j();case 3:return f=t.v,l=x(e,r,o),t.n=4,f.layout(l);case 4:return p=t.v,d=_(s(e),p,r,u,a),y={},d.forEach((function(t){Object(n.k)(t)&&t.position&&(y[t.id]={x:t.position.x,y:t.position.y})})),M.structureKey=c,M.positionMap=y,t.a(2,d);case 5:return t.p=5,t.v,t.a(2,P(s(e),u))}}),t,null,[[2,5]])})));return function(e){return t.apply(this,arguments)}}();e.a=T}}]);