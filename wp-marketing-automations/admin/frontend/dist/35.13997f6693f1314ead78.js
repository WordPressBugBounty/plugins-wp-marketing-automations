(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1165:function(e,t,r){"use strict";var n=r(0),o=r(1),a=r(9),i=r.n(a),l=r(3),c=r(337);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){u=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function _(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{_({},"")}catch(e){_=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof E?t:E,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:M(e,r,l)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var b="suspendedStart",d="executing",m="completed",O={};function E(){}function y(){}function v(){}var h={};_(h,i,(function(){return this}));var j=Object.getPrototypeOf,g=j&&j(j(I([])));g&&g!==r&&n.call(g,i)&&(h=g);var w=v.prototype=E.prototype=Object.create(h);function P(e){["next","throw","return"].forEach((function(t){_(e,t,(function(e){return this._invoke(t,e)}))}))}function D(e,t){function r(o,a,i,l){var c=p(e[o],e,a);if("throw"!==c.type){var u=c.arg,_=u.value;return _&&"object"==s(_)&&n.call(_,"__await")?t.resolve(_.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(_).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function M(t,r,n){var o=b;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var c=C(l,n);if(c){if(c===O)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===b)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=p(t,r,n);if("normal"===s.type){if(o=n.done?m:"suspendedYield",s.arg===O)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),O;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,O;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,O):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,O)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(s(t)+" is not iterable")}return y.prototype=v,o(w,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=_(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,_(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},P(D.prototype),_(D.prototype,l,(function(){return this})),t.AsyncIterator=D,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new D(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(w),_(w,c,"Generator"),_(w,i,(function(){return this})),_(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,O):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),O}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),O}},t}function _(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.conversation,r=void 0===t?{}:t,a=r.ID,s=r.mode,p=r.type,b=e.onRequestClose,d=e.isOpen,m=(e.contact,f(Object(n.useState)({}),2)),O=m[0],E=m[1],y=f(Object(n.useState)(!1),2),v=y[0],h=y[1],j=f(Object(n.useState)(""),2),g=j[0],w=j[1],P=function(){var e,t=(e=u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&!(!parseInt(a)>0)){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.prev=3,e.next=6,i()({method:"GET",path:Object(l.A)("/engagement/".concat(parseInt(a),"?mode=1"))});case 6:"result"in(t=e.sent)&&E(t.result),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.t0&&"message"in e.t0?w(e.t0.message):Object(o.__)("There are some technical difficulties while getting emails. Please contact support.","wp-marketing-automations");case 14:h(!1);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){_(a,n,o,i,l,"next",e)}function l(e){_(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){d&&P()}),[d]);return Object(n.createElement)(c.a,{isOpen:d,isLoading:v,onRequestClose:function(){b(),E({}),w("")},error:g,subject:![2,3].includes(parseInt(s))&&O?O.subject:"",body:O&&O.body?O.body:"",sourceType:p,mode:s,contact:e.contact,conversation:e.conversation,template:O})}},1224:function(e,t,r){},1412:function(e,t,r){},1413:function(module,__webpack_exports__,__webpack_require__){"use strict";var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_wordpress_element__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__),_wordpress_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_wordpress_components__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__),_bwf_dropdown__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(57),_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_style_scss__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1414),_style_scss__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_7__),_select_controls__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(75),_search_filter__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1451),_date_range_filter__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1441),_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1416),_checklist__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1417),_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3),_placeholder__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1418),_bwf_tag__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(108),_checkllist_dropdown__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1419);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var BLUE_BASE="#0073aa",TEXT_COLOR_2="#353030",FilterTag=function(e){var t=e.label,r=e.icon,n=e.isPrimary,o=void 0!==n&&n,a=e.onClick,i=void 0===a?function(){}:a,l=e.onClear,c=e.isActive,s=e.rule,u=e.isProFeatureLocked,_=e.isLocked,f=e.iconColor;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("bwf-filter__tag",{"is-primary":o,"is-active":c,"is-locked":_,"is-pro-locked":(null==s?void 0:s.is_pro)&&u}),onClick:_||u&&null!=s&&s.is_pro?function(){}:i},!c&&(u&&null!=s&&s.is_pro?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_bwf_tag__WEBPACK_IMPORTED_MODULE_15__.a,{className:"size-16"}):Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:_?"lock":r,height:"16",width:"16",color:f||TEXT_COLOR_2})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",null,t),c&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:"angle-down",height:"12",width:"12",color:"#212121"}),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{className:"remove-icon",onClick:l},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:"cross-bold",height:"16",width:"16",color:"#353030"}))))},StickyFilter=function StickyFilter(props){var rule=props.rule,filter=props.filter,filterData=props.filterData,_remove=props.remove,setFilter=props.setFilter,tempFilters=props.tempFilters,updateTempRule=props.updateTempRule,_props$propsToPass=props.propsToPass,propsToPass=void 0===_props$propsToPass?{}:_props$propsToPass,isProFeatureLocked=props.isProFeatureLocked,isLocked=props.isLocked,_useContext=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useContext)(_utils__WEBPACK_IMPORTED_MODULE_11__.a),fieldOptions=_useContext.fieldOptions,setFieldOptions=_useContext.setFieldOptions,toggleRef=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)(),contentRef=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)();Object(_utils__WEBPACK_IMPORTED_MODULE_13__.Oc)(contentRef,(function(){void 0!==toggleRef.current&&toggleRef.current()}));var showTitle=!0,showApplyBtn=!0,fl=null==tempFilters?void 0:tempFilters.find((function(e){return(null==e?void 0:e.filter)===(null==rule?void 0:rule.slug)})),showFilterComponent=function showFilterComponent(){var filter=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl;if(null!=rule&&rule.data_toggler&&null!=filter&&filter.rule){var _rule$data_toggler,_rule$data_toggler2,togglerValue=null==rule||null===(_rule$data_toggler=rule.data_toggler)||void 0===_rule$data_toggler?void 0:_rule$data_toggler.value,togglerOperator=null==rule||null===(_rule$data_toggler2=rule.data_toggler)||void 0===_rule$data_toggler2?void 0:_rule$data_toggler2.operator;if(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isArray)(togglerValue)){var isMatch=togglerValue.includes(null==filter?void 0:filter.rule);return!("==="!==togglerOperator||!isMatch)}return eval("".concat(null==filter?void 0:filter.rule," ").concat(togglerOperator," ").concat(togglerValue))}return!0},showFilter=showFilterComponent(),isActive=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.find)(filterData,(function(e){return(showFilterComponent((null==e?void 0:e.filter)===(null==rule?void 0:rule.slug)?e:fl)&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(null==rule?void 0:rule.required,"data")?Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.data):Object(lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(null==rule?void 0:rule.required,"rule")?Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.rule):Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.data)||Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.rule))&&(null==e?void 0:e.filter)===(null==rule?void 0:rule.slug)})),_setData=function(e,t){updateTempRule(_objectSpread(_objectSpread({},fl),{},{data:e},t&&{rule:t})),showApplyBtn||(fl.data=e,setFilter(fl))};Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){showFilter||_setData("")}),[showFilter]);var isBtnDisabled=function(e,t){return showFilter?!(!e.required.includes("data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t.data))||!(e.hasOwnProperty("operators")||!e.required.includes("data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t.data)):!!e.hasOwnProperty("operators")&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(null==t?void 0:t.rule)};return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter__sticky"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_bwf_dropdown__WEBPACK_IMPORTED_MODULE_5__.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,dropdownRef:contentRef,renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterTag,{icon:"add-circle",onClick:function(){t&&isActive&&updateTempRule(isActive),r()},label:isActive?Object(_utils__WEBPACK_IMPORTED_MODULE_11__.c)(rule,isActive):rule.title,isActive:isActive,rule:rule,onClear:function(e){e.stopPropagation(),_remove(fl),t&&r()},isProFeatureLocked:isProFeatureLocked,isLocked:isLocked})},renderContent:function(e){e.onClose;var t=e.onToggle;return toggleRef.current=t,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",null,showTitle&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-heading"},rule.title),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterOperator,_extends({},rule,{filter:filter,value:fl.rule,setRule:function(e){null!=rule&&rule.rule_dependent&&_setData([],e),updateTempRule(_objectSpread(_objectSpread({},fl),{},{rule:e}))}})),showFilter&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"".concat(!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(rule.operators)&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(fl.rule)?"bwf-no-operator":"")},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterComponent,_extends({},rule,propsToPass,{value:fl.data,rule:fl.rule,default_options:null==fieldOptions?void 0:fieldOptions[fl.filter],setData:function(e,t){null!=rule&&rule.rule_dependent||Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t)?_setData(e):setFieldOptions(_objectSpread(_objectSpread({},fieldOptions),{},_defineProperty({},fl.filter,t)))},remove:function(){return _remove(fl)}}))),showApplyBtn&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,onClick:function(){setFilter(fl),t()},disabled:isBtnDisabled(rule,fl)},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Apply","wp-marketing-automations")))}}))},ListFilter=function(e){var t=e.rules,r=e.filterData,n=e.setFilter,o=e.tempFilters,a=e.updateTempRule,i=e.propsToPass,l=void 0===i?{}:i,c=e.isProFeatureLocked,s=e.isLocked,u=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useContext)(_utils__WEBPACK_IMPORTED_MODULE_11__.a),_=u.fieldOptions,f=u.setFieldOptions,p=_slicedToArray(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)({}),2),b=p[0],d=p[1],m=o.find((function(e){return e.filter===b.slug})),O=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)(),E=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useRef)();Object(_utils__WEBPACK_IMPORTED_MODULE_13__.Oc)(E,(function(){void 0!==O.current&&O.current()}));var y=function(e){return r.find((function(t){return Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(t.data)&&t.filter===e.slug}))};return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter__list"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_bwf_dropdown__WEBPACK_IMPORTED_MODULE_5__.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,ref:E,renderToggle:function(e){e.isOpen;var t=e.onToggle;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterTag,{label:"Add Filter",icon:"filter",onClick:function(){t()},isPrimary:!0,isProFeatureLocked:c,iconColor:BLUE_BASE})},renderContent:function(e){var o,i,u=e.isOpen,p=(e.onClose,e.onToggle);return O.current=p,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-heading"},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Filter By","wp-marketing-automations")),Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(b)?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-list-item-wrap"},t.map((function(e,t){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(ListFilterItem,_extends({},e,{key:"list-filter-item-".concat(t),onClick:function(){return d(e)},isSelected:r.findIndex((function(t){return Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(t.data)&&t.filter===e.slug}))>-1,isProFeatureLocked:c,isLocked:s}))}))):Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-list-item__inner-wrap"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-list-item__inner-header"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{onClick:function(){u&&y(b)&&a(y(b)),d({})}},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:"arrow-left",size:"16"})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",null,b.title)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterOperator,_extends({},b,{value:m.rule,setRule:function(e){a(_objectSpread(_objectSpread({},m),{},{rule:e}))}})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"".concat(!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(b.operators)&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(m.rule)?"bwf-no-operator":"")},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(FilterComponent,_extends({},b,{value:m.data,rule:m.rule,default_options:null==_?void 0:_[m.filter],setData:function(e,t){Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t)?a(_objectSpread(_objectSpread({},m),{},{data:e})):f(_objectSpread(_objectSpread({},_),{},_defineProperty({},m.filter,t)))}},l))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,disabled:(o=b,i=m,!(!o.required.includes("data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(i.data))||!(o.hasOwnProperty("operators")||!o.required.includes("data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(i.data))),onClick:function(){n(m),d({}),p()}},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Apply","wp-marketing-automations"))))}}))},ListFilterItem=function(e){var t=e.title,r=e.isSelected,n=e.onClick,o=e.is_pro,a=e.isProFeatureLocked,i=e.isLocked;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-list-item",onClick:function(e){i||o&&a||n(e)}},i?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:"lock",size:"16",color:TEXT_COLOR_2}):o&&a?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_bwf_tag__WEBPACK_IMPORTED_MODULE_15__.a,{className:"size-16"}):Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_components_svg_icon__WEBPACK_IMPORTED_MODULE_6__.a,{icon:r?"checkmark-circle-filled":"add-circle",width:"16",height:"16",color:r?BLUE_BASE:TEXT_COLOR_2}),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",null,t))},FilterOperator=function(e){var t=e.setRule,r=e.op_label,n=e.value,o=void 0===n?"":n,a=e.operators,i=void 0===a?{}:a,l=(e.op_default,e.type),c=e.hideFilters;if("date-range"===l){var s=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.cloneDeep)(_utils__WEBPACK_IMPORTED_MODULE_11__.b);c&&Object.keys(_utils__WEBPACK_IMPORTED_MODULE_11__.b).forEach((function(e){c.includes(e)&&delete s[e]})),i=s}if(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(i))return null;var u=Object.keys(i).map((function(e){return{key:e,label:i[e]}}));return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-operator-wrap"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("label",null,r),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_select_controls__WEBPACK_IMPORTED_MODULE_8__.a,{className:"bwf-filter-operator",options:u,onChange:function(e){t(e)},selected:o,bottomFixed:!0,placeholder:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Select","wp-marketing-automations")}))},FilterComponent=function(e){var t,r,n=e.type,o=e.options,a=e.value,i=e.setData,l=e.val_label,c=e.operators,s=e.op_label,u=(e.default_options,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return classnames__WEBPACK_IMPORTED_MODULE_1___default()(t,{"no-operator":!c})});if("select"===n&&o){var _=Object.keys(o).map((function(e){return{key:e,label:o[e]}}));return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:u("bwf-filter-select-wrap")},l&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("label",null,l),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_select_controls__WEBPACK_IMPORTED_MODULE_8__.a,{options:_,selected:a,onChange:function(e){return i(e)},placeholder:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Select","wp-marketing-automations")}))}return"search"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_search_filter__WEBPACK_IMPORTED_MODULE_9__.a,_extends({},e,{className:u()})):"number"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("input",{type:"number",value:a,placeholder:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Enter value","wp-marketing-automations"),onChange:function(e){return i(e.target.value)},className:u("bwf-number-control")}):"text"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__.TextControl,{value:a,label:s,onChange:function(e){return i(e)},className:u()}):"date-range"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_date_range_filter__WEBPACK_IMPORTED_MODULE_10__.a,_extends({},e,{className:u()})):"checklist"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_checklist__WEBPACK_IMPORTED_MODULE_12__.a,_extends({},e,{className:u()})):"search-select"===n?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:u("bwf-filter-checklist-dropdown-wrap")},l&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("label",null,l),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_checkllist_dropdown__WEBPACK_IMPORTED_MODULE_16__.a,{options:o,label:Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("span",{className:"bwf-t-overflow-ellipsis",title:null!==(t=null==a?void 0:a.label)&&void 0!==t?t:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Select","wp-marketing-automations")},null!==(r=null==a?void 0:a.label)&&void 0!==r?r:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_3__.__)("Select","wp-marketing-automations")),selected:null==a?void 0:a.value,onSelect:function(e){i(e)},className:u()})):void 0},BWFFilters=function(e){var t=e.filterList,r=void 0===t?[]:t,n=e.filterData,o=e.setFilterData,a=e.propsToPass,i=e.isLoading,l=e.isLocked,c=_slicedToArray(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)({}),2),s=c[0],u=c[1],_=_utils__WEBPACK_IMPORTED_MODULE_13__.p.isProFeatureLocked,f=_slicedToArray(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)([]),2),p=f[0],b=f[1],d=_slicedToArray(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)([]),2),m=d[0],O=d[1];if(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(r)){var e=[];r.forEach((function(t){e.push.apply(e,_toConsumableArray(null==t?void 0:t.rules))})),O(e.map((function(e){var t="";e.hasOwnProperty("operators")&&(t=Object.keys(null==e?void 0:e.operators)[0]);var r=n.find((function(t){return t.filter===e.slug}));return r||{filter:e.slug,rule:t,data:""}})))}}),[r,n]),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(n)){var e,t=[],o=null===(e=r.find((function(e){return"list"===e.type})))||void 0===e?void 0:e.rules;n.forEach((function(e){if(o&&o.findIndex((function(t){return t.slug===e.filter}))>-1&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(null==e?void 0:e.data)){var n,a=(null===(n=r.find((function(e){return"list"===e.type})))||void 0===n?void 0:n.rules).find((function(t){return t.slug===e.filter}));t.push(a)}})),b(t)}}),[n]),!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.size)(r)||i)return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_placeholder__WEBPACK_IMPORTED_MODULE_14__.a,null);var E=function(e){var t=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.find)(n,{filter:e.filter}),a=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(n)?[e]:t?Object(lodash__WEBPACK_IMPORTED_MODULE_2__.map)(n,(function(r){return r.filter===t.filter?e:r})):[].concat(_toConsumableArray(n),[e]),i=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.filter)(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.map)(a,(function(e){return e})),(function(e){var t=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.flatMap)(r,"rules"),n=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.find)(t,{slug:e.filter});return!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(null==n?void 0:n.required,"data")||!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(e.data)})),l=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.flatMap)(r,"rules"),c=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.find)(l,{slug:e.filter});o(Object(lodash__WEBPACK_IMPORTED_MODULE_2__.includes)(null==c?void 0:c.required,"data")&&Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(null==e?void 0:e.data)?[]:i)},y=function(e){O((function(t){return t.map((function(t){return t.filter===e.filter?e:t}))}))},v=function(e){e.rule="",e.data="",y(e),b((function(t){return t.filter((function(t){return t.slug!==e.filter}))}));var t=n.filter((function(t){return t.filter!==e.filter&&!Object(lodash__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(t.data)}));o(t)},h=r.find((function(e){return"sticky"===e.type})),j=r.find((function(e){return"list"===e.type}));return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(_utils__WEBPACK_IMPORTED_MODULE_11__.a.Provider,{value:{fieldOptions:s,setFieldOptions:u}},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)("div",{className:"bwf-filter-wrap"},h&&[].concat(_toConsumableArray(null==h?void 0:h.rules),_toConsumableArray(p)).map((function(t,r){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(StickyFilter,_extends({},h,e,{propsToPass:a,rule:t,filterData:n,tempFilters:m,updateTempRule:y,setFilter:E,remove:v,key:"sticky-filter-wrap-".concat(r),isProFeatureLocked:_,isLocked:l}))})),j&&Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.createElement)(ListFilter,_extends({},j,e,{filterData:n,tempFilters:m,updateTempRule:y,setFilter:E,remove:v,propsToPass:a,isProFeatureLocked:_,isLocked:l}))))};__webpack_exports__.a=BWFFilters},1414:function(e,t,r){},1415:function(e,t,r){},1416:function(e,t,r){"use strict";r.d(t,"c",(function(){return _})),r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return d}));var n=r(0),o=r(1),a=r(24),i=r(16),l=r.n(i),c=r(2),s=r(10),u=r.n(s),_=function(e,t){return e.rule_dependent&&Object(c.isEmpty)(t.data)?Object(n.createElement)(n.Fragment,null,e.title," :"," ",Object(n.createElement)("strong",{className:"bwf-t-overflow-ellipsis"},f(e,t))):Object(n.createElement)(n.Fragment,null,e.title,":"," ",l()({mixedString:e.operators?e.readable_text:"{{value /}}",components:{key:Object(n.createElement)(n.Fragment,null,e.title),rule:Object(n.createElement)(n.Fragment,null,f(e,t)),value:Object(n.createElement)("strong",{title:Object(n.renderToString)(p(e,t)),className:"bwf-t-overflow-ellipsis"},p(e,t))}}))},f=function(e,t){var r;if(e.operators)return"number"===e.type?e.operators[t.rule]:"search"===e.type?null===(r=e.operators[t.rule])||void 0===r?void 0:r.replace("Is",""):e.operator&&e.operators[t.rule]},p=function(e,t){if("date-range"===e.type)return t.data.period?b[t.data.period]:u()(t.data.after).format(Object(a.i)())===u()(t.data.before).format(Object(a.i)())?"".concat(u()(t.data.after).format(Object(a.i)())):Object(n.createElement)(n.Fragment,null,"".concat(u()(t.data.after).format(Object(a.i)())," - ").concat(u()(t.data.before).format(Object(a.i)())));if("select"===e.type)return e.options[t.data];if("number"===e.type||"text"===e.type)return t.data;if("search"===e.type&&Object(c.isArray)(t.data)&&!Object(c.isEmpty)(t.data))return t.data.map((function(e){return e.label})).join(", ");if("search-select"===e.type)return t.data.label;if("checklist"===e.type){if(Object(c.isArray)(t.data))return Object(c.isEmpty)(t.data)||t.data.length!==Object.keys(e.options).length?t.data.map((function(t){return e.options[t]})).join(", "):"All";if(t.data)return e.options[t.data]}return null},b={today:Object(o.__)("Today","wp-marketing-automations"),yesterday:Object(o.__)(" Yesterday","wp-marketing-automations"),week:Object(o.__)("This Week","wp-marketing-automations"),last_week:Object(o.__)("Last Week","wp-marketing-automations"),month:Object(o.__)("This Month","wp-marketing-automations"),last_month:Object(o.__)("Last Month","wp-marketing-automations"),quarter:Object(o.__)("Quarter to Date","wp-marketing-automations"),last_quarter:Object(o.__)("Last Quarter","wp-marketing-automations"),year:Object(o.__)("Year to Date","wp-marketing-automations"),last_year:Object(o.__)("Last Year","wp-marketing-automations"),specificDate:Object(o.__)("On Specific Date","wp-marketing-automations"),custom:Object(o.__)("Custom Date Range","wp-marketing-automations")},d=Object(n.createContext)({})},1417:function(e,t,r){"use strict";var n=r(0),o=r(2),a=r(8);function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.options,r=e.value,l=e.setData,c=(e.remove,e.multiple),s=void 0!==c&&c;return Object(n.createElement)("div",{className:"bwf-filter-checklist"},Object.keys(t).map((function(e,c){return Object(n.createElement)("div",{key:"bwf-filter-check-item-".concat(c),onClick:function(){s?Object(o.isEmpty)(r)?l([e]):r.includes(e)?l(r.filter((function(t){return t!==e}))):l([].concat(i(r),[e])):l(e)}},Object(n.createElement)("span",null,t[e])," ",(s&&Object(o.isArray)(r)&&r.includes(e)||r===e)&&Object(n.createElement)(a.a,{icon:"tick",height:"16",width:"16"}))})))}},1418:function(e,t,r){"use strict";var n=r(0),o=r(19),a=r(102);t.a=function(){return Object(n.createElement)(o.a,{justify:"flex-start"},Object(n.createElement)(o.c,null,Object(n.createElement)(a.a,{h:24,w:100,br:19})),Object(n.createElement)(o.c,null,Object(n.createElement)(a.a,{h:24,w:100,br:19})),Object(n.createElement)(o.c,null,Object(n.createElement)(a.a,{h:24,w:100,br:19})))}},1419:function(e,t,r){"use strict";var n=r(0),o=r(6),a=r.n(o),i=r(8),l=(r(1420),r(61)),c=r(194),s=r(62),u=r(2),_=r(1);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var b=[{key:"",label:Object(_.__)("No result found","wp-marketing-automations"),disabled:!0}];t.a=function(e){var t=e.label,r=e.className,o=e.options,_=e.searchText,p=void 0===_?"":_,d=e.onSearch,m=e.isLoading,O=e.selected,E=void 0===O?{}:O,y=e.onSelect,v=void 0===y?function(){}:y,h=e.title,j=f(Object(n.useState)(p),2),g=j[0],w=j[1],P=Object(n.useCallback)((function(e){var t=e.onToggle,r=o.filter((function(e){var t;return-1!==(null===(t=e.label)||void 0===t?void 0:t.toLowerCase().indexOf(null==g?void 0:g.toLowerCase()))}));return(Object(u.isEmpty)(r)?b:r).map((function(e,r){return Object(n.createElement)(s.a,{key:"funnel-".concat(r),isClickable:!e.disabled,onInvoke:function(){v(e),t()},title:e.label},Object(n.createElement)("span",{className:"bwf-whitespace-wrap"},e.label),e.key===E&&Object(n.createElement)(i.a,{icon:"tick",height:"16",width:"16"}))}))}),[E,o,g]);return Object(n.createElement)(l.a,{label:h,menuPosition:"bottom left",classes:"components-button is-secondary-gray",wrapperClasses:a()("bwf-checklist__dropdown is-from-bottom-only",r),buttonLabel:Object(n.createElement)(n.Fragment,null,t,Object(n.createElement)(i.a,{icon:"angle-down",height:"12",width:"12"})),renderContent:function(e){var t=e.onToggle;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(c.a,{query:{s:null!=p?p:g},setSearchData:function(e){d?d(e):w(e)},showResultCount:!1,isLoading:m}),P({onToggle:t}))}})}},1420:function(e,t,r){},1441:function(e,t,r){"use strict";var n=r(0),o=r(10),a=r.n(o),i=r(123),l=r(1),c=r(6),s=r.n(c),u=r(4),_=r.n(u),f=(r(365),r(362),r(363),r(507)),p=r(2),b=r(127),d=r(24),m=(r(1224),r(5)),O=r(8),E=(r(275),function(e){var t=e.disabled,r=void 0!==t&&t,o=e.value,a=e.onChange,i=e.dateFormat,l=e.label,c=e.describedBy,u=e.error,_=e.onFocus,f=void 0===_?function(){}:_,b=e.onKeyDown,d=void 0===b?p.noop:b,E=e.errorPosition,y=void 0===E?"bottom center":E,v=s()("bwf-calendar-input",{"is-empty":0===o.length,"is-error":u}),h=Object(p.uniqueId)("_woo-dates-input");return Object(n.createElement)("div",{className:v},Object(n.createElement)("div",{className:"bwf-date-range-input"},Object(n.createElement)("input",{type:"text",className:"bwf-calendar-input-text",value:o,onChange:a,"aria-label":l,id:h,"aria-describedby":"".concat(h,"-message"),placeholder:i,onFocus:f,onKeyDown:d,disabled:r}),Object(n.createElement)("div",{className:"bwf-label"},l)),u&&Object(n.createElement)(m.Popover,{className:"bwf-calendar-input-error bwf-tooltip",focusOnMount:!1,position:y},u),Object(n.createElement)("span",{className:"bwf-calender-custom-icon"},Object(n.createElement)(O.a,{icon:"calender-1",width:"16",height:"16"})),Object(n.createElement)("p",{className:"screen-reader-text",id:"".concat(h,"-message")},u||c))});E.propTypes={disabled:_.a.bool,value:_.a.string,onChange:_.a.func,dateFormat:_.a.string,label:_.a.string,describedBy:_.a.string,error:_.a.string,errorPosition:_.a.string,onFocus:_.a.func,onKeyDown:_.a.func};var y=E,v=r(523),h=r(3);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function P(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}function D(e,t,r){return t=M(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],M(e).constructor):t.apply(e,r))}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=D(this,t,[e])).state={lastCurrentMonth:a()(),rangeKey:Object(h.x)()},r.onDatesChange=r.onDatesChange.bind(r),r.onFocusChange=r.onFocusChange.bind(r),r.onInputChange=r.onInputChange.bind(r),r.nodeRef=Object(n.createRef)(),r.keepFocusInside=r.keepFocusInside.bind(r),r.handleEndPrevClick=r.handleEndPrevClick.bind(r),r.handleStartPrevClick=r.handleStartPrevClick.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),r=t,(o=[{key:"onDatesChange",value:function(e){var t=e.startDate,r=e.endDate,n=this.props,o=n.onUpdate;n.shortDateFormat,o({after:t,before:r,afterText:t?t.format("MM/DD/YYYY"):"",beforeText:r?r.format("MM/DD/YYYY"):"",afterError:null,beforeError:null})}},{key:"onFocusChange",value:function(e){this.props.onUpdate({focusedInput:e||"startDate"})}},{key:"onInputChange",value:function(e,t){var r=t.target.value,n=this.props,o=n.after,i=n.before,l=(n.shortDateFormat,Object(d.o)(e,r,i,o,"MM/DD/YYYY")),c=l.date,s=l.error;this.setState({lastCurrentMonth:a()(c).add(1,"month")}),this.props.onUpdate(g(g(g({},e,c),e+"Text",r),e+"Error",r.length>0?s:null)),"before"!==e||s||this.setState({rangeKey:Object(h.x)()})}},{key:"setTnitialVisibleMonth",value:function(e,t){return function(){var r=t||a()();return e?r.clone().subtract(1,"month"):r}}},{key:"keepFocusInside",value:function(e,t){var r=this.props.popoverRef;(!t.relatedTarget||!t.relatedTarget.classList.contains("bwf-calendar-input-text")&&null!=r&&r.current&&null!=r&&r.current.contains(t.relatedTarget))&&this.nodeRef.current.querySelector(".DayPicker_focusRegion").focus({preventScroll:!0})}},{key:"handleStartPrevClick",value:function(e){this.setState({lastCurrentMonth:a()(e).add(1,"month")})}},{key:"handleEndPrevClick",value:function(e){this.setState({lastCurrentMonth:a()(e).add(1,"month")})}},{key:"render",value:function(){var e=this,t=this.props,r=t.after,o=t.before,i=t.focusedInput,c=t.afterText,u=t.beforeText,_=t.afterError,b=t.beforeError,d=(t.shortDateFormat,t.isViewportMobile),E=t.isInvalidDate,h=a()().format("MM");return Object(n.createElement)("div",{className:s()("bwf-calendar bwf-date-range-calender",{"is-mobile":d})},Object(n.createElement)("div",{className:"bwf-calendar-inputs"},Object(n.createElement)(y,{value:c,onChange:Object(p.partial)(this.onInputChange,"after"),dateFormat:"MM/DD/YYYY",label:Object(l.__)("Start Date","wp-marketing-automations"),error:_,describedBy:Object(l.sprintf)(Object(l.__)("Date input describing a selected date range's start date in format %s","wp-marketing-automations"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("startDate")}}),Object(n.createElement)("div",{className:"bwf-calendar-inputs-to"},Object(l.__)("to","wp-marketing-automations")),Object(n.createElement)(y,{value:u,onChange:Object(p.partial)(this.onInputChange,"before"),dateFormat:"MM/DD/YYYY",label:Object(l.__)("End Date","wp-marketing-automations"),error:b,describedBy:Object(l.sprintf)(Object(l.__)("Date input describing a selected date range's end date in format %s","wp-marketing-automations"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("endDate")}})),Object(n.createElement)("div",{className:"bwf-date-picker-container bwf-calendar-react-dates",ref:this.nodeRef,onBlur:Object(p.partial)(this.keepFocusInside,"container"),tabIndex:-1},Object(n.createElement)(f.DayPickerRangeController,{onPrevMonthClick:this.handleStartPrevClick,onNextMonthClick:this.handleEndPrevClick,navNext:this.state.lastCurrentMonth.format("MM")===h?Object(n.createElement)("span",{className:"bwf-cursor-text"},Object(n.createElement)(O.a,{height:16,width:16,icon:"angle-right",color:"#9A9898"})):Object(n.createElement)(O.a,{height:16,width:16,icon:"angle-right",color:"#323232"}),navPrev:Object(n.createElement)(O.a,{height:16,width:16,icon:"angle-left",color:"#323232"}),onDatesChange:this.onDatesChange,onFocusChange:this.onFocusChange,focusedInput:i,startDate:r,endDate:o,orientation:"horizontal",numberOfMonths:2,isOutsideRange:function(e){return E&&E(e.toDate())},maxDate:a()().endOf("month"),minimumNights:0,hideKeyboardShortcutsPanel:!0,noBorder:!0,isRTL:Object(l.isRTL)(),initialVisibleMonth:this.setTnitialVisibleMonth(!0,o),phrases:v.a,key:this.state.rangeKey})),Object(n.createElement)("div",{className:"bwf-date-picker-actions"},Object(n.createElement)(m.Button,{isPrimary:!0,disabled:Object(p.isEmpty)(c)||Object(p.isEmpty)(u),className:Object(p.isEmpty)(c)||Object(p.isEmpty)(u)?"bwf-no-ripple":"",onClick:function(){var t={after:c,before:u};e.props.value(t),e.props.onClose()}},Object(l.__)("Done","wp-marketing-automations"))))}}])&&w(r.prototype,o),i&&w(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component),A=Object(b.withViewportMatch)({isViewportMobile:"< medium",isViewportSmall:"< small"})(T);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function R(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}function k(e,t,r){return t=S(t),function(e,t){if(t&&("object"==L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],S(e).constructor):t.apply(e,r))}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=k(this,t,[e])).state=r.getResetState(),r.onTabSelect=r.onTabSelect.bind(r),r.onUpdate=r.onUpdate.bind(r),r.controlsRef=Object(n.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(t,e),r=t,(o=[{key:"getResetState",value:function(){var e=this.props,t=e.period,r=e.compare,n=e.before,o=e.after;return{period:t,compare:r,before:n,after:o,focusedInput:"startDate",afterText:this.formatDate(o,"MM/DD/YYYY"),beforeText:this.formatDate(n,"MM/DD/YYYY"),afterError:null,beforeError:null}}},{key:"formatDate",value:function(e,t){return e&&e._isAMomentObject&&"function"==typeof e.format?e.format(t):""}},{key:"onUpdate",value:function(e){this.setState(e)}},{key:"onTabSelect",value:function(e){var t=this.props.period;"period"===e&&"custom"===t&&this.onUpdate({period:"today"})}},{key:"isFutureDate",value:function(e){return a()().isBefore(a()(e),"day")}},{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.value,o=e.popoverRef,a=this.state,i=a.after,l=a.before,c=a.focusedInput,s=a.afterText,u=a.beforeText,_=a.afterError,f=a.beforeError;return Object(n.createElement)(A,{after:i,before:l,onUpdate:this.onUpdate,isInvalidDate:this.isFutureDate,focusedInput:c,afterText:s,beforeText:u,afterError:_,beforeError:f,shortDateFormat:"MM/DD/YYYY",losesFocusTo:this.controlsRef.current,onClose:function(){return t()},value:function(e){return r(e)},popoverRef:o})}}])&&I(r.prototype,o),i&&I(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);U.propTypes={onClose:_.a.func};var K=U,W=r(169),N=r(57);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y(n.key),n)}}function Y(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}function q(e,t,r){return t=V(t),function(e,t){if(t&&("object"==F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],V(e).constructor):t.apply(e,r))}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=q(this,t,[e])).isValidSelection=r.isValidSelection.bind(r),r.popoverRef=Object(n.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(t,e),r=t,(o=[{key:"getButtonLabel",value:function(){var e=this.props.dateQuery,t=e.primaryDate,r=e.secondaryDate,n=["".concat(t.label," (").concat(t.range,")")];return this.props.hideCompare||n.push("".concat(Object(l.__)("vs.","wp-marketing-automations")," ").concat(r.label," (").concat(r.range,")")),n}},{key:"isValidSelection",value:function(e){var t=this.state,r=t.compare,n=t.after,o=t.before;return"custom"!==e||r&&n&&o}},{key:"render",value:function(){var e=this,t=this.props,r=t.disablePresets,o=void 0!==r&&r,i=t.hasValue,l=t.showIcon,c=t.onRangeSelect,u=t.dateQuery,_=t.dateRange;return Object(n.createElement)("div",{className:"bwf-range-filter"},Object(n.createElement)("div",{className:s()("bwf-range-filters-container",{"bwf-presets-disable":o})},Object(n.createElement)(N.a,{contentClassName:"bwf-filters-date-content is-from-bottom-only",expandOnMobile:!0,renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return Object(n.createElement)(W.a,{onClick:r,isOpen:t,labels:!Object(p.isEmpty)(_)&&_.hasOwnProperty("after")?["".concat(a()(_.after).format(d.a)," - ").concat(a()(_.before).format(d.a))]:["Start Date ~ End Date"],showIcon:l,hasValue:i})},renderContent:function(t){var r=t.onClose;return Object(n.createElement)(K,{hideCompare:e.props.hideCompare,onClose:r,after:_.hasOwnProperty("after")?a()(_.after):null,before:a()(_.before).endOf("day"),isValidSelection:e.isValidSelection,disablePresets:o,value:function(e){return c(e)},dateQuery:u,popoverRef:e.popoverRef})},popoverProps:{ref:this.popoverRef}})))}}])&&x(r.prototype,o),i&&x(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component),G=r(12);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(e){var t=e.value,r=e.rule,o=e.setData,l=e.returnPeriod,c=Object(n.useRef)(!0),s=Object(G.i)(),u=l&&{period:r};return Object(n.useEffect)((function(){if(Object(p.isEmpty)(r)||"specificDate"===r||"custom"===r)c.current||o("");else{s.period=r;var e=((t=s).compare="previous_year",{primary:Object(d.e)(t).primary}).primary;o(Q({before:e.before.format(d.b),after:e.after.format(d.b)},u))}var t;c.current&&(c.current=!1)}),[r]),Object(n.createElement)(n.Fragment,null,"specificDate"!==r&&"custom"!==r&&Object(n.createElement)("div",{style:{marginTop:-16}}),"specificDate"===r&&Object(n.createElement)(i.a,{dateFormat:d.a,onUpdate:function(e){o(Q({before:a()(e.date).endOf("day").format(d.b),after:a()(e.date).startOf("day").format(d.b)},u))},text:t&&t.before?a()(t.before).format(d.a):"Select Date",date:t&&t.before?a()(t.before).format(d.a):a()().format(d.a),hasValue:!(!t||!t.before),iconRight:!0,placeHolder:"Select Date",disabled:!0,position:"bottom right",isInvalidDate:function(e){return a()(e).isAfter(a()(),"day")},className:"is-from-bottom-only"}),"custom"===r&&Object(n.createElement)($,{key:JSON.stringify(s),dateRange:Object(p.size)(t)?t:{before:a()().endOf("day").format(d.a)},hasValue:!Object(p.isEmpty)(t),onRangeSelect:function(e){o(Q({before:a()(e.before).format("YYYY-MM-DD 23:59:59"),after:a()(e.after).format(d.b)},u))},isoDateFormat:d.a,hideCompare:!0,showIcon:!0}))}},1446:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(2),a=r(1),i=(r(1412),r(145)),l=r(51);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["getStateProp"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(){var e=Object(l.a)("email-activity"),t=e.getStateProp;return _(_({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,s)),{},{getContacts:function(){return t("contacts")||[]},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total"))},getLoadingStatus:function(){return t("isLoading")},getCountData:function(){return t("countData")},getContactCountData:function(){return t("contactCountData")},getFilterList:function(){return t("filter_list")}})},b=r(17),d=r(50),m=r(3);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=["fetch","setStateProp"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(){var e=Object(d.a)("email-activity"),t=e.fetch,r=e.setStateProp;return v(v({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,E)),{},{fetch:function(e,n,o,a,i){r("isLoading",!0),r("contactCountData",{}),t("GET",Object(m.A)("/v3/email-activity".concat(Object(b.stringify)({limit:e,offset:n,search:decodeURIComponent(o),filters:a&&JSON.stringify(a),filter_list:i},{addQueryPrefix:!0}))))},setValues:function(e,t){r(e,t)}})},g=r(349),w=r(11),P=r(1165),D=r(33),M=r(335),C=r(194),T=r(1413);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var I=function(e){switch(parseInt(e)){case 1:return Object(n.createElement)("span",{className:"bwf-tags bwf-tag-gray"},Object(a.__)("Draft","wp-marketing-automations"));case 2:return Object(n.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(a.__)("Completed","wp-marketing-automations"));case 3:return Object(n.createElement)("span",{className:"bwf-tags bwf-tag-red"},Object(a.__)("Failed","wp-marketing-automations"));case 4:return Object(n.createElement)("span",{className:"bwf-tags bwf-tag-orange"},Object(a.__)("Bounced","wp-marketing-automations"));default:return Object(n.createElement)(n.Fragment,null)}},R=[{key:"name",label:Object(a.__)("Name","wp-marketing-automations"),cellClassName:"bwf-w-210 bwf-table-col-sticky bwf-sticky-left"},{key:"source",label:Object(a.__)("Sources","wp-marketing-automations")},{key:"type",label:Object(a.__)("Type","wp-marketing-automations")},{key:"subject",label:Object(a.__)("Subject","wp-marketing-automations"),cellClassName:"bwf-word-break"},{key:"sent_on",label:Object(a.__)("Sent On","wp-marketing-automations")},{key:"status",label:Object(a.__)("Status","wp-marketing-automations")},{key:"sent",label:Object(a.__)("Sent","wp-marketing-automations"),cellClassName:"bwf-t-center"},{key:"open",label:Object(a.__)("Open","wp-marketing-automations"),cellClassName:"bwf-t-center"},{key:"click",label:Object(a.__)("Click","wp-marketing-automations"),cellClassName:"bwf-t-center"},{key:"details",label:Object(a.__)("Details","wp-marketing-automations"),cellClassName:"bwf-w-90 bwf-table-col-sticky bwf-sticky-right"}];t.default=function(){Object(g.a)(Object(a.__)("Email History","wp-marketing-automations"),"",0,"history");var e=A(Object(n.useState)({status:!1}),2),t=e[0],r=e[1],l=A(Object(n.useState)(""),2),c=l[0],s=l[1],u=A(Object(n.useState)([]),2),_=u[0],f=u[1],b=p(),d=b.getContacts,O=b.getLoading,E=b.getPerPageCount,y=b.getTotalCount,v=b.getPageNumber,h=b.getOffset,L=b.getFilterList,k=d(),S=j(),B=S.fetch,U=S.setValues,K=O(),W=v(),N=E(),F=y(),x=h(),Y=L(),q=k.map((function(e){return[{value:e.email,display:Object(n.createElement)(n.Fragment,null,Object(o.isEmpty)(Object(o.get)(e,"contact"))?Object(n.createElement)("div",null,e.hasOwnProperty("send_to")&&""!==e.send_to?e.send_to:Object(a.__)("Contact not exists","wp-marketing-automations")):Object(n.createElement)(D.a,{href:"admin.php?page=autonami&path=/contact/"+Object(o.get)(e,"contact.id")+"/email&return_to=/history",type:"bwf-crm",className:"bwf-crm-campaign-contactData-contact-link bwf-a-no-underline",key:Object(o.get)(e,"contact.id")},Object(n.createElement)(M.a,{contact:e.contact,hideJoiningDate:!0})))},{value:Object(o.get)(e,"source.id",0),display:Object(o.get)(e,"source.link",0)?Object(n.createElement)(D.a,{className:"bwf-a-no-underline",href:Object(o.get)(e,"source.link","")+"&return_to=/history"},Object(o.get)(e,"source.name","-")):Object(o.get)(e,"source.name","-")},{value:Object(o.get)(e,"source.type"),display:Object(o.get)(e,"source.type")},{value:Object(o.get)(e,"subject"),display:Object(o.get)(e,"subject","-")},{value:Object(o.get)(e,"sent_on","-"),display:Object(m.ib)(Object(o.get)(e,"sent_on","-"))},{value:e.c_status,display:I(e.c_status)},{display:Object(n.createElement)("span",{className:"bwf-crm-status bwf-crm-status-".concat(parseInt(e.c_status))}),value:""},{display:parseInt(e.open)>0?Object(n.createElement)("span",{className:"bwf-crm-status bwf-crm-status-2"}):Object(n.createElement)("span",{className:"bwf-crm-status"}),value:""},{display:parseInt(e.click)>0?Object(n.createElement)("span",{className:"bwf-crm-status bwf-crm-status-2"}):Object(n.createElement)("span",{className:"bwf-crm-status"}),value:""},{value:"view",display:Object(n.createElement)(w.a,{className:"bwf-btn-small is-light bwf-btn-gray is-secondary",onClick:function(){return r({status:!0,contact:e.contact,conversation:e})}},Object(a.__)("View","wp-marketing-automations"))}]}));Object(n.useEffect)((function(){Object(m.m)(Object(a.__)("Email History","wp-marketing-automations")),B(25,0,c,[],!0)}),[]);var V=function(e){e!==N&&(U("limit",e),B(e,x,c,Object(m.V)(_,Y)))};return Object(n.createElement)("div",{className:"bwf-email-activity"},Object(n.createElement)("div",{className:"bwf-content-header-new"},Object(n.createElement)("div",{className:"bwf-content-header-left"},Object(n.createElement)("div",{className:"bwf-content-header-title"},Object(a.__)("Email History","wp-marketing-automations")),!K&&parseInt(F)>0&&Object(n.createElement)("div",{className:"bwf-content-header-count"},Object(a.sprintf)(Object(a.__)("(%s Results)","wp-marketing-automations"),F)))),Object(n.createElement)(i.a,{rows:q,headers:R,query:{paged:W},rowsPerPage:N,totalRows:F,isLoading:K,onPageChange:function(e){var t=(e-1)*N;U("offset",t),B(N,t,c,Object(m.V)(_,Y))},onQueryChange:function(e){return"per_page"!==e?function(){}:V},showMenu:!1,rowHeader:!0,actions:[Object(n.createElement)(C.a,{key:"search",isLoading:K,searchTerm:c,showResultCount:!1,setSearchData:function(e){Object(o.size)(e)?s(e):s(""),B(N,0,e,_)}}),Object(n.createElement)(T.a,{filterList:null!=Y?Y:[],isLoading:!1,filterData:_,setFilterData:function(e){f(e),Object(o.isEmpty)(e)?B(N,0,c,[]):B(N,0,c,Object(m.V)(e,Y))},key:"contact-filter"})],emptyMessage:Object(a.__)("No email activities found","wp-marketing-automations")}),Object(n.createElement)(P.a,{onRequestClose:function(){return r({status:!1})},conversation:t.conversation,contact:t.contact,isOpen:t.status}))}},1451:function(e,t,r){"use strict";var n=r(0),o=r(1),a=r(9),i=r.n(a),l=r(3),c=r(8),s=(r(1415),r(2)),u=r(49),_=r(41);function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t,r=e.conditionLabel,a=e.options,i=e.values,b=e.selectedValue,d=e.searchedValue,m=e.onChangeValue,O=e.onChangeData,E=e.className,y=e.isLoading,v=e.defaultOptions,h=e.placeholder,j=e.showInitialList,g=void 0!==j&&j,w=e.multiGroup,P=void 0!==w&&w,D=(e.hasDefaultOption,e.abortController),M=(e.isFirstLoading,Object(n.useRef)()),C=Object(n.useRef)(),T=Object(n.useRef)(),A=p(Object(n.useState)(g),2),L=A[0],I=A[1],R=p(Object(n.useState)([]),2),k=R[0],S=R[1],B=p(Object(n.useState)(""),2),U=B[0],K=B[1],W=p(Object(n.useState)([]),2),N=W[0],F=W[1],x=p(Object(n.useState)(""),2),Y=x[0],q=x[1],V=p(Object(n.useState)(0),2),z=V[0],$=V[1],G=p(Object(n.useState)(0),2),H=G[0],J=G[1],Q=p(Object(n.useState)(),2),X=Q[0],Z=Q[1],ee=p(Object(n.useState)({}),2),te=ee[0],re=ee[1],ne=p(Object(n.useState)(!1),2),oe=(ne[0],ne[1]);Object(n.useEffect)((function(){if(Object(s.size)(k)>1&&void 0!==k){var e,t=null==k?void 0:k.filter((function(e){var t;if(!U.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString()))return e}));J(null===(e=t[0])||void 0===e?void 0:e.id),k.forEach((function(e,r){var n;e.id==(null===(n=t[0])||void 0===n?void 0:n.id)&&$(r)}))}}),[k,U,N]),Object(n.useEffect)((function(){Object(s.size)(k)>1&&void 0!==k&&k.forEach((function(e,t){e.id==H&&$(t)}))}),[L]),Object(n.useEffect)((function(){if(Object(s.size)(k)>1&&void 0!==k){var e=k.filter((function(e,t){var r;if(null==U||!U.includes(null==e||null===(r=e.id)||void 0===r?void 0:r.toString()))return e}));re(e)}}),[U]),Object(n.useEffect)((function(){Object(s.size)(k)>1&&void 0!==k&&k.forEach((function(e,t){t==z&&Z(null==e?void 0:e.id)}))}),[z,L]),Object(n.useEffect)((function(){Object(s.size)(k)>1&&void 0!==k&&k.forEach((function(e,t){(null==e?void 0:e.id)==(null==X?void 0:X.id)&&$(t)}))}),[X]),Object(n.useEffect)((function(){var e;((null==a?void 0:a.length)>0||(null==v?void 0:v.length)>0)&&(""==Y&&"no-result"===(null===(e=a[0])||void 0===e?void 0:e.id)&&Object(s.isEmpty)(v)?S([{id:"no-result",name:"No data available"}]):""==Y||0===(null==a?void 0:a.length)?S(v):S(a),K(i),F(b))}),[a,v,U]),Object(l.Oc)(M,(function(){return I(!1)}));var ae=function(e){m(e)},ie=function(e){O(e)};Object(n.useEffect)((function(){""==Y&&S(v),le()}),[Y]),Object(n.useEffect)((function(){L?T.current.focus():T.current.blur()}),[L]);var le=function(){if(T.current){var e=T.current.parentElement;if(""===Y)return e.style.width="70px",!0;var t=.75*(Y.length+1)+"em";e.style.width=t}};Object(n.useEffect)((function(){var e=v.reduce((function(e,t){return e.concat(t.steps)}),[]);Object(s.size)(P?e:v)===Object(s.size)(U)&&S([{id:"no-result",name:"No data available"}])}),[v,U]),Object(n.useEffect)((function(){k.every((function(e){return U.includes(e.id)}))&&(Object(s.isEmpty)(Y)?S([{id:"no-result",name:"No data available"}]):S([{id:"no-result",name:'No result found for "'.concat(Y,'"')}]))}),[k,U]);return Object(n.createElement)(n.Fragment,null,r?Object(n.createElement)("label",null,r):null,Object(n.createElement)("div",{className:"chosen-container chosen-container-multi ".concat(L&&"chosen-container-active chosen-with-drop"),onClick:function(){return I(!0)},ref:M},Object(n.createElement)("ul",{className:"chosen-choices bwf-select-container bwf-rule-input-conatiner ".concat(E)},null===(t=Object(s.isEmpty)(N)?v:N)||void 0===t?void 0:t.map((function(e,t){var r;if(null!=U&&U.includes(null==e||null===(r=e.id)||void 0===r?void 0:r.toString()))return Object(n.createElement)("li",{className:"bwf-select-choice",key:t},Object(n.createElement)("span",{className:"bwf-selected-label"},e.labelText?e.labelText:null!=e&&e.label?Object(u.decodeEntities)(null==e?void 0:e.label):Object(u.decodeEntities)(null==e?void 0:e.name)),Object(n.createElement)("span",{className:"search-choice-close bwf-cursor-pointer",onClick:function(){var t=N.filter((function(t){return t.id!==e.id})),r=JSON.parse(JSON.stringify(t));F(r),ie(r);var n=r.map((function(e){var t;return null==e||null===(t=e.id)||void 0===t?void 0:t.toString()}));K(n),ae(n),I(!1)}},Object(n.createElement)(c.a,{icon:"cross-circle",height:"16",width:"16"})))})),Object(n.createElement)("li",{className:"search-fiesetConditionValueld"},Object(n.createElement)("input",{ref:T,className:"bwf-condition-input bwf_w_full",type:"text",autoComplete:"off",onChange:function(e){var t;D&&(null===(t=D.current)||void 0===t||t.abort());q(e.target.value),C.current&&clearTimeout(C.current),C.current=setTimeout((function(){Object(s.isEmpty)(e.target.value),d(e.target.value),q(e.target.value)}),600)},onFocus:function(){oe(!0)},onBlur:function(){oe(!1)},value:Y||"",onKeyDown:function(e){38===e.keyCode&&z>0&&!P?te.map((function(e,t){e.id==X&&Z(te[t-1])})):40===e.keyCode&&z<(null==k?void 0:k.length)-1&&!P&&te.map((function(e,t){e.id==X&&Z(te[t+1])}))},onKeyPress:function(e){var t,r,n,o,a=null===(t=k[z])||void 0===t||null===(t=t.id)||void 0===t?void 0:t.toString();"Enter"!==e.key||!L||P||"no-result"===a||y?"Enter"===e.key&&"no-result"===a&&T.current.focus():(e.preventDefault(),null!=U&&U.includes(null===(r=k[z])||void 0===r||null===(r=r.id)||void 0===r?void 0:r.toString())||(F([].concat(f(N),[k[z]])),ie([].concat(f(N),[k[z]])),K([].concat(f(U),[null===(n=k[z])||void 0===n||null===(n=n.id)||void 0===n?void 0:n.toString()])),ae([].concat(f(U),[null===(o=k[z])||void 0===o||null===(o=o.id)||void 0===o?void 0:o.toString()])),d(""),q(""),setTimeout((function(){I(!1)}))))}}),Object(n.createElement)("div",{className:"bwf-chosen-select-placeholder",placeholdervalue:0===Y.length?h:""},Object(n.createElement)(c.a,{icon:"search",color:"#82838e",size:15})))),Object(n.createElement)(_.a,{focusOnMount:!1,position:"bottom",className:"chosen-drop ".concat(Object(s.isEmpty)(k)&&!y?"bwf-no-data":"")},Object(n.createElement)("ul",{className:" ".concat(L?"chosen-results":"bwf-hide")},y?Object(n.createElement)("li",{className:"active-result"},Object(n.createElement)("span",{className:"bwf-no-data-found bwf-select-option"},Object(o.__)("Fetching details","wp-marketing-automations"))):null==k?void 0:k.map((function(e,t){var r,o,a,i=null==e||null===(r=e.steps)||void 0===r?void 0:r.every((function(e){var t;return null==U?void 0:U.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())}));return P?Object(n.createElement)("div",{key:"bwf-suggestion-panel-".concat(t)},i?null:Object(n.createElement)("div",{className:"bwf-list-heading"},e.name),null==e||null===(a=e.steps)||void 0===a?void 0:a.map((function(e){var t;return Object(n.createElement)("div",{key:e.id,className:"bwf-list-name ".concat(null!=U&&U.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())?"result-selected":"active-result"," "),onClick:function(){var t,r,n;"no-result"===e.id||null!=U&&U.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())?"no-result"===e.id&&T.current.focus():(F([].concat(f(N),[e])),ie([].concat(f(N),[e])),K([].concat(f(U),[null==e||null===(r=e.id)||void 0===r?void 0:r.toString()])),ae([].concat(f(U),[null==e||null===(n=e.id)||void 0===n?void 0:n.toString()])),d("",!1,!1),q(""),setTimeout((function(){I(!1)})))}},Object(n.createElement)("div",null,e.name))}))):Object(n.createElement)("li",{key:t,className:"".concat(null!=U&&U.includes(null==e||null===(o=e.id)||void 0===o?void 0:o.toString())?"result-selected":"active-result ".concat(z===t&&"no-result"!==e.id?"bwf-select-active":null)," "),onMouseOver:function(){var r;return!(null!=U&&U.includes(null==e||null===(r=e.id)||void 0===r?void 0:r.toString()))&&$(t)},onClick:function(){var t,r,n;"no-result"===e.id||null!=U&&U.includes(null==e||null===(t=e.id)||void 0===t?void 0:t.toString())?"no-result"===e.id&&T.current.focus():(F([].concat(f(N),[e])),ie([].concat(f(N),[e])),K([].concat(f(U),[null==e||null===(r=e.id)||void 0===r?void 0:r.toString()])),ae([].concat(f(U),[null==e||null===(n=e.id)||void 0===n?void 0:n.toString()])),d("",!1,!1),q(""),setTimeout((function(){I(!1)})))}}," ",e.labelText?e.labelText:null!=e&&e.label?Object(u.decodeEntities)(null==e?void 0:e.label):Object(u.decodeEntities)(null==e?void 0:e.name))}))))))},O=r(6),E=r.n(O),y=r(108);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return M(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){e.slug;var t=e.api,r=e.setData,a=e.value,c=(e.searchHelper,e.default_options),u=e.operators,_=e.rule,f=Object(n.useRef)(!0),p=P(Object(n.useState)([]),2),b=p[0],d=p[1],O=P(Object(n.useState)(Object(s.size)(c)?c:[{id:"no-result",name:"No data available"}]),2),v=O[0],j=O[1],w=P(Object(n.useState)(!Object(s.size)(c)),2),D=w[0],M=w[1],C=P(Object(n.useState)(!1),2),T=C[0],A=C[1],L=P(Object(n.useState)(!1),2),I=L[0],R=L[1],k=P(Object(n.useState)(Object(s.isArray)(a)?a.map((function(e){var t;return g(g({},e),{},{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()})})):[]),2),S=k[0],B=k[1],U=Object(n.useRef)(new AbortController),K=function(e){return e.value?Object(n.createElement)("div",{className:"bwf-flex bwf--space-between"},Object(n.createElement)("span",{className:"bwf-t-overflow-ellipsis bwf-w-180",title:e.label||e.name},e.label||e.name),Object(n.createElement)(y.b,{content:e.value})):e.label||e.name},W=function(e,t){e&&r("",t)},N=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){U.current=new AbortController,Object(s.size)(e)?M(!0):M(!!r);var o=("string"==typeof t?t:t[_]).replace("{{search}}",encodeURIComponent(e)).replace("{{rule}}",_);i()({path:Object(l.A)(o),signal:U.current.signal}).then((function(t){if(t&&Object(s.isArray)(t.result)&&!Object(s.isEmpty)(t.result)){var n,o,a;A(null===(n=t[0])||void 0===n?void 0:n.hasOwnProperty("steps"));var i=t.result.map((function(e){return{name:e.name||e.label||e.title,id:e.id.toString(),labelText:K(e),steps:null==e?void 0:e.steps}})),l=t.result.map((function(e){var t;return{name:(null==e?void 0:e.name)||(null==e?void 0:e.label)||e.title,id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()}}));Object(s.size)(e)&&null!==(o=t.result[0])&&void 0!==o&&o.hasOwnProperty("steps")?(d(i),W(r,i)):null!==(a=t.result[0])&&void 0!==a&&a.hasOwnProperty("steps")?(j(i),W(r,i)):Object(s.size)(e)?(d(l),W(r,l)):(j(l),W(r,l))}else Object(s.isEmpty)(e)?d([{id:"no-result",name:"No data available"}]):d([{id:"no-result",name:'No result found for "'.concat(e,'"')}]),W(r,[{id:"no-result",name:"No data available"}]);M(!1),R(!1)})).catch((function(e){M(!1),console.log(e)}))}};Object(n.useEffect)((function(){Object(s.isEmpty)(a)&&Object(s.isEmpty)(c)&&(N("",!0),R(!0))}),[]);var F="string"==typeof t?"false":_;Object(n.useEffect)((function(){f.current||"false"===F||(B([]),r([]),N("",!1)),f.current&&(f.current=!1)}),[F]),Object(n.useEffect)((function(){var e;null!==(e=v[0])&&void 0!==e&&e.hasOwnProperty("steps")&&A(!0)}),[v]);var x=Object(s.isArray)(S)?S.map((function(e){return e.id})):[];return Object(n.createElement)(m,{values:x,isFirstLoading:I,searchedValue:function(e,t,r){N(e,t,r)},selectedValue:S,onChangeValue:function(){},multiGroup:T,hasDefaultOption:v,onChangeData:function(e){var t=e.map((function(e){var t;return{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString(),label:e.label||e.name}}));B(h(t)),r(e.map((function(e){return{id:null==e?void 0:e.id,label:e.label||e.name}})))},options:h(b.filter((function(e){return x.findIndex((function(t){return t.id===e.id}))<0}))),defaultOptions:v,className:E()("bwf-filter-search",{"no-operator":Object(s.isEmpty)(u)}),isLoading:D,placeholder:Object(o.__)("Search","wp-marketing-automations"),showInitialList:!1,abortController:U})}}}]);