(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1103:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);var o=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}},1118:function(e,t,n){"use strict";var r=n(51),o=n(3);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["fetch","setStateProp","clearError"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=Object(r.a)("singleTemplateData"),t=e.fetch,n=e.setStateProp,a=e.clearError;return u(u({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c)),{},{fetch:function(e){n("isLoading",!0),a(),t("GET",Object(o.C)("/template/".concat(e)))},setTemplateData:function(e){n("data",e)},setTemplateListData:function(e){n("listData",e)}})}},1121:function(e,t,n){"use strict";var r=n(0),o=n(1103),a=(n(1130),n(7)),c=n(1),i=n(9),u=n.n(i),l=n(3),s=n(5),f=n(2),m=n(54);function b(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return p(l,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(t,n){return a=t,i=0,u=e,m.n=n,c}};function b(n,r){for(i=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],b=m.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=b&&((o=n<2&&b<a[1])?(i=0,m.v=r,m.n=a[1]):b<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,m.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&b(s,p),i=s,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(m.n=-1),b(i,u)):m.n=u:m.v=u);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=m.n<0)?u:n.call(r,m))!==c)break}catch(t){a=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var c={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(p(t={},r,(function(){return this})),t),f=l.prototype=i.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,p(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,p(f,"constructor",l),p(l,"constructor",u),u.displayName="GeneratorFunction",p(l,o,"GeneratorFunction"),p(f),p(f,o,"Generator"),p(f,r,(function(){return this})),p(f,"toString",(function(){return"[object Generator]"})),(b=function(){return{w:a,m:m}})()}function p(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(p=function(e,t,n,r){function a(t,n){p(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function O(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){O(a,r,o,c,i,"next",e)}function i(e){O(a,r,o,c,i,"throw",e)}c(void 0)}))}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g={automation:Object(c.__)("Automation","wp-marketing-automations"),templates:Object(c.__)("Template","wp-marketing-automations"),recovered_carts:Object(c.__)("Recovered Cart","wp-marketing-automations"),lost_carts:Object(c.__)("Lost Cart","wp-marketing-automations"),recoverable_carts:Object(c.__)("Recoverable Cart","wp-marketing-automations")};t.a=function(e){var t=e.type,n=void 0===t?"":t,i=e.localData,p=void 0===i?{}:i,O=e.onDismiss,d=void 0===O?function(){}:O,w=Object(r.useContext)(l.h),v=j(Object(r.useState)(1),2),h=v[0],_=v[1],E=j(Object(r.useState)(!1),2),k=E[0],P=E[1],S=j(Object(r.useState)(!1),2),T=S[0],C=S[1],x=j(Object(r.useState)(!1),2),D=x[0],N=x[1],I=j(Object(r.useState)({status:!1}),2),A=I[0],F=I[1],M=j(Object(r.useState)({}),2),G=M[0],L=M[1],B=function(){var e=y(b().m((function e(){var t;return b().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,u()({path:Object(l.C)("/export/status?type=".concat(n)),method:"GET"}).then((function(e){if(200!==e.code||!e.hasOwnProperty("result"))throw Error(Object(l.w)(null==e?void 0:e.message));var t=e.result,n=t.status,r=void 0===n?1:n,o=t.msg,a=void 0===o?[]:o,c=t.url,i=void 0===c?"":c;_(r),L({msg:a,url:i})}));case 1:e.n=3;break;case 2:e.p=2,t=e.v,w(t.hasOwnProperty("message")&&""!==t.message?t.message:Object(c.__)("Unable to export.","wp-marketing-automations")),Object(l.Pb)(w,3e3);case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(Object(f.isEmpty)(p))""!==n&&B();else{var e=p.status,t=void 0===e?1:e,r=p.msg,o=void 0===r?[]:r,a=p.url,c=void 0===a?"":a;_(t),L({msg:o,url:c})}}),[]);var R=function(){var e=y(b().m((function e(){var t;return b().w((function(e){for(;;)switch(e.p=e.n){case 0:return N(!0),e.p=1,e.n=2,u()({path:Object(l.C)("/export/action?type=".concat(n,"&action=cancel")),method:"POST"}).then((function(e){if(200!==e.code||!e.hasOwnProperty("result"))throw Error(Object(l.w)(null==e?void 0:e.message));var t=e.result.status;(void 0===t?1:t)&&(bwfcrm_contacts_data.export_data.hasOwnProperty(n)&&delete bwfcrm_contacts_data.export_data[n],P(!0),d()),N(!1)}));case 2:e.n=4;break;case 3:e.p=3,t=e.v,N(!1),F({status:!0,error:t.hasOwnProperty("message")&&""!==t.message?t.message:Object(c.__)("Unable to cancel export.","wp-marketing-automations")}),Object(l.Pb)(w,3e3);case 4:return e.a(2)}}),e,null,[[1,3]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=y(b().m((function e(){return b().w((function(e){for(;;)switch(e.n){case 0:window.open(Object(l.zb)()+"/wp-json"+Object(l.C)("/export/download?type=".concat(n,"&bwf-nonce=").concat(Object(l.H)(),"&user_id=").concat(Object(l.Q)())),"_blank");case 1:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(o.a)((function(){1==h&&""!==n&&B()}),5e3),""===n||k)return Object(r.createElement)(r.Fragment,null);var q=G.url,z=void 0===q?"":q,V=G.msg,$=void 0===V?[]:V,H={1:Object(c.__)("Export In Progress…","wp-marketing-automations"),2:Object(c.__)("File Is Ready","wp-marketing-automations"),3:Object(c.__)("Export Failed","wp-marketing-automations")},J={1:Object(c.__)("Cancel","wp-marketing-automations"),2:Object(c.__)("Download","wp-marketing-automations"),3:Object(c.__)("View Details","wp-marketing-automations")};return Object(r.createElement)("div",{className:"bwf-export-info-wrap bwf-status-".concat(h)},Object(r.createElement)("div",{className:"bwf-export-info-left"},Object(r.createElement)("div",{className:"bwf-export-status-icon"},Object(r.createElement)(a.a,{icon:"export-info",size:20})),Object(r.createElement)("div",{className:"bwf-export-status-message"},H[h])),Object(r.createElement)("div",{className:"bwf-export-info-right"},(2!==parseInt(h)||!(2===parseInt(h)&&""===z))&&Object(r.createElement)("div",{className:"bwf-export-status-button",onClick:function(){switch(parseInt(h)){case 1:F({status:!0});break;case 2:U();break;case 3:C(!0)}}},J[h]),1!==parseInt(h)&&Object(r.createElement)("div",{className:"bwf-export-status-dismiss",onClick:R},Object(r.createElement)(a.a,{icon:"close",size:16,color:"#FFF"}))),T&&Object(r.createElement)(s.Modal,{onRequestClose:function(){return C(!1)},className:"bwf-admin-modal bwf-admin-modal-480 bwf-admin-modal-no-header bwf-export-info-modal"},Object(r.createElement)("div",{className:"bwf-admin-m-header-new"},Object(r.createElement)("div",{className:"bwf-admin-m-title"},Object(c.sprintf)(Object(c.__)("Error! Export %s","wp-marketing-automations"),g.hasOwnProperty(n)?g[n]:n)),Object(r.createElement)("div",{className:"bwf-admin-m-close",onClick:function(){return C(!1)}},Object(r.createElement)(a.a,{icon:"close",size:20}))),Object(r.createElement)("div",{className:"bwf-export-info-content"},Object(r.createElement)("div",{className:"bwf-export-info-content-bold"},Object(c.__)("Following reasons while creating file for export","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-export-info-content-error-list"},Object(f.isEmpty)($)?Object(r.createElement)("li",null,Object(c.__)("Unable to create export","wp-marketing-automations")):$.map((function(e,t){return Object(r.createElement)("li",{key:t},e)}))))),Object(r.createElement)(m.a,{modalTitle:Object(c.__)("Cancel Exporting","wp-marketing-automations"),deleteDescriptionText:Object(c.__)("Once you cancel the export, all progress will be lost, and the action cannot be reversed. Please confirm if you still wish to cancel.","wp-marketing-automations"),confirmButtonText:Object(c.__)("Proceed","wp-marketing-automations"),cancelButtonText:Object(c.__)("Cancel","wp-marketing-automations"),onConfirm:R,isLoading:D,successMessage:A.success,errorMessage:A.error,onRequestClose:function(){return F({status:!1})},isOpen:A.status,isDelete:!0}))}},1130:function(e,t,n){},1163:function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(3),c=(n(563),n(5)),i=n(7);t.a=function(e){var t=e.onFileSelected,n=e.filetypeArray,u=e.type,l=void 0===u?"automation":u,s=e.importText,f=void 0===s?"":s,m=e.importInfo,b=void 0===m?"":m,p=Object(r.useContext)(a.h),O=function(e){e&&e[0]&&"type"in e[0]?n.includes(e[0].type)?(t(e[0]),Object(a.Pb)(p,3e3)):p(Object(o.__)("Uploaded file is not valid.","wp-marketing-automations")):p(Object(o.__)("Uploaded file not found","wp-marketing-automations"))};return Object(r.createElement)("div",{className:"bwf-component-import-wrapper"},Object(r.createElement)("div",{className:"bwf-import-area-wrapper"},Object(r.createElement)(c.FormFileUpload,{isSecondary:!0,accept:"application/json",onChange:function(e){return O(e.target.files)},render:function(e){var t=e.openFileDialog;return Object(r.createElement)("div",{className:"bwf-import-area",onClick:t},Object(r.createElement)(i.a,{icon:"json-upload",size:72}),Object(r.createElement)("div",{className:"bwf-drop-import-heading"},""!==f?f:Object(o.__)("Click or Drag & Drop your JSON file","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-drop-import-content"},""!==b?b:Object(o.sprintf)(Object(o.__)("This tool allows you to import the %s from the JSON file.","wp-marketing-automations"),l)))}}),Object(r.createElement)(c.DropZone,{onFilesDrop:O,onHTMLDrop:O,onDrop:O})))}},1266:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),a=n(359),c=n(3),i=n(12),u=n(2),l=n(51);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=["fetch","setStateProp"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(){var e=Object(l.a)("templateData"),t=e.fetch,n=e.setStateProp;return b(b({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,f)),{},{fetch:function(e,r,o,a){n("isLoading",!0);var i=b({offset:r,limit:o,search:e.s,get_template:!1},!Object(u.isEmpty)(a)&&{category:a.map((function(e){return e.id})).join(",")});t("GET",Object(c.C)("/templates"),i)},setTemplateValues:function(e,t){n(e,t)}})},y=n(52);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["getStateProp"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(){var e=Object(y.a)("templateData"),t=e.getStateProp;return w(w({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,d)),{},{getTemplates:function(){return t("data")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getPageOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total_count"))}})},_=n(147),E=n(54),k=n(60),P=n(61),S=n(19),T=n(7),C=n(9),x=n.n(C),D=n(149),N=n(1118),I=n(1163),A=n(5);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return G(l,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(t,n){return a=t,i=0,u=e,m.n=n,c}};function b(n,r){for(i=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],b=m.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=b&&((o=n<2&&b<a[1])?(i=0,m.v=r,m.n=a[1]):b<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,m.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&b(s,p),i=s,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(m.n=-1),b(i,u)):m.n=u:m.v=u);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=m.n<0)?u:n.call(r,m))!==c)break}catch(t){a=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var c={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(G(t={},r,(function(){return this})),t),f=l.prototype=i.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,G(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,G(f,"constructor",l),G(l,"constructor",u),u.displayName="GeneratorFunction",G(l,o,"GeneratorFunction"),G(f),G(f,o,"Generator"),G(f,r,(function(){return this})),G(f,"toString",(function(){return"[object Generator]"})),(M=function(){return{w:a,m:m}})()}function G(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(G=function(e,t,n,r){function a(t,n){G(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(r.createElement)(r.Fragment,null,"".concat(""!==e?e:"It seems there was an issue during the import",". For further help, contact "),Object(r.createElement)("a",{href:Object(c.ib)("support",{utm_medium:"Support+Recipe+Import+Failed"}),target:"_blank",rel:"noopener noreferrer"},Object(o.__)(" support. ","wp-marketing-automations")))},$=function(e){var t=e.onRequestClose,n=Object(i.i)(),a=q(Object(r.useState)({status:!1,modalTitle:Object(o.__)("Import Template","wp-marketing-automations")}),2),u=a[0],l=a[1],s=q(Object(r.useState)(null),2),f=s[0],m=s[1],b=function(){var e,a=(e=M().m((function e(){var a,s;return M().w((function(e){for(;;)switch(e.p=e.n){case 0:return l(B(B({},u),{},{loading:!0,title:Object(o.__)("Please wait…","wp-marketing-automations"),message:Object(r.createElement)(r.Fragment,null,Object(o.sprintf)(Object(o.__)("Please wait! We are importing %s data","wp-marketing-automations"),null==f?void 0:f.name))})),e.p=1,(a=new FormData).append("files",f),e.n=2,x()({method:"POST",body:a,path:Object(c.C)("/templates/import")}).then((function(e){200==e.code?e.result.hasOwnProperty("template_id")?(l(B(B({},u),{},{status:!0,loading:!1,title:Object(o.__)("Importing Done","wp-marketing-automations"),message:Object(o.__)("Successfully Imported and added in your Template","wp-marketing-automations")})),setTimeout((function(){Object(i.l)({page:"autonami",path:"/template/".concat(e.result.template_id)},"/",{})}),1e3)):(Object(i.l)({path:"/templates/"},"/",n),t()):(m(null),l(B(B({},u),{},{status:!1,loading:!1,title:Object(o.__)("Importing Failed","wp-marketing-automations"),message:V(e.message)})))}));case 2:e.n=4;break;case 3:e.p=3,s=e.v,m(null),l(B(B({},u),{},{status:!1,loading:!1,title:Object(o.__)("Importing Failed","wp-marketing-automations"),message:V(s.message)}));case 4:return e.a(2)}}),e,null,[[1,3]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){U(a,r,o,c,i,"next",e)}function i(e){U(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){f&&b()}),[f]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(A.Modal,{className:"bwf-admin-modal bwf-admin-modal-480 bwf-admin-modal-no-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-admin-m-header-new"},Object(r.createElement)("div",{className:"bwf-admin-m-title"},Object(o.__)("Import Template","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-admin-m-close",onClick:t},Object(r.createElement)(T.a,{icon:"close",size:20}))),u.title&&Object(r.createElement)("div",{className:"bwf-import-modal-content bwf-t-center"},u.loading?Object(r.createElement)(T.a,{icon:"import-loading"}):Object(r.createElement)(T.a,{icon:u.status?"success-loader":"circle-close",size:48}),Object(r.createElement)("div",{className:"bwf-drop-import-content"},u.message)),!u.title&&Object(r.createElement)(I.a,{onFileSelected:function(e){return m(e)},filetypeArray:["application/json"],importText:Object(o.__)("Drag or Browse a json file to import template","wp-marketing-automations"),importInfo:"( "+Object(o.__)("File size 10 MB max","wp-marketing-automations")+" )"})))},H=n(97);function J(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return Q(l,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(t,n){return a=t,i=0,u=e,m.n=n,c}};function b(n,r){for(i=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],b=m.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=b&&((o=n<2&&b<a[1])?(i=0,m.v=r,m.n=a[1]):b<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,m.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&b(s,p),i=s,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(m.n=-1),b(i,u)):m.n=u:m.v=u);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=m.n<0)?u:n.call(r,m))!==c)break}catch(t){a=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var c={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Q(t={},r,(function(){return this})),t),f=l.prototype=i.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Q(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,Q(f,"constructor",l),Q(l,"constructor",u),u.displayName="GeneratorFunction",Q(l,o,"GeneratorFunction"),Q(f),Q(f,o,"Generator"),Q(f,r,(function(){return this})),Q(f,"toString",(function(){return"[object Generator]"})),(J=function(){return{w:a,m:m}})()}function Q(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(Q=function(e,t,n,r){function a(t,n){Q(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function W(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){W(a,r,o,c,i,"next",e)}function i(e){W(a,r,o,c,i,"throw",e)}c(void 0)}))}}var Y=function(e){var t=e.isOpen,n=e.tasks,a=e.onSuccess,i=e.onError,u=e.onRequestClose,l=e.actionType,s=n?n.length:0,f=Object(H.useMutation)(function(){var e=K(J().m((function e(t){return J().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,x()({path:Object(c.C)("/bulk-action/template"),method:"DELETE",data:{ids:t}});case 1:return e.a(2,e.v)}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return f.reset()}),2500),a&&a()},onError:function(){i&&i()}}),m=function(){var e=K(J().m((function e(){return J().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,f.mutate(n.map((function(e){return e.ID})));case 1:return e.a(2)}}),e)})));return function(){return e.apply(this,arguments)}}(),b={delete:{title:Object(o._n)("Delete Template","Delete Templates",s,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(o.__)("You are about to delete ","wp-marketing-automations"),Object(o._n)("template","templates",s,"wp-marketing-automations"),Object(o.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(o.__)("Delete","wp-marketing-automations"),cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),successMsg:Object(o.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(o.__)("Unable to delete template","wp-marketing-automations"),confirmDescription:Object(o.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(E.a,{modalTitle:b.hasOwnProperty(l)&&b[l].hasOwnProperty("title")?b[l].title:Object(o._n)("Perform Actions","Perform Actions",s,"wp-marketing-automations"),deleteDescriptionText:b.hasOwnProperty(l)&&b[l].hasOwnProperty("description")?b[l].description:"",confirmButtonText:b.hasOwnProperty(l)&&b[l].hasOwnProperty("confirmBtn")?b[l].confirmBtn:Object(o.__)("Confirm","wp-marketing-automations"),cancelButtonText:b.hasOwnProperty(l)&&b[l].hasOwnProperty("cancelBtn")?b[l].cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:m,isLoading:f.isLoading,successMessage:f.isSuccess&&(b.hasOwnProperty(l)&&b[l].hasOwnProperty("successMsg")?b[l].successMsg:Object(o.__)("Actions Done!","wp-marketing-automations")),errorMessage:f.isError&&(f.error&&f.error.message?f.error.message:b.hasOwnProperty(l)&&b[l].hasOwnProperty("errorMsg")?b[l].errorMsg:Object(o.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!u&&u()},isOpen:t,confirmDescription:b.hasOwnProperty(l)&&b[l].hasOwnProperty("confirmDescription")?b[l].confirmDescription:"",isDelete:!0})},Z=n(1121),X=n(44),ee=n(203),te=n(345),ne=n(26),re=n(11),oe=n(1135);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(){return(ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function ie(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return le(l,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(t,n){return a=t,i=0,u=e,m.n=n,c}};function b(n,r){for(i=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],b=m.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=b&&((o=n<2&&b<a[1])?(i=0,m.v=r,m.n=a[1]):b<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,m.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&b(s,p),i=s,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(m.n=-1),b(i,u)):m.n=u:m.v=u);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=m.n<0)?u:n.call(r,m))!==c)break}catch(t){a=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var c={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(le(t={},r,(function(){return this})),t),f=l.prototype=i.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,le(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,le(f,"constructor",l),le(l,"constructor",u),u.displayName="GeneratorFunction",le(l,o,"GeneratorFunction"),le(f),le(f,o,"Generator"),le(f,r,(function(){return this})),le(f,"toString",(function(){return"[object Generator]"})),(ue=function(){return{w:a,m:m}})()}function le(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(le=function(e,t,n,r){function a(t,n){le(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){be(a,r,o,c,i,"next",e)}function i(e){be(a,r,o,c,i,"throw",e)}c(void 0)}))}}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"==typeof e)return je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var de=function(e){var t=e.menuButtons,n=void 0===t?Object(r.createElement)(r.Fragment,null):t,a=e.pitchData,l=void 0===a?{}:a,s=e.setOpenProModal,f=void 0===s?function(){}:s,m=Object(r.useContext)(c.h),b=Object(i.i)(),p=b.s,y=void 0===p?"":p,j={1:Object(o.__)("Rich Text","wp-marketing-automations"),2:Object(o.__)("WooCommerce","wp-marketing-automations"),3:Object(o.__)("Raw HTML","wp-marketing-automations"),4:Object(o.__)("Visual Builder (Legacy)","wp-marketing-automations"),5:Object(o.__)("Visual Builder","wp-marketing-automations")},d=O(),g=d.fetch,w=d.setTemplateValues,v=Object(N.a)().setTemplateListData,C=h(),I=C.getLoading,A=C.getTemplates,F=C.getTotalCount,M=C.getPageOffset,G=C.getPerPageCount,L=C.getPageNumber,B=C.getError,R=A(),U=M(),q=G(),z=I(),V=F(),H=L(),J=B(),Q=Object(c.Ib)(),W=Object(oe.a)({type:6,fetch:function(e){return g(b,U,q,e)}}),K=W.setAssignCategoryItems,ae=W.renderCategoryColumn,le=W.renderCategorySelector,se=W.renderAssignCategoryModal,me=W.renderCategoryTags,be=W.selectedCategories,je=W.refreshCategory,de=W.setShowProModal,ge=W.renderProModal,we=W.renderAssignCategoryButton;Object(r.useEffect)((function(){g(b,U,q,be)}),[U,q,b.s]);var ve=Oe(Object(r.useState)({loading:!1,status:!1}),2),he=ve[0],_e=ve[1],Ee=Oe(Object(r.useState)(!1),2),ke=Ee[0],Pe=Ee[1],Se=Oe(Object(r.useState)(!1),2),Te=Se[0],Ce=Se[1],xe=Oe(Object(r.useState)(!1),2),De=xe[0],Ne=xe[1],Ie=Oe(Object(r.useState)([]),2),Ae=Ie[0],Fe=Ie[1],Me=Oe(Object(r.useState)(!1),2),Ge=Me[0],Le=Me[1],Be=Oe(Object(r.useState)(""),2),Re=Be[0],Ue=Be[1];Object(r.useEffect)((function(){z||Ne(!1)}),[z]);var qe=function(){et&&et(),Fe([])};Object(r.useEffect)((function(){return qe(),function(){return w("offset",0)}}),[]);var ze,Ve,$e=function(e,t){if(Object(c.fc)())switch(e){case"export":var n=[];t.map((function(e){return n.push(e.ID)})),lt(n);break;case"delete":Fe(t),Ue(e),Le(!0);break;case"assign_category":if(Object(c.fc)()){var r=t.map((function(e){return e.ID}));K(r.length>1?r:r[0])}else de(!0)}else f(!0)},He=function(){var e=pe(ue().m((function e(t){var n,r,a=arguments;return ue().w((function(e){for(;;)switch(e.p=e.n){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},_e(fe(fe({},n),{},{status:!0})),e.p=1,e.n=2,x()({path:Object(c.C)("/template/".concat(t)),method:"DELETE"}).then((function(e){m(e.message),_e({status:!1}),g(b,U,q,be),je(!0)}));case 2:e.n=4;break;case 3:e.p=3,r=e.v,_e({status:!0,error:r.message?r.message:Object(o.__)("Error in deleting template","wp-marketing-automations")});case 4:Object(c.Pb)(m,3e3);case 5:return e.a(2)}}),e,null,[[1,3]])})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=pe(ue().m((function e(t){var n;return ue().w((function(e){for(;;)switch(e.p=e.n){case 0:return m(Object(o.__)("Cloning…","wp-marketing-automations")),e.p=1,e.n=2,x()({path:Object(c.C)("/template/".concat(t,"/clone")),method:"GET"}).then((function(e){200==e.code?(m(Object(o.__)("Template cloned","wp-marketing-automations")),g(b,0,q,be),je(!0)):m(e.message)}));case 2:e.n=4;break;case 3:e.p=3,n=e.v,m(n.message);case 4:Object(c.Pb)(m,3e3);case 5:return e.a(2)}}),e,null,[[1,3]])})));return function(t){return e.apply(this,arguments)}}(),Qe=function(e){return Object(r.createElement)(k.a,{label:Object(o.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(P.a,{isClickable:!0,onInvoke:function(){v(e.title),Object(i.l)({path:"/template/"+parseInt(e.ID)},"/",b),n()}},Object(r.createElement)(S.a,{justify:"space-between"},Object(r.createElement)(S.c,null,Object(o.__)("Edit","wp-marketing-automations")))),Object(r.createElement)(P.a,{isClickable:!0,onInvoke:function(){Object(c.fc)()?Je(parseInt(e.ID)):f(!0),n()}},Object(r.createElement)(S.a,{justify:"space-between"},Object(r.createElement)(S.c,null,Object(o.__)("Duplicate","wp-marketing-automations")),!Object(c.fc)()&&Object(r.createElement)(S.c,null,c.e))),we({children:Object(r.createElement)(P.a,{isClickable:!0,onInvoke:function(){Object(c.fc)()?K(e.ID):de(!0),n()}},Object(r.createElement)(S.a,{justify:"space-between"},Object(r.createElement)(S.c,null,Object(o.__)("Assign Category","wp-marketing-automations")),!Object(c.fc)()&&Object(r.createElement)(S.c,null,c.e)))}),Object(r.createElement)(P.a,{isClickable:!0,onInvoke:function(){Object(c.fc)()?lt(e.ID,e.title):f(!0),n()}},Object(r.createElement)(S.a,{justify:"space-between"},Object(r.createElement)(S.c,null,Object(o.__)("Export","wp-marketing-automations")),!Object(c.fc)()&&Object(r.createElement)(S.c,null,c.e))),Object(r.createElement)(P.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:Object(o.__)("Delete Template","wp-marketing-automations"),deleteEntityName:e.title,buttonConfirm:Object(o.__)("Delete","wp-marketing-automations"),buttonCancel:Object(o.__)("Cancel","wp-marketing-automations"),isDelete:!0};_e(fe(fe({},t),{},{onConfirm:function(){return He(e.ID,t)}})),n()}},Object(r.createElement)(S.a,{justify:"flex-start"},Object(r.createElement)(S.c,null,Object(o.__)("Delete","wp-marketing-automations")))))}})},We=Object(r.useMemo)((function(){var e={};if(Array.isArray(R)){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ye(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}(R);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.ID]=r}}catch(e){n.e(e)}finally{n.f()}}return e}),[R]),Ke=Object(D.b)(We),Ye=Ke.singleSelectProps,Ze=Ke.selectAllProps,Xe=Ke.floatingBarProps,et=Ke.resetSelection,tt=Ke.selected,nt=Object.keys(tt).filter((function(e){return tt[e]})).length,rt=[{key:"select_template",label:Object(r.createElement)(X.a,ce({type:"checkbox",checked:!1,onChange:function(){}},Ze)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"actions",label:"",isLeftAligned:!1,cellClassName:"bwf-col-action bwf-w-30"},{key:"name",label:Object(o.__)("Name","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-max-w-360"}].concat(ie(null!==we()?[{key:"category",label:Object(o.__)("Category","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-max-w-360"}]:[]),[{key:"createdon",label:Object(o.__)("Created On","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-240"},{key:"type",label:Object(o.__)("Type","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"updatedon",label:Object(o.__)("Last Update","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-240"}]),ot=function(e){return Object(r.createElement)("a",{href:"admin.php?page=autonami&path=/template/"+e.ID,type:"bwf-crm",className:"bwf-a-no-underline",onClick:function(t){t.preventDefault(),v(e.title),Object(i.l)({path:"/template/"+parseInt(e.ID)},"/",b)}},Object(r.createElement)("b",null,e.title.charAt(0).toUpperCase()+e.title.slice(1)+" "))},at=R.map((function(e){return[{display:Ye.hasOwnProperty(e.ID)?Object(r.createElement)(X.a,ce({type:"checkbox",checked:!1,onChange:function(){}},Ye[e.ID])):Object(r.createElement)(r.Fragment,null),value:null},{display:Qe(e),value:"action"},{display:e.title?ot(e):"-",value:""}].concat(ie(null!==we()?[{display:ae(e.category||[]),value:""}]:[]),[{display:Object(c.lb)(e.created_at),value:""},{display:j.hasOwnProperty(parseInt(e.mode))?Object(r.createElement)(r.Fragment,null,j[parseInt(e.mode)],5===parseInt(e.mode)&&Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green bwf-ml-4"},Object(o.__)("New","wp-marketing-automations"))):"-",value:""},{display:Object(c.lb)(e.updated_at),value:""}])})),ct=function(e){e!==q&&w("limit",e)},it=function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t+".json"),document.body.appendChild(r),r.click(),r.remove()},ut=function(){var e=pe(ue().m((function e(){return ue().w((function(e){for(;;)switch(e.p=e.n){case 0:return m(Object(o.__)("Exporting…","wp-marketing-automations")),e.p=1,e.n=2,x()({path:Object(c.C)("/export/action"),data:{type:"templates",action:"start",extra_data:{search:y}},method:"POST"}).then((function(e){if(200!==e.code)throw Error(Object(c.w)(null==e?void 0:e.message));e.hasOwnProperty("result")&&e.result.hasOwnProperty("data")&&!Object(u.isEmpty)(e.result.data)&&(bwfcrm_contacts_data.export_data=e.result.data,m(Object(o.__)("Template export has started","wp-marketing-automations"))),Object(c.Pb)(m,3e3)}));case 2:e.n=4;break;case 3:e.p=3,e.v,Object(c.Pb)(m,3e3);case 4:return e.a(2)}}),e,null,[[1,3]])})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=pe(ue().m((function e(){var t,n,r,a,i=arguments;return ue().w((function(e){for(;;)switch(e.p=e.n){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:0,n=i.length>1&&void 0!==i[1]?i[1]:"templates",m(Object(o.__)("Exporting…","wp-marketing-automations")),r="",!Object(u.isArray)(t)&&parseInt(t)>0?r=Object(c.C)("/templates/".concat(t,"/export")):(r=Object(c.C)("/templates/export/"),Object(u.isEmpty)(t)||(r+="?ids=".concat(t.join(",")))),e.p=1,e.n=2,x()({path:r,method:"GET"}).then((function(e){if(200!==e.code)throw Error(Object(c.w)(null==e?void 0:e.message));it(e.result,n),m(Object(o.__)("Template exported","wp-marketing-automations")),Object(u.isArray)(t)&&qe(),Object(c.Pb)(m,3e3)}));case 2:e.n=4;break;case 3:e.p=3,a=e.v,Object(c.Pb)(m,3e3),setTimeout((function(){_e({status:!0,modalTitle:Object(o.__)("Export Template","wp-marketing-automations"),error:a.message})}),[1500]);case 4:return e.a(2)}}),e,null,[[1,3]])})));return function(){return e.apply(this,arguments)}}(),st=z||De||0!==V||""!==y||J||!Object(u.isEmpty)(be);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(o.__)("Templates","wp-marketing-automations")),parseInt(V)>0&&Object(r.createElement)("div",{className:"bwf-content-header-count"},Object(o.sprintf)(Object(o._n)("(%s Result)","(%s Results)",V,"wp-marketing-automations"),V))),Object(r.createElement)("div",{className:"bwf-content-header-right"},st&&!z&&n)),J&&Object(r.createElement)(ne.a,{status:"error"},J.message),st?Object(r.createElement)(_.a,{className:"bwf-template-table has-search",title:"",rows:at,headers:rt,query:{paged:H},rowsPerPage:q,totalRows:V,isLoading:z,onPageChange:function(e,t){w("offset",(e-1)*q)},onQueryChange:function(e){return"per_page"!==e?function(){}:ct},showMenu:!1,rowHeader:!0,actions:nt>0?[Object(r.createElement)(D.a,ce({key:"template-bulk-action",actions:(ze=null!==we(),Ve=[],ze&&Ve.push({id:"assign_category",icon:"add-circle",isPro:!0,hint:Object(o.__)("Assign Category","wp-marketing-automations")}),-1!==Object(c.n)(bwfcrm_contacts_data.bwf_pro_version,"2.9.5")&&Ve.push({id:"export",icon:"export",hint:Object(o.__)("Export","wp-marketing-automations"),isPro:!0}),Ve.push({id:"delete",icon:"trash",hint:Object(o.__)("Delete","wp-marketing-automations")}),Ve),onAction:$e,inLine:!0,reset:qe},Xe))]:[Object(r.createElement)("div",{key:"table-actions",className:"bwf-w-100p bwf-display-flex-column gap-16"},Object(r.createElement)("div",{className:"bwf-w-100p bwf-display-flex bwf-flex-wrap bwf-space-between"},Object(r.createElement)("div",{className:"bwf-display-flex"},Object(r.createElement)(ee.a,{isLoading:z,searchTerm:null==b?void 0:b.s,showResultCount:!1,setSearchData:function(e){if(Object(u.size)(e))Object(i.l)({s:e},"/",b);else{var t=Object(u.cloneDeep)(b);t.hasOwnProperty("s")&&(null==t||delete t.s),Ne(!0),Object(i.l)(t,"/",{})}}}),le({disabled:z})),Object(r.createElement)("div",{className:"bwf-display-flex gap-12"},Q.hasOwnProperty("templates")&&Object(r.createElement)(Z.a,{type:"templates",localData:Q.templates,onDismiss:function(){return Pe(!0)}}),Object(r.createElement)(re.a,{className:"bwf-btn-small is-light",title:Object(o.__)("Export","wp-marketing-automations"),onClick:function(){Object(c.fc)()?ut():f(!0)},disabled:Q.hasOwnProperty("templates")&&!ke},Object(r.createElement)("span",{className:"bwf-display-flex gap-4"},Object(r.createElement)(T.a,{icon:Object(c.fc)()?"export":"king",size:16}),Object(r.createElement)("span",null,Object(o.__)("Export All","wp-marketing-automations")))),Object(r.createElement)(re.a,{className:"bwf-btn-small is-light",title:Object(o.__)("Import","wp-marketing-automations"),onClick:function(){Object(c.fc)()?Ce(!0):f(!0)}},Object(r.createElement)("span",{className:"bwf-display-flex gap-4"},Object(r.createElement)(T.a,{icon:Object(c.fc)()?"import":"king",size:16}),Object(r.createElement)("span",null,Object(o.__)("Import","wp-marketing-automations")))))),me())],emptyMessage:Object(o.__)("No templates found","wp-marketing-automations")}):Object(r.createElement)(te.a,{data:l}),Object(r.createElement)(E.a,{modalTitle:he.modalTitle,deleteEntityName:he.deleteEntityName,confirmText:he.confirmText,confirmButtonText:he.buttonConfirm,cancelButtonText:he.buttonCancel,onConfirm:he.onConfirm,isLoading:he.loading,successMessage:he.success,errorMessage:he.error,content:he.content,onRequestClose:function(){return _e({status:!1})},isOpen:he.status,isDelete:!he.hasOwnProperty("isDelete")||he.isDelete}),Object(r.createElement)(Y,{tasks:Ae,isOpen:Ge,onSuccess:function(){g(b,U,q,be),je(!0),qe()},onError:qe,onRequestClose:function(){return Le(!1)},screenType:"bulkaction",actionType:Re}),Te&&Object(r.createElement)($,{onRequestClose:function(){return Ce(!1)}}),se({items:R}),ge({proLink:Object(c.ib)("upgrade",{utm_medium:"Template+Categories+Upgrade+Modal"})}))};n(355),n(357),n(49);function ge(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof i?r:i,l=Object.create(u.prototype);return we(l,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:b,f:b.bind(e,4),d:function(t,n){return a=t,i=0,u=e,m.n=n,c}};function b(n,r){for(i=n,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],b=m.p,p=a[2];n>3?(o=p===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=b&&((o=n<2&&b<a[1])?(i=0,m.v=r,m.n=a[1]):b<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,m.n=p,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&b(s,p),i=s,u=p;(t=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(m.n=-1),b(i,u)):m.n=u:m.v=u);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=m.n<0)?u:n.call(r,m))!==c)break}catch(t){a=e,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),l}var c={};function i(){}function u(){}function l(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(we(t={},r,(function(){return this})),t),f=l.prototype=i.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,we(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=l,we(f,"constructor",l),we(l,"constructor",u),u.displayName="GeneratorFunction",we(l,o,"GeneratorFunction"),we(f),we(f,o,"Generator"),we(f,r,(function(){return this})),we(f,"toString",(function(){return"[object Generator]"})),(ge=function(){return{w:a,m:m}})()}function we(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(we=function(e,t,n,r){function a(t,n){we(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function ve(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ee=function(e){var t=e.onCloseModal,n=Object(r.useContext)(c.h),a=he(Object(r.useState)(!1),2),l=a[0],s=a[1],f=he(Object(r.useState)(""),2),m=f[0],b=f[1],p=he(Object(r.useState)({}),2),O=(p[0],p[1]),y=he(Object(r.useState)(null),2),j=y[0],d=y[1],g=Object(N.a)().setTemplateListData;Object(r.useEffect)((function(){s(!1),O({}),d(""),b("")}),[]);var w=function(){var e,t=(e=ge().m((function e(){var t;return ge().w((function(e){for(;;)switch(e.p=e.n){case 0:return s(!0),b(""),e.p=1,e.n=2,x()({path:Object(c.C)("/template/"),method:"POST",data:{title:j,mode:5,escape_body:!0}}).then((function(e){200==e.code&&(Object(c.hb)()||(bwfcrm_contacts_data.first_template_id=1),n(Object(o.__)("Template created","wp-marketing-automations")),g(j),Object(i.l)({path:"/template/"+e.result.id},"/",{}))}));case 2:e.n=4;break;case 3:e.p=3,t=e.v,s(!1),b(t.message);case 4:Object(c.Pb)(n,3e3);case 5:return e.a(2)}}),e,null,[[1,3]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){ve(a,r,o,c,i,"next",e)}function i(e){ve(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),v=function(){Object(u.isEmpty)(j)?b(Object(o.__)("Name is required.","wp-marketing-automations")):(b(""),w())};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(A.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(o.__)("Add Template","wp-marketing-automations")),Object(r.createElement)("span",{onClick:t,className:"bwf-modal-close"},Object(r.createElement)(T.a,{icon:"close",color:"#353030"}))),Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&v()}},m&&Object(r.createElement)(ne.a,{status:"error",onRemove:function(){return b("")}},m),Object(r.createElement)(A.TextControl,{placeholder:Object(o.__)("Enter","wp-marketing-automations"),autoFocus:!0,label:Object(o.__)("Name","wp-marketing-automations"),value:j||"",onChange:function(e){return d(e)},disabled:l}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(re.a,{onClick:function(){return t()},className:"bwf-cancel-btn"},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(re.a,{isPrimary:!0,disabled:l,isBusy:l,onClick:function(){v()}},Object(o.__)("Add","wp-marketing-automations"))))))},ke=n(77),Pe=n(110),Se=n(68),Te=n(40);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=(0,h().getTotalCount)(),t=Object(r.createElement)(A.Button,{isPrimary:!0,className:"bwf-display-flex",onClick:function(){Object(c.fc)()?f(!0):u(!0)}},!Object(c.fc)()&&Object(r.createElement)(T.a,{icon:"king",size:"16",color:"#fff"}),Object(r.createElement)("span",null,Object(o.__)("Create Template","wp-marketing-automations")));Object(a.a)(Object(o.__)("Templates","wp-marketing-automations"),t,e);var n=Ie(Object(r.useState)(!1),2),i=n[0],u=n[1],l=Ie(Object(r.useState)(!1),2),s=l[0],f=l[1];Object(r.useEffect)((function(){Object(c.m)(Object(o.__)("My Templates","wp-marketing-automations"))}),[]);var m=Object(Pe.a)().getPageCountData,b=Object(ke.a)().setPageCountData,p=m();Object(r.useEffect)((function(){b(De(De({},p),{},{templates_templates:e}))}),[e]);var O=[{type:"heading",data:{title:Object(o.__)("Truly Flexible Email Editor With Beautiful Templates","wp-marketing-automations"),desc:Object(o.__)("Import beautiful email templates with a single click and never ever start from blank page again.","wp-marketing-automations")}},{type:"image-desc",data:[{img:Object(c.u)()+"template/template1.png",title:Object(o.__)("Pick from proven email templates","wp-marketing-automations"),desc:Object(o.__)("Save time with ever growing template library","wp-marketing-automations")},{img:Object(c.u)()+"template/template2.png",title:Object(o.__)("Edit with our easy drag-and-drop editor","wp-marketing-automations"),desc:Object(o.__)("Launch fast with features like saved sections & global styles","wp-marketing-automations")}]},{type:"buttons",data:{buttons:[{text:Object(o.__)("Create Email Template","wp-marketing-automations"),proCheck:!0,onClick:function(){Object(c.fc)()?f(!0):u(!0)}}]}},{type:"link-wth-text",data:{text:Object(o.__)("Curious about templates?","wp-marketing-automations"),link:"https://funnelkit.com/docs/autonami-2/email-builder/email-templates/",linkText:Object(o.__)("Learn More","wp-marketing-automations")}}];return Object(r.createElement)(r.Fragment,null,Object(c.hb)()&&0!==c.q?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Se.a,null),Object(r.createElement)(de,{menuButtons:t,pitchData:O,setOpenProModal:u})):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(o.__)("Templates","wp-marketing-automations")),!Object(c.fc)()&&c.e)),Object(r.createElement)(te.a,{data:O})),!Object(c.fc)()&&Object(r.createElement)(Te.b,{isOpen:i,onRequestClose:function(){return u(!1)},modalContent:{isFeature:!0,featureTitle:Object(o.__)("Templates","wp-marketing-automations"),proLink:Object(c.ib)("upgrade",{utm_medium:"Create+Templates+Upgrade+Modal"}),image:Object(c.vb)("templates.png"),benefit:Object(o.__)("Unlock Templates and other awesome features.","wp-marketing-automations")}}),s&&Object(r.createElement)(Ee,{onCloseModal:function(){return f(!1)}}))}}}]);