(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1105:function(e,t,n){"use strict";var r=n(51),a=n(3),c=n(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=["fetch","setStateProp"],l=["s","page","filter","path"],u=["s","page","filter","path"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("contacts"),t=e.fetch,n=e.setStateProp;return b(b({},m(e,i)),{},{setStateProp:n,fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,b=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d=arguments.length>8&&void 0!==arguments[8]&&arguments[8],p=arguments.length>9&&void 0!==arguments[9]&&arguments[9],O=arguments.length>10&&void 0!==arguments[10]&&arguments[10],y=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[];n("isLoading",!0);var j=e.s,v=void 0===j?"":j,g=(e.page,e.filter,e.path,m(e,l)),w={offset:r,limit:o,search:v,filters:g,get_wc:Object(a.uc)(),grab_totals:i,only_count:u,fetch_base:s,grab_custom_fields:!1,include_unsubs:!b,exclude_unsubs_lists:f,includeUnverified:p,includeSoftBounce:O,include_ids:y},h=Object(a.Eb)("table_sort_data"),_=h.hasOwnProperty("contact_sort_data")?h.contact_sort_data:{},E=Object(c.isObject)(_)&&!Object(c.isEmpty)(_)?_:{},S=E.orderby,P=void 0===S?"last_modified":S,N=E.order,k=void 0===N?"desc":N;k&&P&&(w.order=k,w.order_by=P),d&&(w.unopen_broadcast=parseInt(d)),t("GET",Object(a.C)("/contacts"),w)},fetchListing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,b=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d=arguments.length>8&&void 0!==arguments[8]&&arguments[8];n("isLoading",!0);var p=e.s,O=void 0===p?"":p,y=(e.page,e.filter,e.path,m(e,u)),j={offset:r,limit:o,search:O,filters:y,get_wc:Object(a.uc)(),grab_totals:i,only_count:l,fetch_base:s,grab_custom_fields:!1,exclude_unsubs:b,exclude_unsubs_lists:f},v=Object(a.Eb)("table_sort_data"),g=v.hasOwnProperty("contact_sort_data")?v.contact_sort_data:{},w=Object(c.isObject)(g)&&!Object(c.isEmpty)(g)?g:{},h=w.orderby,_=void 0===h?"last_modified":h,E=w.order,S=void 0===E?"desc":E;S&&_&&(j.order=S,j.order_by=_),d&&(j.unopen_broadcast=parseInt(d)),t("GET",Object(a.C)("/v3/contacts/listing"),j)},startIndexing:function(){return t("GET",Object(a.C)("/contacts"),{start_indexing:!0})}})}},1116:function(e,t,n){"use strict";var r=n(52);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["getStateProp"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=Object(r.a)("contacts"),t=e.getStateProp;return i(i({},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,c)),{},{getContacts:function(){return t("contacts_list")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getTotalCount:function(){return parseInt(t("total"))},getCountData:function(){return t("countData")}})}},1331:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(11),c=n(1),o=n(9),i=n.n(o),l=n(2),u=n(1125),s=n(1109),b=n(208),f=n(3),m=n(12),d=n(48),p=n(19),O=n(360),y=n(33),j=n(346),v=n(147),g=n(6),w=n.n(g),h=n(1116),_=n(1105),E=n(352),S=n(44);function P(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c,o,i=[],l=!0,u=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return i}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=Object(d.a)(Object(f.Cb)()).formatAmount,A=function(e){var t=e.setContactCount,n=e.excludedIds,a=void 0===n?[]:n,o=e.setExcluded,i=e.query,u=e.include_ids,s=void 0===u?[]:u,b=function(e){var t=Object(l.isEmpty)(e.country)?"":E[e.country],n=Object(f.vc)([e.city,e.state,t],", ");return Object(l.isEmpty)(Object(l.trim)(n))?"":n},m=function(e){var t=b(e);return e.country||t?Object(r.createElement)(p.a,{justify:"start"},!Object(l.isEmpty)(e.country)&&Object(r.createElement)(p.c,null,Object(r.createElement)(O.a,{code:e.country,size:18})),Object(r.createElement)(p.c,null,t&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",null,b(e)),Object(r.createElement)("br",null)))):"-"},d=function(e){return Object(r.createElement)(y.a,{href:"admin.php?page=autonami&path=/contact/"+e.id,className:"bwf-a-no-underline"},Object(r.createElement)(j.a,{contact:e,hideJoiningDate:!0}))},g=function(e){return Object(r.createElement)("div",{className:"bwf-c-contact-details-cell"},e.email&&Object(r.createElement)(p.a,{justify:"start",align:"top"},Object(r.createElement)(p.c,null,Object(r.createElement)(y.a,{href:"mailto:"+e.email,className:"bwf-a-no-underline",type:"external"},e.email))),e.phone&&Object(r.createElement)(p.a,{justify:"start",align:"top"},Object(r.createElement)(p.c,null,Object(r.createElement)(y.a,{href:"tel:"+e.phone,className:"bwf-a-no-underline",type:"external"},e.phone))))},k=Object(h.a)(),x=k.getPageNumber,A=k.getPerPageCount,I=k.getTotalCount,T=k.getLoading,D=k.getContacts,L=Object(_.a)().fetch,F=D(),G=x(),q=A(),B=I(),J=T(),M=N(Object(r.useState)(!0),2),R=M[0],U=M[1],$=N(Object(r.useState)(i),2),z=$[0],Q=$[1];Object(r.useEffect)((function(){J||(R&&B>0&&U(!1),t(parseInt(B)))}),[B]),Object(r.useEffect)((function(){R||JSON.stringify(z)===JSON.stringify(i)||(Q(i),L(i,0,q,!0,!1,"",!0,!1,!1,s))}),[i]);var V=[{cellClassName:"is-checkbox-column bwf-col-action bwf-w-30",key:"id",label:"",required:!0},{key:"contact",label:Object(c.__)("Contact","wp-marketing-automations"),isLeftAligned:!0,required:!0},{key:"contact_details",label:Object(c.__)("Details","wp-marketing-automations"),isLeftAligned:!0}];Object(f.uc)()?(V.push({key:"total_spent",label:Object(c.__)("Total Spent","wp-marketing-automations"),isLeftAligned:!0}),V.push({key:"last_order",label:Object(c.__)("Last Order","wp-marketing-automations"),isLeftAligned:!0})):V.push({key:"column_location",label:Object(c.__)("Location","wp-marketing-automations"),isLeftAligned:!0});var H=function(e){var t=e.wc,n=t.total_order_count,a=t.total_order_value;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-c-listing-total-spent"},a&&n?Object(r.createElement)("div",{className:"bwf-c-total-spent-amount"},C(a)," |"," ",n," ",parseInt(n)>1?Object(c.__)("orders","wp-marketing-automations"):Object(c.__)("order","wp-marketing-automations")):"-"))},K=function(e){var t=e.wc.l_order_date;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",null,t&&"0000-00-00"!=t?Object(r.createElement)("div",{className:"bwf-c-total-spent-amount"},Object(f.kb)(t)):"-"))},W=F.map((function(e){var t=function(e){return Object(l.merge)({id:0,email:"-",first_name:"",last_name:"",creation_date:"",fields:{marketing_status:"0",first_order_date:"",country:"",city:"",state:"",phone:""},wc:{id:1,l_order_date:"",total_order_count:0,total_order_value:0,total_purchased_items:0}},e)}(e),n=[{display:Object(r.createElement)(S.a,{onChange:function(e){return n=t.id,void o(e?a.filter((function(e){return e!==n})):[].concat(P(a),[n]));var n},"aria-label":Object(c.__)("Select"),checked:-1===a.indexOf(t.id)}),value:t.id},{display:d(t),value:Object(f.vc)([t.first_name,t.last_name]," ")},{display:g(t),value:"".concat(Object(c.__)("Email","wp-marketing-automations"),": ").concat(t.email,", ").concat(Object(c.__)("Phone","wp-marketing-automations"),": ").concat(t.phone)}];return Object(f.uc)()?(n.push({display:H(t),value:""}),n.push({display:K(t),value:""})):n.push({display:m(t),value:b(t)}),n})),X=function(e){e!==q&&L(i,0,e,!0,!1,"",!0,!1,!1,!1,!1,s)},Y=w()("bwfcrm-contacts-list",{"has-search":!0}),Z=parseInt(B)>0?" ("+(parseInt(B)-parseInt(a.length))+")":"";return Object(r.createElement)(v.a,{className:Y,title:Object(c.__)("Contacts ","wp-marketing-automations")+Z,rows:W,headers:V,query:{paged:G},rowsPerPage:q,totalRows:B,isLoading:J,onPageChange:function(e,t){L(i,(e-1)*q,q,!0,!1,"",!0,!1,!1,!1,!1,s)},onQueryChange:function(e){return"per_page"!==e?function(){}:X},showMenu:!1,emptyMessage:Object(c.__)("No contacts found","wp-marketing-automations")})},I=n(1110),T=n(1111),D=n(209),L=n(68),F=n(26);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var q=["page","path","s"];function B(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function c(n,r,a,c){var l=r&&r.prototype instanceof i?r:i,u=Object.create(l.prototype);return J(u,"_invoke",function(n,r,a){var c,i,l,u=0,s=a||[],b=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return c=t,i=0,l=e,f.n=n,o}};function m(n,r){for(i=n,l=r,t=0;!b&&u&&!a&&t<s.length;t++){var a,c=s[t],m=f.p,d=c[2];n>3?(a=d===r)&&(l=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=m&&((a=n<2&&m<c[1])?(i=0,f.v=r,f.n=c[1]):m<d&&(a=n<3||c[0]>r||r>d)&&(c[4]=n,c[5]=r,f.n=d,i=0))}if(a||n>1)return o;throw b=!0,r}return function(a,s,d){if(u>1)throw TypeError("Generator is already running");for(b&&1===s&&m(s,d),i=s,l=d;(t=i<2?e:l)||!b;){c||(i?i<3?(i>1&&(f.n=-1),m(i,l)):f.n=l:f.v=l);try{if(u=2,c){if(i||(a="next"),t=c[a]){if(!(t=t.call(c,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);c=e}else if((t=(b=f.n<0)?l:n.call(r,f))!==o)break}catch(t){c=e,i=1,l=t}finally{u=1}}return{value:t,done:b}}}(n,a,c),!0),u}var o={};function i(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(J(t={},r,(function(){return this})),t),b=u.prototype=i.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,J(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e}return l.prototype=u,J(b,"constructor",u),J(u,"constructor",l),l.displayName="GeneratorFunction",J(u,a,"GeneratorFunction"),J(b),J(b,a,"Generator"),J(b,r,(function(){return this})),J(b,"toString",(function(){return"[object Generator]"})),(B=function(){return{w:c,m:f}})()}function J(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(J=function(e,t,n,r){function c(t,n){J(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(c("next",0),c("throw",1),c("return",2))})(e,t,n,r)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c,o,i=[],l=!0,u=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=e.bulkActionId,n=e.setStep,o=e.setPending,d=e.isPending,p=Object(s.a)(!0,!0),O=p.loading,y=void 0===O||O,j=p.filters,v=void 0===j?{}:j,g=Object(m.i)(),w=g.page,h=g.path,E=(g.s,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(g,q)),S=Object(_.a)(),P=z(Object(r.useState)(!0),2),N=P[0],k=P[1],x=z(Object(r.useState)(!1),2),C=x[0],G=x[1],J=z(Object(r.useState)(""),2),M=J[0],U=J[1],Q=Object(I.a)().setSingleBulkActionValue,V=Object(T.a)(),H=V.getSingleBulkActionData,K=V.getSingleBulkActionLoad,W=H(),X=K(),Y=W.contactFilters,Z=void 0===Y?{}:Y,ee=W.count,te=void 0===ee?0:ee,ne=W.exclude_ids,re=void 0===ne?[]:ne,ae=W.include_ids,ce=void 0===ae?[]:ae;Object(r.useEffect)((function(){X||y||(Object(l.isEmpty)(Z)||Object(m.l)(Z,"/",g),setTimeout((function(){k(!1)}),500))}),[Z,y,X]);var oe=S.fetch;Object(r.useEffect)((function(){C||N||y||X||oe(E,0,10,!0,!1,"",!0,!1,!1,!1,!1,ce)}),[C,N,y,X]);var ie=function(){var e,r=(e=B().m((function e(){var r;return B().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,o(!0),G(!0),e.n=1,i()({path:Object(f.C)("/bulk-action/".concat(t)),method:"POST",data:R(R({},W),{},{contactFilters:E,exclude_ids:re,include_ids:ce,count:parseInt(te)-parseInt(re.length)})}).then((function(e){200==e.code?e.hasOwnProperty("result")&&!Object(l.isEmpty)(e.result)&&(Q("data",e.result),setTimeout((function(){G(!1),n(2),Object(m.l)({page:w,path:h},"/",{}),o(!1)}),1e3)):(U(e.message),G(!1),o(!1))}));case 1:e.n=3;break;case 2:e.p=2,r=e.v,U(r.message),o(!1),G(!1);case 3:return e.a(2)}}),e,null,[[0,2]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){$(c,r,a,o,i,"next",e)}function i(e){$(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}(),le=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-card-wrap"},Object(r.createElement)("div",{className:"bwf-card-header"},Object(c.__)("Contacts","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-bulk-action-step-loading bwf-p-20"},Object(r.createElement)("div",{className:"bwf-filter-placeholder "},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-display-flex bwf-space-between bwf-p-20 bwf-pt-0 bwf-pb-0"},Object(r.createElement)("div",{className:"bwf-w-150"},Object(r.createElement)("div",{className:"bwf-placeholder-temp"})),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-btn"})),Object(r.createElement)("div",{className:"bwf-w-300 bwf-p-20 bwf-pt-0 bwf-pb-0"},Object(r.createElement)("div",{className:"bwf-placeholder-temp"})),Object(r.createElement)("div",{className:"bwf-display-flex bwf-space-between bwf-p-20 bwf-pt-0 bwf-pb-0"},Object(r.createElement)("div",null),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-btn"})),Object(r.createElement)("div",{className:"bwf_clear_20"})),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-w-150"},Object(r.createElement)("div",{className:"bwf-placeholder-temp"})),Object(r.createElement)(D.a,{numberOfRows:10,headers:[{key:"2",label:Object(r.createElement)("div",{className:"bwf-w-210"},Object(r.createElement)("div",{className:"bwf-placeholder-temp no-margin"}))},{key:"3",label:Object(r.createElement)("div",{className:"bwf-w-210"},Object(r.createElement)("div",{className:"bwf-placeholder-temp no-margin"}))},{key:"4",label:Object(r.createElement)("div",{className:"bwf-w-210"},Object(r.createElement)("div",{className:"bwf-placeholder-temp no-margin"}))}]}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-bulk-action-footer"},Object(r.createElement)("div",{className:"bwf-display-flex bwf-space-between"},Object(r.createElement)("div",null),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-btn"})))));return N||y||X?le:Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,null),Object(r.createElement)("div",{className:"bwf-card-wrap"},Object(r.createElement)("div",{className:"bwf-card-header"},Object(c.__)("Contacts","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-bulk-action-wrapper"},M&&Object(r.createElement)(F.a,{status:"error",onRemove:function(){return U("")}},M),Object(r.createElement)("div",{className:"bwf-bulk-action-contact-filter"},Object(l.isEmpty)(ce)?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-display-flex bwf-mb-16",style:{justifyContent:"space-between"}},Object(r.createElement)("div",{className:"bwf-h3 bwf-w-300"},Object(c.__)("Segment Contacts","wp-marketing-automations")),Object(r.createElement)(u.c,{addAdvance:!1})),Object(r.createElement)("div",{className:"bwf-p-0"},Object(r.createElement)(b.a,{siteLocale:"en-US",currency:Object(f.uc)()?bwfcrm_contacts_data.currency:{},config:{title:Object(c.__)("Select Rules","wp-marketing-automations"),filters:v,footerComponent:function(e){return Object(r.createElement)(u.a,{filter:e.data,config:e.config})},enableGrouping:!0},path:"/bulk-action/".concat(t),query:g,onAdvancedFilterAction:function(e,t){["filter","clear_all"].includes(e)&&Q("data",R(R({},W),{},{exclude_ids:[]}))}}))):Object(r.createElement)("div",{className:"bwf-display-flex bwf-space-between bwf-normal-text bwf-mb-16"},Object(c.__)("Actions will be performed on selected contacts","wp-marketing-automations"),Object(r.createElement)(a.a,{className:"bwf-display-flex components-button is-light",onClick:function(){Q("data",R(R({},W),{},{include_ids:[]})),oe(E,0,10,!0,!1,"",!0,!1,!1,!1,!1,[])}},Object(c.__)("Clear Selected","wp-marketing-automations")))),Object(r.createElement)("div",{className:"bwf-bulk-action-table-wrapper"},Object(r.createElement)(A,{setContactCount:function(e){Q("data",R(R({},W),{},{count:parseInt(e)}))},excludedIds:re,include_ids:ce,setExcluded:function(e){Q("data",R(R({},W),{},{exclude_ids:e}))},query:E}))),Object(r.createElement)("div",{className:"bwf-bulk-action-footer"},Object(r.createElement)("div",{className:"bwf-display-flex bwf-space-between"},Object(r.createElement)("div",null),Object(r.createElement)(a.a,{className:"bwf-display-flex",isPrimary:!0,onClick:function(){te>0?ie():U(Object(c.__)("Please select some contacts to perform bulk actions on them.","wp-marketing-automations"))},isBusy:d,disabled:C||N||y||X},Object(c.__)("Next","wp-marketing-automations")))))}}}]);