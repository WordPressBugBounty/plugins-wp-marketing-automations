(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1063:function(t,e,n){"use strict";var o=n(74),a=n(0),r=n(1),i=n(3),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={workflow:{name:Object(r.__)("Workflow","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t):"admin.php?page=autonami-automations&edit=".concat(t),redirect:!e}};return e&&(n.single_a_contacts={name:Object(r.__)("Contacts","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(t,"/contacts"),showOnClick:!0},n.analytics={name:Object(r.__)("Analytics","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/analytics"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/analytics"),isPro:!0,showOnClick:!0}),n.engagement={name:Object(r.__)("Engagements","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/engagements"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/engagements"),isPro:!0,showOnClick:!0},Object(i.pc)()&&(n.orders={name:Object(r.__)("Orders","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/orders"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/orders"),isPro:!0,showOnClick:!0}),n};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],m=arguments.length>7&&void 0!==arguments[7]&&arguments[7],f=arguments.length>8&&void 0!==arguments[8]&&arguments[8],p=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},b=(p.automation_nav,p.automationv2_nav),g=Object(o.a)(),d=g.setActiveMultiple,h=g.resetHeaderMenu,y=g.setL2NavType,O=g.setL2Nav,j=g.setBackLink,w=g.setL2Title,v=g.setL2Content,_=g.setBackLinkLabel,k=g.setL2NavAlign,E=g.setPageHeader,C=g.setTabHeader;return Object(a.useEffect)((function(){h(!0),!i&&y("menu");var o=c(s,m);f||O(s?o:b),t&&o.hasOwnProperty(t)&&o[t].hasOwnProperty("name")&&C(o[t].name),d({leftNav:"automations-v2",rightNav:t}),n&&j(n),s&&j(n&&!m?"admin.php?page=autonami&path=/automations-v1":"admin.php?page=autonami&path=/automations"),i||m&&s&&_(Object(r.__)("All Automations","wp-marketing-automations")),!m&&s&&_(Object(r.__)("All Automations","wp-marketing-automations")),s&&k("left"),e&&""!==e&&w(e),!n&&u&&v(u),E(Object(r.__)("Automations","wp-marketing-automations")),l&&O({})}),[t,m,f]),!0}},1064:function(t,e){t.exports=function(t,e,n,o){for(var a=t.length,r=n+(o?1:-1);o?r--:++r<a;)if(e(t[r],r,t))return r;return-1}},1067:function(t,e){t.exports=function(t){return t!=t}},1068:function(t,e){t.exports=function(t,e,n){for(var o=n-1,a=t.length;++o<a;)if(t[o]===e)return o;return-1}},1070:function(t,e,n){"use strict";var o=n(50),a=n(146);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=["getStateProp"];function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=function(){var t=Object(o.a)("automationList"),e=t.getStateProp,n=function(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.includes(o))continue;n[o]=t[o]}return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}(t,i),r=Object(o.a)(a.a.recipient).getStateProp,c=Object(o.a)(a.a.conversion).getStateProp,s=Object(o.a)(a.a.contacts).getStateProp,l=Object(o.a)(a.a.analytics).getStateProp;return u(u({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getWorkerResponseCode:function(){return e("response_code")},getWorkerDelay:function(){return e("worker_delayed")},getRecipientData:function(){return r("data")},getRecipientLoading:function(){return r("isLoading")},getRecipientOffset:function(){return r("offset")},getRecipientAutomationId:function(){return r("automationId")},getRecipientTotal:function(){return r("total")},getRecipientAutomation:function(){return r("automation")},getRecipientPage:function(){return parseInt(r("offset"))/parseInt(r("limit"))+1},getRecipientLimit:function(){return r("limit")},getRecipientSingleAutomationFailedCount:function(){return r("failedCount")},getConversionData:function(){return c("data")},getConversionLoading:function(){return c("isLoading")},getConversionOffset:function(){return c("offset")},getConversionAutomationId:function(){return c("automationId")},getConversionTotal:function(){return c("total")},getConversionAutomation:function(){return c("automation")},getConversionPage:function(){return parseInt(c("offset"))/parseInt(c("limit"))+1},getConversionLimit:function(){return c("limit")},getCountData:function(){return e("countData")},getConversionSingleAutomationFailedCount:function(){return c("failedCount")},getContactData:function(){return s("data")},getContactLoading:function(){return s("isLoading")},getContactOffset:function(){return s("offset")},getContactAutomationId:function(){return s("automationId")},getContactTotal:function(){return s("total")},getContactAutomation:function(){return s("automation")},getContactPage:function(){return parseInt(s("offset"))/parseInt(s("limit"))+1},getContactLimit:function(){return s("limit")},getContactCountData:function(){return s("contactCount")},getContactSingleAutomationFailedCount:function(){return s("failedCount")},getAnalyticsData:function(){return l("analytics")},getAnalyticsTileData:function(){return l("tiles")},getAnalyticsTableData:function(){return l("tableData")},getAnalyticsLoading:function(){return l("isLoading")},getAnalyticsType:function(){return l("type")},getAnalyticsAutomationData:function(){return l("automation")},getAnalyticsSingleAutomationFailedCount:function(){return l("failedCount")}})}},1078:function(t,e,n){var o=n(1064),a=n(1067),r=n(1068);t.exports=function(t,e,n){return e==e?r(t,e,n):o(t,a,n)}},1085:function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},1089:function(t,e,n){"use strict";var o=n(49),a=n(3),r=n(146),i=n(19);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=["fetch","setStateProp"],s=["s","page","filter","path"];function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=c(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.includes(o))continue;n[o]=t[o]}return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}e.a=function(){var t=Object(o.a)("automationList"),e=t.fetch,n=t.setStateProp,c=p(t,u),l=Object(o.a)(r.a.recipient),f=l.fetch,b=l.setStateProp,g=Object(o.a)(r.a.conversion),d=g.fetch,h=g.setStateProp,y=Object(o.a)(r.a.contacts),O=y.fetch,j=y.setStateProp,w=Object(o.a)(r.a.analytics),v=w.fetch,_=w.setStateProp;return m(m({},c),{},{fetch:function(t,o,r,i){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n("automation",{});var u=o.s,l=void 0===u?"":u,m=(o.page,o.filter,o.path,p(o,s)),f={offset:r,limit:i,status:t,search:l,filters:m,version:c?2:1};e("GET",Object(a.A)("/automations"),f)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){f("GET",Object(a.A)("/v3/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){b(t,e)},fetchConversion:function(t,e,n){h("automation",{}),d("GET",Object(a.A)("/v3/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){h(t,e)},fetchContacts:function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";j("automation",{}),O("GET",Object(a.A)("/automation/".concat(t,"/contacts?limit=").concat(e,"&offset=").concat(n,"&type=").concat(o,"&search=").concat(r)))},setContactValues:function(t,e){j(t,e)},fetchAnalytics:function(t,e,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=0;4===parseInt(c)&&(u=1),v("GET",Object(a.A)("/analytics/emails/chart/")+"?"+Object(i.stringify)({after:e,before:n,interval:o,oid:t,type:r,mode:c,contact:u}))},setAnalyticsValues:function(t,e){_(t,e)}})}},1157:function(t,e,n){"use strict";var o=n(0),a=n(94),r=n(10),i=n.n(r),c=n(3),u=n(55),s=n(1);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(){m=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var r=e&&e.prototype instanceof y?e:y,i=Object.create(r.prototype),c=new S(o||[]);return a(i,"_invoke",{value:A(t,n,c)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var b="suspendedStart",g="executing",d="completed",h={};function y(){}function O(){}function j(){}var w={};s(w,i,(function(){return this}));var v=Object.getPrototypeOf,_=v&&v(v(T([])));_&&_!==n&&o.call(_,i)&&(w=_);var k=j.prototype=y.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(a,r,i,c){var u=p(t[a],t,r);if("throw"!==u.type){var s=u.arg,m=s.value;return m&&"object"==l(m)&&o.call(m,"__await")?e.resolve(m.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(m).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var r;a(this,"_invoke",{value:function(t,o){function a(){return new e((function(e,a){n(t,o,e,a)}))}return r=r?r.then(a,a):a()}})}function A(e,n,o){var a=b;return function(r,i){if(a===g)throw Error("Generator is already running");if(a===d){if("throw"===r)throw i;return{value:t,done:!0}}for(o.method=r,o.arg=i;;){var c=o.delegate;if(c){var u=P(c,o);if(u){if(u===h)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===b)throw a=d,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=g;var s=p(e,n,o);if("normal"===s.type){if(a=o.done?d:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(a=d,o.method="throw",o.arg=s.arg)}}}function P(e,n){var o=n.method,a=e.iterator[o];if(a===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),h;var r=p(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function n(){for(;++a<e.length;)if(o.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}throw new TypeError(l(e)+" is not iterable")}return O.prototype=j,a(k,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:O,configurable:!0}),O.displayName=s(j,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===O||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,s(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(C.prototype),s(C.prototype,c,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,o,a,r){void 0===r&&(r=Promise);var i=new C(f(t,n,o,a),r);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),s(k,u,"Generator"),s(k,i,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(o,a){return c.type="throw",c.arg=e,n.next=o,a&&(n.method="next",n.arg=t),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;x(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:T(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),h}},e}function f(t,e,n,o,a,r,i){try{var c=t[r](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(o,a)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){f(r,o,a,i,c,"next",t)}function c(t){f(r,o,a,i,c,"throw",t)}i(void 0)}))}}e.a=function(t){var e=t.isOpen,n=t.tasks,r=t.onSuccess,l=t.onError,f=t.onRequestClose,b=t.actionType,g=(t.screenType,t.screenTypeId),d=Object(o.useContext)(c.h),h=n?n.length:0,y=Object(a.useMutation)(function(){var t=p(m().mark((function t(e){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i()({path:Object(c.A)("/automation/bulk-action"),method:"POST",data:{action:b,a_cids:e,status:g}}).then((function(t){d(t.message),Object(c.Kb)(d,2e3)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return y.reset()}),2500),r&&setTimeout((function(){return r()}),2e3)},onError:function(){l&&l()}}),O=function(){var t=p(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.mutate(n.map((function(t){return t.ID})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j={delete:{title:Object(s._n)("Delete Automation for Contact","Delete Automation for Contacts",h,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to delete ","wp-marketing-automations"),Object(s._n)("contact","contacts",h,"wp-marketing-automations"),Object(s.__)(" from this automation. This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Delete","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to delete automation for contacts","wp-marketing-automations"),confirmDescription:Object(s.__)("This action is irreversible","wp-marketing-automations")},end:{title:Object(s._n)("End Automation for Contact","End Automation for Contacts",h,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to end automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",h,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk action has been scheduled, it will be executed within one minute.","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to end automation for contacts","wp-marketing-automations")},paused:{title:Object(s._n)("Pause Automation for Contact","Pause Automation for Contacts",h,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to pause automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",h,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to pause automation for contacts","wp-marketing-automations")},run_now:{title:Object(s._n)("Run Automation for Contact","Run Automation for Contacts",h,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to run automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",h,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to run automation for contacts","wp-marketing-automations")},unpaused:{title:Object(s._n)("Resume Automation for Contact","Resume Automation for Contacts",h,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to resume automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",h,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to resume automation for contacts","wp-marketing-automations")},retry:{title:Object(s._n)("Retry Automation for Contact","Retry Automation for Contacts",h,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to retry automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",h,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to re-run automation for contacts","wp-marketing-automations")},rerun:{title:Object(s._n)("Re-Run Automation for Contact","Re-Run Automation for Contacts",h,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to re-run automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",h,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to re-run automation for contacts","wp-marketing-automations")},startbegin:{title:Object(s._n)("Start From Beginning Automation for Contact","Start From Beginning Automation for Contacts",h,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to start automation from beginning for ","wp-marketing-automations"),Object(s._n)("contact","contacts",h,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to start automation from beginning for contacts","wp-marketing-automations")}};return Object(o.createElement)(u.a,{modalTitle:j.hasOwnProperty(b)&&j[b].hasOwnProperty("title")?j[b].title:Object(s._n)("Perform Actions","Perform Actions",h,"wp-marketing-automations"),deleteDescriptionText:j.hasOwnProperty(b)&&j[b].hasOwnProperty("description")?j[b].description:"",confirmButtonText:j.hasOwnProperty(b)&&j[b].hasOwnProperty("confirmBtn")?j[b].confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelButtonText:j.hasOwnProperty(b)&&j[b].hasOwnProperty("cancelBtn")?j[b].cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),onConfirm:O,isLoading:y.isLoading,successMessage:y.isSuccess&&(j.hasOwnProperty(b)&&j[b].hasOwnProperty("successMsg")?j[b].successMsg:Object(s.__)("Actions Done!","wp-marketing-automations")),errorMessage:y.isError&&(y.error&&y.error.message?y.error.message:j.hasOwnProperty(b)&&j[b].hasOwnProperty("errorMsg")?j[b].errorMsg:Object(s.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!f&&f()},isOpen:e,confirmDescription:j.hasOwnProperty(b)&&j[b].hasOwnProperty("confirmDescription")?j[b].confirmDescription:"",isDelete:!0})}},1467:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n(1),r=n(142),i=n(1089),c=n(1070),u=n(3),s=n(69),l=n(32),m=n(331),f=n(1063),p=n(74),b=n(62),g=n(63),d=n(18),h=n(8),y=n(2),O=n(5),j=n(1109),w=n(1058),v=n(10),_=n.n(v),k=n(55),E=n(143),C=n(329),A=n(144),P=n(332),L=n(43),x=n(190),S=n(1157),T=n(39),I=n(12),N=n(104);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(){D=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var r=e&&e.prototype instanceof d?e:d,i=Object.create(r.prototype),c=new L(o||[]);return a(i,"_invoke",{value:E(t,n,c)}),i}function m(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="executing",b="completed",g={};function d(){}function h(){}function y(){}var O={};s(O,i,(function(){return this}));var j=Object.getPrototypeOf,w=j&&j(j(x([])));w&&w!==n&&o.call(w,i)&&(O=w);var v=y.prototype=d.prototype=Object.create(O);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(a,r,i,c){var u=m(t[a],t,r);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==R(l)&&o.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var r;a(this,"_invoke",{value:function(t,o){function a(){return new e((function(e,a){n(t,o,e,a)}))}return r=r?r.then(a,a):a()}})}function E(e,n,o){var a=f;return function(r,i){if(a===p)throw Error("Generator is already running");if(a===b){if("throw"===r)throw i;return{value:t,done:!0}}for(o.method=r,o.arg=i;;){var c=o.delegate;if(c){var u=C(c,o);if(u){if(u===g)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===f)throw a=b,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=p;var s=m(e,n,o);if("normal"===s.type){if(a=o.done?b:"suspendedYield",s.arg===g)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(a=b,o.method="throw",o.arg=s.arg)}}}function C(e,n){var o=n.method,a=e.iterator[o];if(a===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var r=m(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function x(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function n(){for(;++a<e.length;)if(o.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}throw new TypeError(R(e)+" is not iterable")}return h.prototype=y,a(v,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:h,configurable:!0}),h.displayName=s(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},_(k.prototype),s(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,o,a,r){void 0===r&&(r=Promise);var i=new k(l(t,n,o,a),r);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(v),s(v,u,"Generator"),s(v,i,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=x,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(o,a){return c.type="throw",c.arg=e,n.next=o,a&&(n.method="next",n.arg=t),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),s=o.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var a=o.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:x(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),g}},e}function B(t,e,n,o,a,r,i){try{var c=t[r](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(o,a)}function M(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){B(r,o,a,i,c,"next",t)}function c(t){B(r,o,a,i,c,"throw",t)}i(void 0)}))}}function F(){return(F=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(null,arguments)}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=R(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=R(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==R(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r,i,c=[],u=!0,s=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(o=r.call(n)).done)&&(c.push(o.value),c.length!==e);u=!0);}catch(t){s=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,e)||q(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){if(t){if("string"==typeof t)return V(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}var J=function(t){var e=[];return"completed"!==t?(["active","delayed"].includes(t)&&(e.push({id:"run_now",icon:"play",hint:Object(a.__)("Run Now","wp-marketing-automations"),isPro:!0,featureTitle:Object(a.__)("Run Now Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Run+Now+Upgrade+Modal"})}),e.push({id:"paused",icon:"pause",hint:Object(a.__)("Pause Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(a.__)("Pause Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Pause+Upgrade+Modal"})})),"paused"===t&&e.push({id:"unpaused",icon:"play",hint:Object(a.__)("Resume Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(a.__)("Resume Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Resume+Upgrade+Modal"})}),"failed"===t&&(e.push({id:"retry",icon:"retry",hint:Object(a.__)("Retry Action","wp-marketing-automations"),isPro:!0,featureTitle:Object(a.__)("Retry Action","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Retry+Upgrade+Modal"})}),e.push({id:"startbegin",icon:"start-beginning",hint:Object(a.__)("Re-Enter Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(a.__)("Re-Enter Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Re+Enter+Upgrade+Modal"})})),"inactive"!==t&&e.push({id:"end",icon:"end-status",hint:Object(a.__)("End","wp-marketing-automations")})):e.push({id:"rerun",icon:"retry",hint:Object(a.__)("Restart Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(a.__)("Retry Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Restart+Upgrade+Modal"})}),e.push({id:"delete",icon:"trash",hint:Object(a.__)("Delete","wp-marketing-automations")}),e};e.default=function(t){var e=Object(o.useContext)(u.h),n=t.match.params,v=n.automationId,R=n.type,B=void 0===R?"active":R,U=Y(Object(o.useState)({loading:!1,status:!1}),2),Z=U[0],V=U[1],H=Y(Object(o.useState)(""),2),W=H[0],K=H[1],z=Y(Object(o.useState)(""),2),Q=z[0],$=z[1],X=Y(Object(o.useState)(!1),2),tt=X[0],et=X[1],nt=Y(Object(o.useState)({isFeature:!0}),2),ot=nt[0],at=nt[1],rt=Y(Object(o.useState)({}),2),it=rt[0],ct=rt[1],ut=Object(c.a)(),st=ut.getContactData(),lt=ut.getContactAutomation(),mt=lt.title,ft=void 0===mt?"":mt,pt=ut.getContactSingleAutomationFailedCount(),bt=Object(p.a)(),gt=bt.setL2NavAlign,dt=bt.setL2Title,ht=bt.setPageCountData,yt=Object(E.a)(),Ot=yt.getAutomationData,jt=yt.getAutomationId,wt=Object(C.a)().setAutomationData,vt=Object(i.a)(),_t=vt.fetchContacts,kt=vt.setContactValues,Et=Y(Object(o.useState)([]),2),Ct=Et[0],At=Et[1],Pt=Y(Object(o.useState)(!1),2),Lt=Pt[0],xt=Pt[1],St=Y(Object(o.useState)(""),2),Tt=St[0],It=St[1],Nt=(0,Object(N.a)().getPageCountData)();Object(o.useEffect)((function(){Yt||ht(G(G({},Nt),{},{single_a_contacts:pt}))}),[pt]),Object(o.useEffect)((function(){Object(y.isEmpty)(lt)||wt("data",lt)}),[lt]);var Rt=function(){te&&te(),At([])},Dt=Object(o.useCallback)((function(t,e){At(e),It(t),xt(!0)}),[]);Object(o.useEffect)((function(){return Rt(),function(){kt("automation",{})}}),[]);var Bt=Ot(),Mt=Bt.title,Ft=void 0===Mt?"":Mt,Ut=Bt.status,Gt=void 0===Ut?"":Ut,Zt=jt();Object(f.a)("single_a_contacts","",!0,!1,null,v,!1,!0);var Yt=ut.getContactLoading(),qt=ut.getContactLimit(),Vt=ut.getContactOffset(),Jt=ut.getContactTotal(),Ht=ut.getContactCountData();Object(o.useEffect)((function(){_t(v,qt,Vt,B,Q)}),[qt,Vt,B,Q]),Object(o.useEffect)((function(){["active","inactive"].includes(B)&&""!==Gt&&Object(I.k)({page:"autonami",path:"/automation/".concat(v,"/contacts/").concat(1===parseInt(Gt)?"active":"inactive")},"/",{})}),[Gt]),Object(o.useEffect)((function(){gt("left"),Object(u.m)("Automation #"+v)}),[Yt]),Object(o.useEffect)((function(){dt(parseInt(v)===parseInt(Zt)&&""!==Ft&&""===ft?Ft:""!==ft?ft:Object(o.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}))}),[Ft,ft,v]);var Wt,Kt=Object(o.useMemo)((function(){var t={};if(Array.isArray(st)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=q(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,r=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw r}}}}(st);try{for(n.s();!(e=n.n()).done;){var o=e.value;t[o.ID]=o}}catch(t){n.e(t)}finally{n.f()}}return t}),[st]),zt=Object(A.b)(Kt),Qt=zt.singleSelectProps,$t=zt.selectAllProps,Xt=zt.floatingBarProps,te=zt.resetSelection,ee=zt.selected,ne=void 0===ee?{}:ee,oe=Object.keys(ne).filter((function(t){return ne[t]})).length,ae=[{key:"select_contact",label:Object(o.createElement)(L.a,F({type:"checkbox",checked:!1,onChange:function(){}},$t)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"contact",label:Object(a.__)("Contact","wp-marketing-automations"),required:!0,cellClassName:"bwf-crm-col-contact bwf-w-210 bwf-table-col-sticky bwf-sticky-left"},{key:"details",label:Object(a.__)("Details","wp-marketing-automations"),cellClassName:"bwf-crm-col-contact-details"},{key:"startedon ",label:Object(a.__)("Started On","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m"},{key:"last_run",label:"completed"===B?Object(a.__)("Completed On","wp-marketing-automations"):Object(a.__)("Last Run","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-180"},"failed"===B&&{key:"error_msg",label:Object(a.__)("Reason","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210 bwf-word-break",isLeftAligned:!0},"active"===B&&{key:"next_last_run",label:Object(a.__)("Next Run Time","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-120"},{key:"journey",label:Object(a.__)("Journey","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-90 bwf-table-col-sticky bwf-sticky-right"}],re=function(){var t=M(D().mark((function t(n){var o,a,r=arguments;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2&&void 0!==r[2]?r[2]:0,V(G(G({},o),{},{status:!0})),t.prev=3,t.next=6,_()({path:Object(u.A)("/automation/".concat(v,"/delete-contact")),method:"DELETE",data:{trail_id:n,ac_id:a,type:B}}).then((function(t){if(200!==t.code)throw Error(Object(u.u)(null==t?void 0:t.message));V({status:!1}),e(t.message),_t(v,qt,Vt,B,Q)})).catch((function(t){throw Error(Object(u.u)(null==t?void 0:t.message))}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),V(G(G({},o),{},{status:!0,error:t.t0.message}));case 11:Object(u.Kb)(e,3e3);case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),ie=function(){var t=M(D().mark((function t(n,o,a){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e("Updating status..."),t.prev=1,t.next=4,_()({path:Object(u.A)("/automation/".concat(n,"/contact/status")),method:"POST",data:{to:a,from:o}}).then((function(t){200===t.code?(e(t.message),_t(v,qt,Vt,B,Q)):e(t.message)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(t.t0.message);case 9:Object(u.Kb)(e,3e3);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,o){return t.apply(this,arguments)}}(),ce=ut.getContactPage(),ue=function(t){t!==qt&&(kt("limit",t),kt("offset",0))},se=function(t){return Object(o.createElement)(l.a,{href:"admin.php?page=autonami&path=/contact/"+t.cid,type:"bwf-crm",className:"bwf-crm-campaign-contactData-contact-link bwf-a-no-underline",key:t.cid},Object(o.createElement)(m.a,{contact:t,date:t.date,dateText:Object(a.__)("Joined on","wp-marketing-automations")}))},le=function(t){var e=t.trail,n=void 0===e?"":e;return Object(y.isEmpty)(n)?"-":Object(o.createElement)(O.Button,{isSecondary:!0,className:"bwf-btn-small is-light bwf-btn-gray",onClick:function(){Object(u.Zb)()?(K(n),ct(t)):(at(G(G({},ot),{},{featureTitle:Object(a.__)("Contact Journey","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contacts+Journey+Upgrade+Modal"})})),et(!0))}},!Object(u.Zb)()&&Object(o.createElement)(h.a,{icon:"king",size:16}),Object(a.__)("View","wp-marketing-automations"))},me={1:Object(a.__)("Delay","wp-marketing-automations"),2:Object(a.__)("Action","wp-marketing-automations"),3:Object(a.__)("Goal","wp-marketing-automations"),4:Object(a.__)("Condition","wp-marketing-automations")},fe=function(t){var e=t.data,n=void 0===e?{}:e;if(Object(y.isEmpty)(n))return Object(o.createElement)(o.Fragment,null);var a=n.action,r=void 0===a?"":a,i=n.run_time,c=void 0===i?"":i,s=n.type,l=void 0===s?"":s;return Object(o.createElement)("div",{className:"bwf-c-contact-details-cell"},!Object(y.isEmpty)(l)&&!Object(y.isEmpty)(r)&&me.hasOwnProperty(parseInt(l))&&Object(o.createElement)(d.a,{justify:"justify",align:"top"},Object(o.createElement)(d.c,null,Object(o.createElement)("span",{className:"bwf_bold"},me[parseInt(l)]),Object(y.isEmpty)(r)?"":" : "+r)),!Object(y.isEmpty)(c)&&Object(o.createElement)(d.a,{justify:"justify",align:"top"},Object(o.createElement)(d.c,null,Object(u.hb)(c))),(Object(y.isEmpty)(l)||!me.hasOwnProperty(parseInt(l)))&&Object(y.isEmpty)(c)&&Object(o.createElement)("span",null,"-"))},pe=function(t){var e=t.data,n=void 0===e?{}:e;return!(!n.hasOwnProperty("type")||3!==parseInt(n.type))},be=[{slug:1===parseInt(Gt)?"active":"inactive",name:1===parseInt(Gt)?Object(a.__)("Active","wp-marketing-automations"):Object(a.__)("Inactive","wp-marketing-automations"),path:"/automation/".concat(v,"/contacts/").concat(1===parseInt(Gt)?"active":"inactive")},{slug:"failed",name:Object(a.__)("Failed","wp-marketing-automations"),path:"/automation/".concat(v,"/contacts/failed")},{slug:"completed",name:Object(a.__)("Completed","wp-marketing-automations"),path:"/automation/".concat(v,"/contacts/completed")},{slug:"paused",name:Object(a.__)("Paused","wp-marketing-automations"),path:"/automation/".concat(v,"/contacts/paused")}];return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{dangerouslySetInnerHTML:{__html:"<style>#bwfcrm-page{ overflow: auto !important; }</style>"}}),Object(o.createElement)(s.a,null),Object(o.createElement)("div",{className:"bwf-single-automation-body-header",style:{paddingBottom:"8px"}},Object(o.createElement)("div",{className:"bwf-content-header-left"},Object(o.createElement)("div",{className:"bwf-content-header-title2"},Object(a.__)("Contacts","wp-marketing-automations")),parseInt(Jt)>0&&Object(o.createElement)("div",{className:"bwf-content-header-count"},Object(a.sprintf)(Object(a.__)("(%s Results)","wp-marketing-automations"),Jt)))),Object(o.createElement)(P.a,{tabs:be,selected:B,count:Ht}),Object(o.createElement)(r.a,{className:"bwf-crm-automation-contact has-search",rows:st.map((function(t){var e,n,r,i,c,s,l,m,f,p=[];return p.push({display:Qt.hasOwnProperty(t.ID)?Object(o.createElement)(L.a,F({type:"checkbox",checked:!1,onChange:function(){}},Qt[t.ID])):Object(o.createElement)(o.Fragment,null),value:null},{display:(n=t,r=n.status,i=void 0===r?"":r,c=n.trail,s=void 0===c?"":c,l=n.ID,m=n.aid,f=void 0===m?"":m,Object(o.createElement)(b.a,{label:Object(a.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var e=t.onToggle;return Object(o.createElement)(o.Fragment,null,[1,4,6].includes(parseInt(i))&&"inactive"!==B&&Object(o.createElement)(g.a,{isClickable:!0,onInvoke:function(){Object(u.Zb)()?ie(l,i,"now"):(at(G(G({},ot),{},{featureTitle:Object(a.__)("Run Now Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Run+Now+Upgrade+Modal"})})),et(!0)),e()}},Object(o.createElement)(d.a,{justify:"space-between"},Object(o.createElement)(d.c,null,Object(a.__)("Run Now","wp-marketing-automations")),!Object(u.Zb)()&&Object(o.createElement)(d.c,null,u.e))),[1,4,6].includes(parseInt(i))&&"inactive"!==B&&Object(o.createElement)(g.a,{isClickable:!0,onInvoke:function(){Object(u.Zb)()?ie(l,i,3):(at(G(G({},ot),{},{featureTitle:Object(a.__)("Pause Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Pause+Upgrade+Modal"})})),et(!0)),e()}},Object(o.createElement)(d.a,{justify:"space-between"},Object(o.createElement)(d.c,null,Object(a.__)("Pause Automation","wp-marketing-automations")),!Object(u.Zb)()&&Object(o.createElement)(d.c,null,u.e))),3===parseInt(i)&&"inactive"!==B&&Object(o.createElement)(g.a,{isClickable:!0,onInvoke:function(){Object(u.Zb)()?ie(l,i,1):(at(G(G({},ot),{},{featureTitle:Object(a.__)("Resume Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Resume+Upgrade+Modal"})})),et(!0)),e()}},Object(o.createElement)(d.a,{justify:"space-between"},Object(o.createElement)(d.c,null,Object(a.__)("Resume Automation","wp-marketing-automations")),!Object(u.Zb)()&&Object(o.createElement)(d.c,null,u.e))),2===parseInt(i)&&"inactive"!==B&&Object(o.createElement)(g.a,{isClickable:!0,onInvoke:function(){Object(u.Zb)()?ie(l,i,1):(at(G(G({},ot),{},{featureTitle:Object(a.__)("Retry Action","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Retry+Action+Upgrade+Modal"})})),et(!0)),e()}},Object(o.createElement)(d.a,{justify:"space-between"},Object(o.createElement)(d.c,null,Object(a.__)("Retry Action","wp-marketing-automations")),!Object(u.Zb)()&&Object(o.createElement)(d.c,null,u.e))),[2].includes(parseInt(i))&&"inactive"!==B&&Object(o.createElement)(g.a,{isClickable:!0,onInvoke:function(){Object(u.Zb)()?ie(l,i,"startbegin"):(at(G(G({},ot),{},{featureTitle:Object(a.__)("Re-Enter Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Re+Automation+Upgrade+Modal"})})),et(!0)),e()}},Object(o.createElement)(d.a,{justify:"space-between"},Object(o.createElement)(d.c,null,Object(a.__)("Re-Enter Automation","wp-marketing-automations")),!Object(u.Zb)()&&Object(o.createElement)(d.c,null,u.e))),!Object(y.isEmpty)(i)&&"inactive"!==B&&Object(o.createElement)(g.a,{isClickable:!0,onInvoke:function(){ie(l,i,"end"),e()}},Object(o.createElement)(d.a,{justify:"space-between"},Object(o.createElement)(d.c,null,Object(a.__)("End Automation","wp-marketing-automations")))),"completed"===B&&Object(o.createElement)(g.a,{isClickable:!0,onInvoke:function(){Object(u.Zb)()?ie(l,i,"re_run"):(at(G(G({},ot),{},{featureTitle:Object(a.__)("Restart Automation","wp-marketing-automations"),proLink:Object(u.eb)("upgrade",{utm_medium:"Automation+Contact+Activity+Restart+Upgrade+Modal"})})),et(!0)),e()}},Object(o.createElement)(d.a,{justify:"space-between"},Object(o.createElement)(d.c,null,Object(a.__)("Restart Automation","wp-marketing-automations")),!Object(u.Zb)()&&Object(o.createElement)(d.c,null,u.e))),Object(o.createElement)(g.a,{isClickable:!0,onInvoke:function(){var t={status:!0,deleteEntityName:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("span",{style:{fontWeight:"normal"}},Object(a.__)("contact ")),n.f_name," ",n.l_name),buttonConfirm:Object(a.__)("Delete","wp-marketing-automations"),buttonCancel:Object(a.__)("Cancel","wp-marketing-automations"),modalTitle:Object(a.__)("Delete Contact","wp-marketing-automations"),entityExtraText:Object(a.__)("from this automation","wp-marketing-automations"),aid:f};V(G(G({},t),{},{onConfirm:function(){return re(s,t,l)}})),e()}},Object(o.createElement)(d.a,{justify:"space-between"},Object(o.createElement)(d.c,null,Object(a.__)("Delete","wp-marketing-automations")))))}})),value:""},{display:se(t),value:t.hasOwnProperty("contact_name")?t.contact_name:"-"},{display:(e=t,Object(o.createElement)("div",{className:"bwf-c-contact-details-cell"},e.email&&Object(o.createElement)(d.a,{justify:"justify",align:"top"},Object(o.createElement)(d.c,null,e.email)),e.contact_no&&Object(o.createElement)(d.a,{justify:"justify",align:"top"},Object(o.createElement)(d.c,null,e.contact_no)),!e.email&&!e.contact_no&&"-")),value:""},{display:t.hasOwnProperty("c_date")?Object(u.hb)(t.c_date):"-",value:t.hasOwnProperty("c_date")?t.c_date:"-"}),"active"===B&&p.push({display:fe(t),value:""}),p.push({display:t.hasOwnProperty("e_time")&&!pe(t)?Object(u.hb)(t.e_time):"-",value:"-"}),"failed"===B&&p.push({display:t.hasOwnProperty("error_msg")&&!Object(y.isEmpty)(t.error_msg)?t.error_msg:"-",value:""}),p.push({display:le(t),value:"-"}),p})),headers:ae.filter((function(t){return!!t})),query:{paged:ce},rowsPerPage:qt,totalRows:Jt,isLoading:Yt,onPageChange:function(t){kt("offset",(t-1)*qt)},onQueryChange:function(t){return"per_page"!==t?function(){}:ue},rowHeader:!0,showMenu:!1,emptyMessage:Object(a.__)("No contacts found","wp-marketing-automations"),actions:oe>0?[Object(o.createElement)(A.a,F({key:"list-bulk-action",actions:J(B),onAction:Dt,inLine:!0,reset:Rt},Xt))]:[Object(o.createElement)(x.a,{key:"search",isLoading:Yt,searchTerm:Q,showResultCount:!1,setSearchData:function(t){Object(y.size)(t)?$(t):$("")}})]}),Object(u.Zb)()&&!Object(y.isEmpty)(W)&&Object(o.createElement)(O.Modal,{title:"",className:"bwf-admin-modal bwf-admin-modal-no-header bwf-admin-modal-fullscreen bwf-fullsc-modal",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(o.createElement)("div",{className:"bwf-stretch-header-single"},Object(o.createElement)("div",{className:"bwf-modal-heading"},(Wt="-",Object(y.isEmpty)(it)||(Wt=Object(y.isEmpty)(it.f_name)&&Object(y.isEmpty)(it.l_name)?it.email:it.f_name+" "+it.l_name),Wt)," ",Object(o.createElement)("span",{className:"bwf-tags bwf-tag-light-blue"},Object(a.__)("Customer Journey","wp-marketing-automations"))),Object(o.createElement)("div",{className:"bwf-display-flex gap-24"},Object(o.createElement)(O.Button,{isSecondary:!0,className:"bwf-btn-small is-light bwf-btn-gray",onClick:function(){Object(I.k)({page:"autonami",path:"/automation/"+it.aid},"/",{})}},Object(a.__)("View Automation","wp-marketing-automations")),Object(o.createElement)("span",{onClick:function(){K(""),ct({})},className:"bwf-modal-close"},Object(o.createElement)(h.a,{icon:"close",color:"#353030"})))),Object(o.createElement)(w.e,null,Object(o.createElement)(j.a,{customerData:{trail:W},isConatctTab:!0,automatonID:v,hasHeader:!0}))),Object(o.createElement)(k.a,{modalTitle:Z.modalTitle,content:Z.content,deleteEntityName:Z.deleteEntityName,confirmText:Z.confirmText,confirmButtonText:Z.buttonConfirm,cancelButtonText:Z.buttonCancel,onConfirm:Z.onConfirm,entityExtraText:Z.entityExtraText,isLoading:Z.loading,successMessage:Z.success,errorMessage:Z.error,onRequestClose:function(){return V({status:!1})},isOpen:Z.status,isDelete:!0}),!Object(u.Zb)()&&Object(o.createElement)(T.b,{isOpen:tt,onRequestClose:function(){return et(!1)},modalContent:ot}),Object(o.createElement)(S.a,{tasks:Ct,isOpen:Lt,onSuccess:function(){_t(v,qt,Vt,B,Q),Rt()},onError:Rt,onRequestClose:function(){return xt(!1)},screenType:"automation-contact",screenTypeId:B,actionType:Tt}))}}}]);