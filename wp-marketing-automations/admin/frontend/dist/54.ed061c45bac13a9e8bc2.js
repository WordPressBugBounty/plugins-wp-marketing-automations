(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1107:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(90),a={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)[1|3])([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|91|9[3-9])\d{7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}))/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(5|79)\d{7}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/};function o(t,e,n){if(Object(r.a)(t),n&&n.strictMode&&!t.startsWith("+"))return!1;if(Array.isArray(e))return e.some((function(e){if(a.hasOwnProperty(e)&&a[e].test(t))return!0;return!1}));if(e in a)return a[e].test(t);if(!e||"any"===e){for(var o in a){if(a.hasOwnProperty(o))if(a[o].test(t))return!0}return!1}throw new Error("Invalid locale '".concat(e,"'"))}a["en-CA"]=a["en-US"],a["fr-CA"]=a["en-CA"],a["fr-BE"]=a["nl-BE"],a["zh-HK"]=a["en-HK"],a["zh-MO"]=a["en-MO"],a["ga-IE"]=a["en-IE"],a["fr-CH"]=a["de-CH"],a["it-CH"]=a["fr-CH"];Object.keys(a)},1380:function(t,e,n){},1390:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(5),o=n(13),i=n(1),c=n(91),u=n(1046),s=n(1052),l=n(9),f=n.n(l),d=n(12),m=n(3),p=n(2),b=n(194),h=n(161),y=n(47),g=n(48),v=n(335),w=["getStateProp"];function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var S=function(t){if(!t||!t.editor||!t.editor.design)return!1;var e=JSON.parse(t.editor.design);return!!e&&!!e.body&&Array.isArray(e.body.rows)&&e.body.rows.length>0},k=function(){var t=Object(g.a)(v.a.campaignContent),e=t.getStateProp,n=E(t,w),r=u.a.getCampaignData(),a=parseInt(r.type);return j(j({},n),{},{getEmailContent:function(){var t=parseInt(e("currentEmail")),n=e("data");return n&&t in n?n[t]:{}},getCurrentEmail:function(){return parseInt(e("currentEmail"))},getEmails:function(){return e("emails")},getAllEmailContent:function(){return e("data")},getShowValidationFlag:function(){return e("showValidation")},emailsValidToSubmit:function(){var t=e("data");return!!e("emails").map((function(e){var n=t[e];if(!n)return!1;var r=!!n.utmEnabled,o=n.utm?n.utm:{},i={subject:1!==a||n.subject&&n.subject.length>0,content:"editor"!==n.type?n.body&&n.body.length>0:S(n),type:1!==a||n.type&&n.type.length>0,utmSource:!r||o.source&&o.source.length>0,utmMedium:!r||o.medium&&o.medium.length>0};return!!Object.keys(i).map((function(t){return i[t]})).reduce((function(t,e){return t&&e}),!0)})).reduce((function(t,e){return t&&e}),!0)&&t},getValidEmails:function(){var t=e("data"),n=e("emails"),r={};return n.map((function(e){var n=t[e];if(n){var o=!!n.utmEnabled,i=n.utm?n.utm:{},c={subject:1!==a||n.subject&&n.subject.length>0,content:"editor"!==n.type?n.body&&n.body.length>0:S(n),type:1!==a||n.type&&n.type.length>0,utmSource:!o||i.source&&i.source.length>0,utmMedium:!o||i.medium&&i.medium.length>0};r[e]=!!Object.keys(c).map((function(t){return c[t]})).reduce((function(t,e){return t&&e}),!0)}})),r},getEmailsToSubmit:function(){var t=e("data");return e("emails").map((function(e){var n=t[e];return n||!1})).filter(Boolean)},getCurrentEmailIndex:function(){var t=parseInt(e("currentEmail")),n=e("emails");return Array.isArray(n)&&n.includes(t)?n.indexOf(t):1},validateCurrentEmail:function(){var t=e("data"),n=parseInt(e("currentEmail"));if(!t||!t[n])return!1;var r=t[n];if(r){var o=!!r.utmEnabled,i=r.utm?r.utm:{};return{subject:1!==a||r.subject&&r.subject.length>0,content:"editor"!==r.type?r.body&&r.body.length>0:S(r),type:1!==a||r.type&&r.type.length>0,utmSource:!o||i.source&&i.source.length>0,utmMedium:!o||i.medium&&i.medium.length>0}}},getSmartSendSettings:function(){return e("smartSend")},getSaveContentStatus:function(){return e("saveContentStatus")},getSendTestEmailStatus:function(){return e("sendTestEmailStatus")},getUploadImageStatus:function(){return e("uploadImageStatus")},getUploadImageURL:function(){return e("uploadImageURL")},getLastUpdatedTime:function(){return e("lastUpdatedTime")}})};function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var L=["fetch","setStateProp"],C=["reply_to","senders_email","senders_name"],T=["reply_to","senders_email","senders_name"],N=["template"];function A(){A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function d(){}function m(){}var p={};c(p,a,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(E([])));h&&h!==e&&n.call(h,a)&&(p=h);var y=m.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==x(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new v(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function P(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function I(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var B=function(){var t,e,n=Object(y.a)(v.a.campaignContent),r=n.fetch,a=n.setStateProp,o=U(n,L),i=Object(y.a)(v.a.campaign).setStateProp,c=k(),s=c.getAllEmailContent,l=c.getCurrentEmail,d=c.getEmails,b=c.getSmartSendSettings,h=c.getCurrentEmailIndex,g=c.getEmailsToSubmit,w=c.getEmailContent,O=s(),j=l(),_=h(),E=d(),S=b(),x=w(),$=g(),M=u.a.getCampaignId(),B=u.a.getCampaignData(),D=B.type,R=function(t){return"type"in t?t:F(F({},t),{},{type:"block"})};return F(F({},o),{},{setEmailContentByKey:function(t,e){var n=R(j in O?F(F({},O[j]),{},G({},t,e)):G({},t,e));"type"!=t||"editor"!=e||n.hasOwnProperty("editor")||(n.editor={body:Object(m.Ab)(),design:Object(m.zb)()});var r=F(F({},O),{},G({},j,n));a("data",r)},setEmailUtmByKey:function(t,e){var n=R(j in O?F({},O[j]):{}),r="utm"in n?F(F({},n.utm),{},G({},t,e)):G({},t,e),o=F(F({},O),{},G({},j,F(F({},n),{},{utm:F(F({},r),{},G({},t,e))})));a("data",o)},setMultipleUtm:function(t){if(t){var e=R(j in O?F({},O[j]):{}),n=F(F({},O),{},G({},j,F(F({},e),{},{utm:F(F({},e.utm),t)})));a("data",n)}},setCurrentEmail:function(t){E.includes(t)&&a("currentEmail",t)},addEmail:function(){if(Array.isArray(E)&&E.length<3){var t=Math.max.apply(Math,I(E))+1;a("emails",[].concat(I(E),[t])),a("currentEmail",t),a("showValidation",!1),a("data",F(F({},O),{},G({},t,E[0]in O?Object(p.cloneDeep)(O[E[0]]):{})))}},showValidation:function(t){return a("showValidation",t)},deleteEmail:function(t){if(E.length>1){var e=E.filter((function(e){return e!==t}));a("emails",e),a("currentEmail",e[e.length-1])}},initContent:function(t,e){if(!Array.isArray(t)||0===Object(p.size)(t))return a("data",{1:{}}),a("emails",[1]),void a("currentEmail",1);var n={};for(var r in t){var o=parseInt(r)+1;n[o]=O[o]?F(F({},R(O[o])),t[r]):t[r]}a("data",n),a("emails",Object.keys(n).map((function(t){return parseInt(t)}))),e&&0!==Object.keys(e).length&&a("smartSend",e)},fetchCurrentMailEditorContent:function(){r("GET",Object(m.y)("/broadcast/".concat(M,"/content/").concat(_)),{},{email:j})},sendTestEmail:(t=A().mark((function t(e,n){var r,o,i,c,u,s,l,d,b,h,y,g,v,w,O,j,_,E,S=arguments;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=S.length>2&&void 0!==S[2]?S[2]:"",o=S.length>3&&void 0!==S[3]?S[3]:"",i=S.length>4&&void 0!==S[4]?S[4]:"",c="",u="",s="block",l="",x&&(d=x.body?x.body:"",b=x.editor?x.editor:{},h=b.body?b.body:"",s=x.type?x.type:s,c="editor"===s?h:d,u=x.subject?x.subject:"FunnelKit Automations - Test email subject",l=x.preheader?x.preheader:""),y=o||c,g=r||u,v=i||s,w="",O={},1==D?(w=Object(m.y)("/send-test-email"),O={email:e,content:{subject:g,body:y,type:v,preheader:l,mail_data:n}}):2==D?(n.reply_to,n.senders_email,n.senders_name,j=U(n,C),w=Object(m.y)("/send-test-sms"),O={phone:e,sms_body:y,sms_data:j}):3==D&&(n.reply_to,n.senders_email,n.senders_name,_=U(n,T),w=Object(m.y)("/send-test-whatsapp-message"),O={phone:e,sms_body:x,sms_data:_}),Object(p.isEmpty)(O)||Object(p.isEmpty)(w)){t.next=19;break}return t.next=17,f()({method:"POST",path:w,data:O}).then((function(t){return 200===t.code&&t.message?(a("sendTestEmailStatus",2),2):(a("sendTestEmailStatus",3),3)}));case 17:return E=t.sent,t.abrupt("return",E);case 19:case"end":return t.stop()}}),t)})),e=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){P(o,r,a,i,c,"next",t)}function c(t){P(o,r,a,i,c,"throw",t)}i(void 0)}))},function(t,n){return e.apply(this,arguments)}),setSmartSendByKey:function(t,e){return a("smartSend",F(F({},S),{},G({},t,e)))},saveBroadcastContent:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a("saveContentStatus",1);var n=Array.isArray(t)&&t.length>0?t.map((function(t){if("editor"===t.type&&t.hasOwnProperty("editor")&&t.editor.hasOwnProperty("body")&&(t.body=t.editor.body),"block"===t.type&&t.hasOwnProperty("block")){var e=t.block,n=e.template,r=void 0===n?"":n,a=U(e,N);""!==r&&(t.body=t.block.template),t.block=a}return t})):$,r={content:JSON.stringify(n),saveBroadcastContent:!0};f()({method:"POST",path:Object(m.y)("/broadcast/".concat(M,"/save-content")),data:r}).then((function(){e&&i("data",F(F({},B),{},{data:F(F({},B.data),{},{content:n})})),a("saveContentStatus",2),Array.isArray(t)&&t.length>0&&a("lastUpdatedTime",moment().utc().format("YYYY-MM-DD HH:mm:ss"))}))},uploadImage:function(t){if(t){a("uploadImageStatus",1);var e=new FormData;e.append("image",t),r("POST",Object(m.y)("/upload-image"),e,{uploadImage:!0,isFormData:!0})}},resetSaveContentStatus:function(){return a("saveContentStatus",null)},resetSendTestEmailStatus:function(){return a("sendTestEmailStatus",null)},resetUploadImageStatus:function(){a("uploadImageStatus",null),a("uploadImageStatusURL","")},overrideCurrentContent:function(t){var e=R(j in O?F({},O[j]):{}),n=e.preheader,r=void 0===n?"":n,o=e.subject,i=void 0===o?"":o,c=F(F({},e),t);""!==r&&(c.preheader=r),""!==i&&(c.subject=i);var u=F(F({},O),{},G({},j,F(F({},e),c)));a("data",u)}})},D=n(55);function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},W=function(t){var e=B().sendTestEmail,n=(0,k().getSendTestEmailStatus)(),a=R(Object(r.useState)("http://app.getautonami.com"),2),o=a[0],c=a[1],u=Object(r.useRef)();Object(r.useEffect)((function(){u.current=t}),[t]);var s=function(t){if(-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"send_test_email"===t.data.action&&t.data.token===Y.editor_nonce&&t.data.data){var n=t.data.data,r=n.email,a=n.body,o=n.subject,s=void 0===o?"":o;r&&a&&(c(t.origin),e(r,u.current,s||Object(i.__)("FunnelKit Automations - Test email subject","wp-marketing-automations"),a))}};return Object(r.useEffect)((function(){return window.addEventListener("message",s),function(){return window.removeEventListener("message",s)}}),[]),Object(r.useEffect)((function(){if(n&&1!==n){var t=2===n,e=document.getElementById("bwf_email_editor_frame");e&&e.contentWindow.postMessage({token:Y.editor_nonce,action:"send_test_email",data:{isSent:t}},o)}}),[n]),!0};function z(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||K(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||K(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var q=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},J=function(t){var e=B().saveBroadcastContent,n=k(),a=n.getSaveContentStatus,o=n.getEmailsToSubmit,i=n.getCurrentEmailIndex,c=a(),u=o(),s=i(),l=Object(r.useRef)(u),f=Object(r.useRef)(s);Object(r.useEffect)((function(){l.current=u,f.current=s}),[u,s]);var d=H(Object(r.useState)("http://app.getautonami.com"),2),m=d[0],p=d[1],b=function(t){if(-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"save_design"===t.data.action&&t.data.token===q.editor_nonce&&t.data.data){var n=t.data.data,r=n.body,a=n.design;if(r&&a){p(t.origin);var o=z(l.current);o[f.current].editor={body:r,design:a},e(o,!0)}}};return Object(r.useEffect)((function(){return window.addEventListener("message",b),function(){return window.removeEventListener("message",b)}}),[]),Object(r.useEffect)((function(){if(c&&1!==c&&t){var e=2===c,n=document.getElementById("bwf_email_editor_frame");n&&n.contentWindow.postMessage({token:q.editor_nonce,action:"save_design",data:{isSaved:e}},m)}}),[c]),!0};function Q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tt=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},et=function(){var t=Q(Object(r.useState)("http://app.getautonami.com"),2),e=t[0],n=t[1],a=function(t){-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"wp_image_upload"===t.data.action&&t.data.token===tt.editor_nonce&&t.data.data&&(n(t.origin),l())},o=Object(r.useRef)(),c=Q(Object(r.useState)(""),2),u=c[0],s=c[1],l=function(){if(!wp||!wp.media)return"";o.current||(o.current=wp.media({title:Object(i.__)("Select or Upload Media","wp-marketing-automations"),button:{text:"Select Image"},multiple:!1}),o.current.on("select",(function(){var t=o.current.state().get("selection").first().toJSON();s(t.url)}))),o.current.open()};return Object(r.useEffect)((function(){return window.addEventListener("message",a),function(){return window.removeEventListener("message",a)}}),[]),Object(r.useEffect)((function(){if(u){var t=document.getElementById("bwf_email_editor_frame");t&&t.contentWindow.postMessage({token:tt.editor_nonce,action:"wp_image_upload",data:{isUploaded:!0,imageURL:u}},e)}}),[u]),!0},nt=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},rt=function(t){var e=(0,k().getEmailContent)(),n=Object(r.useRef)(),a=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e,a.current=function(t){var e={};for(var n in t){var r=t[n];if(r){var a={};for(var o in r)r[o]&&r[o].hasOwnProperty("tag_description")&&r[o].hasOwnProperty("tag_name")&&(a[o]={name:r[o].tag_description,value:"{{".concat(r[o].tag_name,"}}")});e[n]={name:n,mergeTags:a}}}return e}(t)}),[e,t]);var o=function(t){if(-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"get_design"===t.data.action&&t.data.token===nt.editor_nonce){var e=Object(m.zb)(),r=n.current&&n.current.editor&&n.current.editor.design?n.current.editor.design:e,o=document.getElementById("bwf_email_editor_frame");o&&o.contentWindow.postMessage({token:nt.editor_nonce,action:"get_design",data:{gotDesign:!0,json:r,subject:n.current&&n.current.subject?n.current.subject:"",mergeTags:a.current,enableLinkTrigger:!0,textDirection:Object(m.Ub)()?"rtl":""}},t.origin)}};return Object(r.useEffect)((function(){return window.addEventListener("message",o),function(){return window.removeEventListener("message",o)}}),[]),!0},at=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},ot=function(t){var e=function(e){-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"open_merge_tags"===e.data.action&&e.data.token===at.editor_nonce&&e.data.data&&t&&t()};return Object(r.useEffect)((function(){return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[]),!0},it=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},ct=function(t){var e=function(e){-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"close_editor"===e.data.action&&e.data.token===it.editor_nonce&&e.data.data&&t&&t()};return Object(r.useEffect)((function(){return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[]),!0},ut=n(410),st=function(t){var e=function(){t&&t()};return Object(r.useEffect)((function(){return window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",e),function(){return window.removeEventListener("popstate",e)}}),[]),!0},lt=n(8),ft=n(39);function dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return mt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pt=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},bt=function(){return Object(r.createElement)("div",{className:"bwf-c-save-content-loading"},Object(r.createElement)(D.a,null),Object(r.createElement)("h3",null,Object(i.__)("Loading Visual Builder","wp-marketing-automations")))},ht=function(t){var e=t.iframeRef,n=t.editorSrc;return Object(r.createElement)("iframe",{ref:e,title:Object(i.__)("Email Editor","wp-marketing-automations"),src:n,id:"bwf_email_editor_frame",style:{width:"100%",height:"100%"}})},yt=function(t){var e=dt(Object(r.useState)(!1),2),n=e[0],o=e[1],c=dt(Object(r.useState)(!1),2),u=c[0],s=c[1],l=t.broadcastId,f=t.contentNumber,d=t.openMergeTags,p=t.mailData,b=t.mergeTags,h=t.openLinkTrigger,y=pt.license,g=pt.editor_nonce,v=pt.url,w=B(),O=w.fetchCurrentMailEditorContent,j=w.saveBroadcastContent,_=w.resetSaveContentStatus,E=k().getSaveContentStatus(),S=dt(Object(r.useState)(!1),2),x=S[0],L=S[1];Object(r.useEffect)((function(){x||2!==E&&3!==E||(L(!0),_())}),[E]);var C=Object(r.useCallback)((function(){o(!1),O()}));rt(b||[]),W(p),J(x),et(),ot(d),ct(C),Object(ut.a)(h),st(C);var T="//app.getautonami.com/get/".concat(y,"/").concat(g,"/").concat(v,"/crm.broadcast.").concat(l,".content.").concat(f),N=Object(r.useRef)();return Object(r.useEffect)((function(){n?(j(),document.body.classList.add("bwf-c-modal-open")):(L(!1),document.body.classList.remove("bwf-c-modal-open"))}),[n]),Object(r.createElement)(r.Fragment,null,n&&Object(r.createElement)("div",{className:"bwf-c-editor-modal-wrapper"},Object(r.createElement)("div",{className:"bwf-c-editor-modal bwf-c-editor-modal-full-width"},!x&&Object(r.createElement)(bt,null),!!x&&Object(r.createElement)(ht,{iframeRef:N,editorSrc:T}))),Object(r.createElement)("div",{className:"bwf-c-editor-button-wrapper"},Object(r.createElement)(lt.a,{icon:"launch-editor",size:40}),Object(r.createElement)("div",{className:"bwf-heading5-new"},Object(i.__)("Visually get email with drop & drop builder.","wp-marketing-automations")),Object(r.createElement)(a.Button,{isTertiary:!0,onClick:function(){Object(m.Sb)()?o(!0):s(!0)}},!Object(m.Sb)()&&m.e,Object(i.__)("Edit","wp-marketing-automations"))),!Object(m.Sb)()&&Object(r.createElement)(ft.b,{isOpen:u,onRequestClose:function(){return s(!1)},modalContent:{isFeature:!0,featureTitle:Object(i.__)("Visual Builder","wp-marketing-automations"),proLink:Object(m.ab)("upgrade",{utm_medium:"Visual+Builder+Upgrade+Modal"})}}))},gt=n(201),vt=n(44),wt=n(6),Ot=n.n(wt),jt=n(79),_t=n(519);function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(){St=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function d(){}function m(){}var p={};c(p,a,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(E([])));h&&h!==e&&n.call(h,a)&&(p=h);var y=m.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Et(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new v(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function kt(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function xt(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){kt(o,r,a,i,c,"next",t)}function c(t){kt(o,r,a,i,c,"throw",t)}i(void 0)}))}}function Lt(t){return function(t){if(Array.isArray(t))return Nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Tt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||Tt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(t,e){if(t){if("string"==typeof t)return Nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(t,e):void 0}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var At=/\S+@\S+\.\S+/,Pt=function(t){var e=t.value,n=void 0===e?"":e,a=t.onUpdate,o=void 0===a?function(){}:a,i=t.label,c=void 0===i?"":i,u=t.placeholder,s=void 0===u?"":u,l=Ct(Object(r.useState)(""),2),f=l[0],d=l[1],m=Object(r.useRef)(null),b=""!==n?n.split(","):[],h=function(t){return!(!t.match(At)||b.includes(t))};return Object(r.createElement)(r.Fragment,null,""!==c&&Object(r.createElement)("div",{className:"bwf-add-mail-input-label"},c),Object(r.createElement)("div",{className:"bwf-add-mail-input-wrap",onClick:function(){return m.current.focus()}},function(){if(""!==n)return Object(r.createElement)(r.Fragment,null,b.map((function(t,e){return""!==t.trim()&&Object(r.createElement)("span",{key:e,className:"bwf-search__selected-tag",onClick:function(t){return t.stopPropagation()}},t,Object(r.createElement)("span",{onClick:function(e){e.stopPropagation();var n=Lt(b).filter((function(e){return e!=t}));o(n.join(","))}},Object(r.createElement)(lt.a,{size:16,icon:"cross-circle"})))})))}(),b.length<10&&Object(r.createElement)("input",{type:"text",ref:m,value:f,onChange:function(t){return d(t.target.value)},onKeyDown:function(t){if(["Enter"," "].includes(t.key)&&(t.preventDefault(),h(f))){var e=Object(p.cloneDeep)(b);e.push(f),o(e.join(",")),d("")}},onBlur:function(t){if(t.preventDefault(),h(f)){var e=Object(p.cloneDeep)(b);e.push(f),o(e.join(",")),d("")}},autoComplete:"off",placeholder:s})))},It=function(t){var e=t.setPreview,n=t.content,c=t.type,u=t.maildata,s=Ct(Object(r.useState)(Object(m.vb)()),2),l=s[0],d=s[1],b=Ct(Object(r.useState)(!0),2),h=b[0],y=b[1],g=Ct(Object(r.useState)(Object(m.vb)()),2),v=g[0],w=g[1],O=Ct(Object(r.useState)(""),2),j=O[0],_=O[1],E=Ct(Object(r.useState)(!1),2),S=E[0],x=E[1],L=Ct(Object(r.useState)("desktop"),2),C=L[0],T=L[1],N=B(),A=k().validateCurrentEmail(),P=Object(r.useContext)(m.h),I=N.sendTestEmail;Object(r.useEffect)((function(){$()}),[]);var $=function(){var t=xt(St().mark((function t(){var e;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=4;break}return d(""),y(!1),t.abrupt("return");case 4:return t.prev=4,e={content:n,type:c},t.next=8,f()({path:Object(m.y)("/broadcast/email-preview"),method:"POST",data:e}).then((function(t){d(t.result.body.replace(/\\/g,"")),y(!1)}));case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(4);case 12:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=xt(St().mark((function t(){var e;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x(!0),n=void 0,n=!1,!Object(p.isEmpty)(v)&&A.content&&A.type&&A.utmMedium&&A.utmSource||(n=!0),n){t.next=7;break}return _(""),t.next=5,I(v,u,"","").then((function(t){setTimeout((function(){x(!1),Object(p.isInteger)(t)&&2===parseInt(t)?P(Object(i.__)("Test mail sent successfully.","wp-marketing-automations")):P(Object(i.__)("Test mail failed to send.","wp-marketing-automations")),Object(m.Eb)(P,3e3)}),1e3)}));case 5:t.next=12;break;case 7:e="",Object(p.isEmpty)(v)&&(e=Object(i.__)("Email is required field.","wp-marketing-automations")),Object(p.isEmpty)(e)&&!A.content&&(e=Object(i.__)("Mail content is required field.","wp-marketing-automations")),_(e),x(!1);case 12:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.createElement)(a.Modal,{className:"bwf-admin-modal bwf-admin-modal-no-header bwf-admin-modal-fullscreen bwf-fullsc-modal",shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1},Object(r.createElement)("div",{className:"bwf-stretch-header-single"},Object(r.createElement)("div",{className:"bwf-left-section"},Object(r.createElement)("div",{className:"bwf-editable-title"},Object(i.__)("Preview & Test","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwfan-responsive-toggle"},["desktop","mobile"].map((function(t){return Object(r.createElement)(o.a,{key:t,className:Ot()("bwf-responsive-toggle-icon",{"active-screen":C===t}),onClick:function(){void 0!==T&&T(t)},showTooltip:!1,size:20,title:Object(p.capitalize)(t)},Object(r.createElement)(lt.a,{icon:t,size:20,color:C===t?"#353030":"#82838e"}))}))),Object(r.createElement)("div",{className:"bwf-right-section"},Object(r.createElement)("div",{className:"bwf-back-button bwf-display-flex bwf-cursor-pointer",onClick:function(){return e(!1)}},Object(r.createElement)(lt.a,{icon:"cross"})))),Object(r.createElement)("div",{className:"bwf-preview-model-content"},Object(r.createElement)("div",{className:"bwf-preview-model-c-sidebar"},Object(r.createElement)("div",{className:Ot()("bwf-send-test-email",{"bwf-has-error":!!j})},Object(r.createElement)("div",{className:"bwf-send-test-email-header"},Object(i.__)("Send to Test Email","wp-marketing-automations")),Object(r.createElement)(Pt,{value:v,onUpdate:function(t){Object(m.kc)(t),w(t)},label:Object(i.__)("Send email upto 10 email addresses","wp-marketing-automations"),placeholder:Object(i.__)("Type here…","wp-marketing-automations")}),""!==j&&Object(r.createElement)("div",{className:"bwf-send-email-err"},j),Object(r.createElement)("div",{className:"bwf-send-test-email-hint"},Object(i.__)("You can add new email addresses by pressing enter or spacebar on your keyboard","wp-marketing-automations")),Object(r.createElement)(o.a,{variant:"primary",className:"bwf-test-email-btn bwf-no-ripple "+(S?"isloading":""),onClick:M},S?Object(r.createElement)(jt.a,{color:"#ffffff"}):Object(i.__)("Send Email","wp-marketing-automations"))),!h&&Object(r.createElement)(_t.a,{previewData:l,content:n})),Object(r.createElement)("div",{className:"bwf-preview-model-c-preview"},Object(r.createElement)("div",{className:"bwf-iframe bwf-preview-screen-"+C},h?Object(r.createElement)(D.a,null):Object(r.createElement)("iframe",{srcDoc:l})))))},$t=n(1107),Mt=n(426),Ft=n(162),Gt=function(t){var e=t.enable,n=t.position,o=t.imageURL,c=t.setData;return Object(r.createElement)("div",{className:"bwf-c-campaign-email"},Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(a.ToggleControl,{label:Object(i.__)("Enable Image Sending","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:e,onChange:function(t){return c("enable",t)}}),e&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(a.RadioControl,{className:"bwfcrm-inline-option",selected:n,label:Object(i.__)("Select Image Position","wp-marketing-automations"),options:[{value:"after",label:Object(i.__)("After","wp-marketing-automations")},{value:"before",label:Object(i.__)("Before","wp-marketing-automations")}],onChange:function(t){return c("position",t)}}),Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(Ft.a,{image:o?{url:o}:"",onChange:function(t){!Object(p.isNull)(t)&&t.hasOwnProperty("url")?c("imageURL",t.url):c("imageURL","")}})))},Ut=n(225),Bt=n(54);function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){Vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zt=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Ht=function(){var t=Yt(Object(r.useState)(!1),2),e=t[0],n=t[1],a=Yt(Object(r.useState)(!1),2),o=a[0],i=a[1],c=Object(Bt.a)(Object(m.sb)()).formatAmount,u=Object(r.useCallback)((function(t){var e=document.getElementById("bwf_email_editor_frame");e&&e.contentWindow.postMessage({token:zt.editor_nonce,action:"select_product_for_tool",data:{product:Rt(Rt({},t),{},{formattedPrice:c(t.price)})}},o),n(!1)}),[o]),s=Object(r.useCallback)((function(t){-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"select_product_for_tool"===t.data.action&&t.data.token===zt.editor_nonce&&(i(t.origin),n(!0))}),[n]);return Object(r.useEffect)((function(){return window.addEventListener("message",s),function(){return window.removeEventListener("message",s)}}),[]),e&&Object(r.createElement)(Ut.a,{onRequestClose:function(){return n(!1)},onProductSelected:u})},Kt=n(348),Zt=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},qt=function(t,e,n){var a=t.mergeTags,o=(t.enableConditional,k()),c=o.getEmailContent,s=o.getCurrentEmailIndex,l=o.getLastUpdatedTime,f=c(),d=(s(),Object(r.useRef)()),b=Object(r.useRef)(),h=u.a.getCampaignData().last_modified,y=void 0===h?"":h,g=l();Object(r.useEffect)((function(){d.current=f,b.current=function(t){var e={group:[],data:{}};for(var n in t){var r=t[n];if(r){var a="";switch(n){case"contact":a={label:Object(i.__)("Contact","wp-marketing-automations"),value:"contact"};break;case"contact_fields":a={label:Object(i.__)("Fields","wp-marketing-automations"),value:"contact_fields"};break;case"general":a={label:Object(i.__)("General","wp-marketing-automations"),value:"general"};break;case"affwp":a={label:Object(i.__)("Affiliate WP","wp-marketing-automations"),value:"affwp"}}e.group.push(a),e.data[n]=r}}return e}(a)}),[f,a]);var v=Zt.license,w=void 0===v?"":v,O=function(t){if(-1!==t.origin.indexOf(e)&&t.data&&t.data.action&&"getEditorContent"===t.data.action){var n,r,a,o=d.current&&d.current.block&&d.current.block.body?d.current.block.body:"",c=d.current&&d.current.block&&d.current.block.settings&&!Object(p.isEmpty)(d.current.block.settings)?d.current.block.settings:{},u=document.getElementById("bwf_block_editor_frame");u&&u.contentWindow.postMessage({token:Zt.editor_nonce,action:"editorContent",data:{title:d.current&&d.current.subject?d.current.subject:"",previewText:d.current&&d.current.preheader?d.current.preheader:"",content:o,siteSettings:Object(m.eb)(),last_updated:g||y,editorSettings:c,disableTitleHeader:!1,enableTemplate:!0,enableMergeTags:!Object(p.isEmpty)(b.current),mergeTagData:b.current,enableConditions:!1,enableMediaUpload:!0,blockSupported:[],isWCActive:Object(m.fc)(),isPro:Object(m.Sb)(),proModalData:{heading:Object(i.__)("This is a Pro Feature","wp-marketing-automations"),content:Object(i.__)("We're sorry, this feature is not available on your plan. Please upgrade to the PRO plan to unlock all these awesome features.","wp-marketing-automations"),cta_text:Object(i.__)("Go Pro","wp-marketing-automations"),link:"#"},client_id:"e682ca5385e5cbd92e285aae974f73cf",client_secret:"5ab88daa93c6279318ea6fbaae56ee69",license:(a=w,a?a.split("").filter((function(t,e){return e%2!=0})).reverse().join(""):a),support:(r={},Object(m.fc)()&&(r.wc=[]),r),integrations:{wc:{blocks:[],api:{get_products:Object(m.pb)()+"/wp-json/".concat(m.g,"/bwf-products"),get_product:Object(m.pb)()+"wp-json/".concat(m.g,"/bwf-product")},subscriptions:!!Object(p.get)(bwfcrm_contacts_data,"is_wcs_active",!1)}},apiEndpoints:(n={get_templates:Object(m.pb)()+"/wp-json/".concat(m.g,"/templates/?get_template=true&mode=5"),get_template:Object(m.pb)()+"/wp-json/".concat(m.g,"/template/"),get_layouts:Object(m.pb)()+"/wp-json/".concat(m.g,"/layouts/"),get_pages:Object(m.pb)()+"/wp-json/wp/v2/search"},Object(m.fc)()&&(n.get_wc_coupon=Object(m.pb)()+"/wp-json/".concat(m.g,"/wc-coupons/"),n.get_category=Object(m.pb)()+"/wp-json/".concat(m.g,"/wc-category/")),n),siteDomain:Object(m.pb)(),blockNavigationToolbar:[{name:"merge-tag",title:"Merge Tag",icon:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"> <g> <path d="M3.375 4.3125C3.375 3.17341 4.29841 2.25 5.4375 2.25C5.74816 2.25 6 2.50184 6 2.8125C6 3.12316 5.74816 3.375 5.4375 3.375C4.91973 3.375 4.5 3.79473 4.5 4.3125V7.54386C4.5 8.10258 4.27499 8.62185 3.89825 9C4.27499 9.37815 4.5 9.89742 4.5 10.4561V13.6875C4.5 14.2053 4.91973 14.625 5.4375 14.625C5.74816 14.625 6 14.8768 6 15.1875C6 15.4982 5.74816 15.75 5.4375 15.75C4.29841 15.75 3.375 14.8266 3.375 13.6875V10.4561C3.375 10.0526 3.11678 9.69436 2.73396 9.56675L2.63462 9.53363C2.40493 9.45707 2.25 9.24212 2.25 9C2.25 8.75788 2.40493 8.54293 2.63462 8.46637L2.73396 8.43325C3.11678 8.30564 3.375 7.94739 3.375 7.54386V4.3125ZM14.625 4.3125C14.625 3.17341 13.7016 2.25 12.5625 2.25C12.2518 2.25 12 2.50184 12 2.8125C12 3.12316 12.2518 3.375 12.5625 3.375C13.0803 3.375 13.5 3.79473 13.5 4.3125V7.54386C13.5 8.10258 13.725 8.62185 14.1017 9C13.725 9.37815 13.5 9.89742 13.5 10.4561V13.6875C13.5 14.2053 13.0803 14.625 12.5625 14.625C12.2518 14.625 12 14.8768 12 15.1875C12 15.4982 12.2518 15.75 12.5625 15.75C13.7016 15.75 14.625 14.8266 14.625 13.6875V10.4561C14.625 10.0526 14.8832 9.69436 15.266 9.56675L15.3654 9.53363C15.5951 9.45707 15.75 9.24212 15.75 9C15.75 8.75788 15.5951 8.54293 15.3654 8.46637L15.266 8.43325C14.8832 8.30564 14.625 7.94739 14.625 7.54386V4.3125Z" fill="#0073AA"/> </g> </svg>',clickAction:"openMergeTags",visibility:{show:["email-block/heading","email-block/button","email-block/text","email-block/list","email-block/menu"],hide:[]}},{name:"link-trigger",title:"Link Trigger",icon:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"> <g> <path d="M8.38495 4.85271C8.17288 5.0012 8.12134 5.29349 8.26983 5.50555C8.40182 5.69405 8.64743 5.75572 8.84932 5.66281L8.92267 5.62067L10.4586 4.54521C11.731 3.65427 13.4847 3.9635 14.3756 5.23589C15.2309 6.45738 14.9802 8.12248 13.833 9.04197L13.685 9.15294L12.149 10.2284C11.937 10.3769 11.8854 10.6692 12.0339 10.8812C12.1659 11.0697 12.4115 11.1314 12.6134 11.0385L12.6868 10.9964L14.2227 9.92089C15.9192 8.73298 16.3315 6.39468 15.1436 4.69816C13.9953 3.05819 11.772 2.61825 10.0926 3.66379L9.92086 3.77725L8.38495 4.85271ZM3.77722 8.07908C2.0807 9.26699 1.66839 11.6053 2.85631 13.3018C4.00463 14.9418 6.22791 15.3817 7.90731 14.3362L8.07904 14.2227L9.61495 13.1473C9.82701 12.9988 9.87855 12.7065 9.73006 12.4944C9.59807 12.3059 9.35246 12.2443 9.15057 12.3372L9.07722 12.3793L7.54131 13.4548C6.26892 14.3457 4.5152 14.0365 3.62426 12.7641C2.76896 11.5426 3.01974 9.8775 4.1669 8.958L4.31494 8.84703L5.85085 7.77158C6.06292 7.62309 6.11446 7.3308 5.96597 7.11874C5.83398 6.93023 5.58837 6.86857 5.38648 6.96148L5.31313 7.00362L3.77722 8.07908ZM11.8029 6.4651L5.65926 10.7669C5.4472 10.9154 5.39566 11.2077 5.54415 11.4198C5.67614 11.6083 5.92175 11.6699 6.12364 11.577L6.19699 11.5349L12.3406 7.23305C12.5527 7.08456 12.6042 6.79228 12.4557 6.58021C12.3238 6.39171 12.0781 6.33004 11.8763 6.42295L11.8029 6.4651L5.65926 10.7669L11.8029 6.4651Z" fill="#0073AA"/> </g> </svg>',clickAction:"openLinkTrigger",visibility:{show:["email-block/heading","email-block/button","email-block/text","email-block/list","email-block/menu"],hide:[]}}],isRTL:Object(m.Ub)(),testEmails:Object(m.vb)(),footer:bwfanParams.bwfan_global_settings.bwfan_email_footer_setting,webFonts:m.Cb,customFonts:m.p,version:m.k,imageSizes:m.Fb}},t.origin)}};return Object(r.useEffect)((function(){return window.addEventListener("message",O),function(){return window.removeEventListener("message",O)}}),[]),!0},Jt=function(t,e,n){var a=function(n){-1!==n.origin.indexOf(e)&&n.data&&n.data.action&&"closeEditor"===n.data.action&&n.data.data&&t&&t()};return Object(r.useEffect)((function(){return window.addEventListener("message",a),function(){return window.removeEventListener("message",a)}}),[]),!0};function Qt(t){return function(t){if(Array.isArray(t))return ee(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||te(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||te(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(t,e){if(t){if("string"==typeof t)return ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(t,e):void 0}}function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ne=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},re=function(t,e,n,a){var o=B().saveBroadcastContent,i=k(),c=i.getSaveContentStatus,u=i.getEmailsToSubmit,s=i.getCurrentEmailIndex,l=c(),f=u(),d=s(),m=Object(r.useRef)(f),b=Object(r.useRef)(d);Object(r.useEffect)((function(){m.current=f,b.current=d}),[f,d]);var h=Xt(Object(r.useState)(a),2),y=h[0],g=h[1],v=function(t){if(-1!==t.origin.indexOf(n)&&t.data&&t.data.action&&"saveEditorContent"===t.data.action&&t.data.data){var e=t.data.data,r=e.block,a=void 0===r?{}:r,i=e.subject,c=void 0===i?"":i,u=e.preheader,s=void 0===u?"":u;if(!Object(p.isEmpty)(a)||!Object(p.isEmpty)(c)){g(t.origin);var l=Qt(m.current);Object(p.isEmpty)(a)||(l[d].block=a),a.hasOwnProperty("template")&&(l[d].body=a.template),""!==c&&(l[d].subject=c),""!==s&&(l[d].preheader=s),o(l,!0)}}};return Object(r.useEffect)((function(){return window.addEventListener("message",v),function(){return window.removeEventListener("message",v)}}),[]),Object(r.useEffect)((function(){if(l&&1!==l&&t&&!e){var n=2===l,r=document.getElementById("bwf_block_editor_frame");r&&r.contentWindow.postMessage({token:ne.editor_nonce,action:"contentSaved",isSaved:n},y)}}),[l]),!0};function ae(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ie=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},ce=function(t,e,n){var a=B().sendTestEmail,o=(0,k().getSendTestEmailStatus)(),c=ae(Object(r.useState)(n),2),u=c[0],s=c[1],l=Object(r.useRef)();Object(r.useEffect)((function(){l.current=t}),[t]);var f=function(t){if(-1!==t.origin.indexOf(e)&&t.data&&t.data.action&&"sendTestMail"===t.data.action&&t.data.data){var n=t.data.data,r=n.email,o=n.body,c=n.subject,u=void 0===c?"":c;r&&o&&(s(t.origin),a(r,l.current,u||Object(i.__)("Autonami - Test email subject","wp-marketing-automations"),o))}};return Object(r.useEffect)((function(){return window.addEventListener("message",f),function(){return window.removeEventListener("message",f)}}),[]),Object(r.useEffect)((function(){if(o&&1!==o){var t=2===o,e=document.getElementById("bwf_block_editor_frame");e&&e.contentWindow.postMessage({token:ie.editor_nonce,action:"testMessageConfirmation",isSent:t},u)}}),[o]),!0};function ue(t){return function(t){if(Array.isArray(t))return fe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||le(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||le(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(t,e){if(t){if("string"==typeof t)return fe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(t,e):void 0}}function fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings&&bwfcrm_contacts_data.editor_settings;var de=function(t,e,n,a,o,i){var c=B().saveBroadcastContent,u=k(),s=u.getSaveContentStatus,l=u.getEmailsToSubmit,f=u.getCurrentEmailIndex,d=s(),m=l(),b=f(),h=Object(r.useRef)(m),y=Object(r.useRef)(b);Object(r.useEffect)((function(){h.current=m,y.current=b}),[m,b]);var g=se(Object(r.useState)(o),2),v=(g[0],g[1]),w=function(t){if(-1!==t.origin.indexOf(a)&&t.data&&t.data.action&&"importTemplate"===t.data.action&&t.data.data){var e=t.data.data,r=e.block,o=void 0===r?{}:r,i=e.subject,u=void 0===i?"":i,s=e.preheader,l=void 0===s?"":s;e.utmEnable,e.utm;if(!Object(p.isEmpty)(o)||!Object(p.isEmpty)(u)){v(t.origin),v(t.origin);var f=ue(h.current);f[b].block=o,""!==u&&(f[b].subject=u,f[b].preheader=l),n(!0),c(f)}}};return Object(r.useEffect)((function(){return window.addEventListener("message",w),function(){return window.removeEventListener("message",w)}}),[]),Object(r.useEffect)((function(){d&&1!==d&&t&&e&&(n(!0),document.getElementById("bwf_block_editor_frame").src=i,setTimeout((function(){n(!1)}),2e3))}),[d]),!0};function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pe(){pe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function d(){}function m(){}var p={};c(p,a,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(E([])));h&&h!==e&&n.call(h,a)&&(p=h);var y=m.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==me(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new v(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function be(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}var he=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},ye=function(t,e){var n=Object(r.useRef)(""),a=function(t,e){var r=document.getElementById("bwf_block_editor_frame");r&&r.contentWindow.postMessage({token:he.editor_nonce,action:"layoutSaved",isSaved:t,id:e},n.current)},o=function(){var e,r=(e=pe().mark((function e(r){return pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==r.origin.indexOf(t)&&r.data&&r.data.action&&"saveLayout"===r.data.action&&r.data.data){e.next=2;break}return e.abrupt("return");case 2:return n.current=r.origin,e.prev=3,e.next=6,f()({path:Object(m.y)("/layout"),method:"POST",data:r.data.data}).then((function(t){200===t.code&&t.result&&t.result.id?a(!0,t.result.id):a(!1)}));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,null,[[3,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(t){be(o,r,a,i,c,"next",t)}function c(t){be(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(t){return r.apply(this,arguments)}}();return Object(r.useEffect)((function(){return window.addEventListener("message",o),n.current=e,function(){return window.removeEventListener("message",o)}}),[]),!0};function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ve(){ve=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function d(){}function m(){}var p={};c(p,a,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(E([])));h&&h!==e&&n.call(h,a)&&(p=h);var y=m.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==ge(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new v(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function we(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}var Oe=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},je=function(t,e){var n=Object(r.useRef)(""),a=function(t,e){var r=document.getElementById("bwf_block_editor_frame");r&&r.contentWindow.postMessage({token:Oe.editor_nonce,action:"layoutDeleted",isDeleted:t,id:e},n.current)},o=function(){var e,r=(e=ve().mark((function e(r){var o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==r.origin.indexOf(t)&&r.data&&r.data.action&&"deleteLayout"===r.data.action&&r.data.data){e.next=2;break}return e.abrupt("return");case 2:return o=r.data.data.id,n.current=r.origin,e.prev=4,e.next=7,f()({path:Object(m.y)("/layout/".concat(parseInt(o))),method:"POST"}).then((function(t){200===t.code?a(!0,o):a(!1,o)}));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(t){we(o,r,a,i,c,"next",t)}function c(t){we(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(t){return r.apply(this,arguments)}}();return Object(r.useEffect)((function(){return window.addEventListener("message",o),n.current=e,function(){return window.removeEventListener("message",o)}}),[]),!0};function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(){Ee=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function d(){}function m(){}var p={};c(p,a,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(E([])));h&&h!==e&&n.call(h,a)&&(p=h);var y=m.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==_e(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new v(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Se(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function ke(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return xe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Le=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Ce=function(t,e){var n=ke(Object(r.useState)(e),2),a=n[0],o=n[1],i=function(t){var e=document.getElementById("bwf_block_editor_frame");e&&e.contentWindow.postMessage({token:Le.editor_nonce,action:"templateData",data:t},a)},c=function(){var e,n=(e=Ee().mark((function e(n){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==n.origin.indexOf(t)&&n.data&&n.data.action&&"getTemplates"===n.data.action&&n.data.data){e.next=2;break}return e.abrupt("return");case 2:return o(n.origin),e.prev=3,e.next=6,fetch(Object(m.pb)()+"/wp-json/".concat(m.g,"/templates/?get_template=true")).then((function(t){i(t||[])}));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,null,[[3,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(t){Se(o,r,a,i,c,"next",t)}function c(t){Se(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(t){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){return window.addEventListener("message",c),function(){return window.removeEventListener("message",c)}}),[]),!0};function Te(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ne(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ae=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Pe=function(t,e){var n=Te(Object(r.useState)(e),2),a=n[0],o=n[1],c=function(e){-1!==e.origin.indexOf(t)&&e.data&&e.data.action&&"openMediaUpload"===e.data.action&&e.data.data&&(o(e.origin),b())},u=Object(r.useRef)(),s=Te(Object(r.useState)(""),2),l=s[0],f=s[1],d=Te(Object(r.useState)(!1),2),m=d[0],p=d[1],b=function(){return wp&&wp.media?u.current?(p(!1),void u.current.open()):(u.current=wp.media({title:Object(i.__)("Select or Upload Media","wp-marketing-automations"),button:{text:Object(i.__)("Select Image","wp-marketing-automations")},multiple:!1}),u.current.on("select",(function(){var t=u.current.state().get("selection").first().toJSON();f(t.url)})),u.current.on("close",(function(){p(!0)})),void u.current.open()):""};return Object(r.useEffect)((function(){return window.addEventListener("message",c),function(){return window.removeEventListener("message",c)}}),[]),Object(r.useEffect)((function(){if(l){var t=document.getElementById("bwf_block_editor_frame");t&&t.contentWindow.postMessage({token:Ae.editor_nonce,action:"mediaUploadDone",data:{isUploaded:!0,imageURL:l}},a)}}),[l]),Object(r.useEffect)((function(){var t=document.getElementById("bwf_block_editor_frame");t&&t.contentWindow.postMessage({token:Ae.editor_nonce,action:"mediaUploadClose",data:{isUploaded:!1}},a)}),[m]),!0},Ie=(bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings&&bwfcrm_contacts_data.editor_settings,function(t,e,n){var a=function(n){-1!==n.origin.indexOf(e)&&n.data&&n.data.action&&"openMergeTags"===n.data.action&&n.data.data&&t&&t(!0)};return Object(r.useEffect)((function(){return window.addEventListener("message",a),function(){return window.removeEventListener("message",a)}}),[]),!0}),$e=(bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings&&bwfcrm_contacts_data.editor_settings,function(t,e,n){var a=function(n){-1!==n.origin.indexOf(e)&&n.data&&n.data.action&&"openLinkTrigger"===n.data.action&&n.data.data&&t&&t(!0)};return Object(r.useEffect)((function(){return window.addEventListener("message",a),function(){return window.removeEventListener("message",a)}}),[]),!0});function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(){Fe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function d(){}function m(){}var p={};c(p,a,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(E([])));h&&h!==e&&n.call(h,a)&&(p=h);var y=m.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Me(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new v(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Ge(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function Ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var De=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Re=function(t,e){var n=Ue(Object(r.useState)(e),2),a=n[0],o=n[1],i=function(t){var e=document.getElementById("bwf_block_editor_frame");e&&e.contentWindow.postMessage({token:De.editor_nonce,action:"layoutData",data:t},a)},c=function(){var e,n=(e=Fe().mark((function e(n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==n.origin.indexOf(t)&&n.data&&n.data.action&&"getLayouts"===n.data.action&&n.data.data){e.next=2;break}return e.abrupt("return");case 2:return o(n.origin),e.prev=3,e.next=6,fetch(Object(m.pb)()+"/wp-json/autonami-app/layouts/").then((function(t){return t.json()})).then((function(t){t.hasOwnProperty("result")?i(t.result):i([])}));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,null,[[3,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(t){Ge(o,r,a,i,c,"next",t)}function c(t){Ge(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(t){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){return window.addEventListener("message",c),function(){return window.removeEventListener("message",c)}}),[]),!0},Ve=(bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings&&bwfcrm_contacts_data.editor_settings,function(t,e,n,a,o){var i=function(r){-1!==r.origin.indexOf(a)&&r.data&&r.data.action&&"openConditionalModal"===r.data.action&&r.data.data&&(n&&n(r.data.data),e&&e(r.origin),t&&t(!0))};return Object(r.useEffect)((function(){return window.addEventListener("message",i),function(){return window.removeEventListener("message",i)}}),[]),!0}),Ye=function(t){var e=function(){t&&t()};return Object(r.useEffect)((function(){return window.history.pushState(null,null,window.location.href),window.addEventListener("popstate",e),function(){return window.removeEventListener("popstate",e)}}),[]),!0},We=n(289),ze=n.n(We),He=n(302),Ke=n(423),Ze=function(t,e,n,a){var o=function(r){-1!==r.origin.indexOf(n)&&r.data&&r.data.action&&"openSiteSettings"===r.data.action&&r.data.data&&(t&&t(!0),e&&e(r.origin))};return Object(r.useEffect)((function(){return window.addEventListener("message",o),function(){return window.removeEventListener("message",o)}}),[]),!0};function qe(){return(qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xe=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},tn=function(){return Object(r.createElement)("div",{className:"bwf-c-save-content-loading"},Object(r.createElement)(ze.a,{options:{loop:!0,autoplay:!0,animationData:He,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},height:480,width:480}),Object(r.createElement)("div",{style:{marginTop:"-60px",fontSize:"21px",fontWeight:"400",paddingLeft:"40px"}},Object(i.__)("Launching Editor","wp-marketing-automations")))},en=function(t){var e=t.iframeRef,n=t.editorSrc,a=t.isImport;return Object(r.createElement)("iframe",{ref:e,title:Object(i.__)("Block Editor","wp-marketing-automations"),src:n,id:"bwf_block_editor_frame",style:{width:"100%",height:"100%",display:a?"none":"block"}})},nn=function(){return Object(r.createElement)("div",{className:"bwf-c-save-content-loading"},Object(r.createElement)(ze.a,{options:{loop:!0,autoplay:!0,animationData:He,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},height:480,width:480}),Object(r.createElement)("div",{style:{marginTop:"-60px",fontSize:"21px",fontWeight:"400",paddingLeft:"40px"}},Object(i.__)("Importing Template","wp-marketing-automations")))},rn=function(t){t.broadcastId,t.contentNumber;var e=t.openMergeTags,n=t.mailData,a=t.mergeTags,o=t.openLinkTrigger,i=t.setOpen,c=t.setConditionalModal,u=t.setConditionalEventOrigin,s=t.setConditionalData,l=t.enableConditional,f=t.openSiteSettings,d=t.setSiteSettingsEventOrigin,p=(Xe.license,Xe.editor_nonce,Xe.url,B()),b=p.fetchCurrentMailEditorContent,h=p.saveBroadcastContent,y=p.resetSaveContentStatus,g=k().getSaveContentStatus(),v=Je(Object(r.useState)(!1),2),w=v[0],O=v[1],j=Je(Object(r.useState)(!1),2),_=j[0],E=j[1];Object(r.useEffect)((function(){w||2!==g&&3!==g||(O(!0),y())}),[g]);var S=Object(r.useCallback)((function(){i(!1),b()})),x=Object(m.O)(),L=x.iframeOrigin,C=x.iframeURL,T=x.editorSrc;qt({mergeTags:a||[],enableConditional:l},L,C),re(w,_,L,C),Jt(S,L,C),ce(n,L,C),de(w,_,E,L,C,T),ye(L,C),je(L,C),Ce(L,C),Re(L,C),Ie(e,L,C),$e(o,L,C),Ze(f,d,L,C),Pe(L,C),Ve(c,u,s,L,C),Ye(S),Object(Ke.a)(L,C);var N=Object(r.useRef)();return Object(r.useEffect)((function(){return h(),document.body.classList.add("bwf-c-modal-open"),O(!1),function(){document.body.classList.remove("bwf-c-modal-open")}}),[]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-c-editor-modal-wrapper"},Object(r.createElement)("div",{className:"bwf-c-editor-modal bwf-c-editor-modal-full-width"},!w&&Object(r.createElement)(tn,null),_&&Object(r.createElement)(nn,null),!!w&&Object(r.createElement)(en,{iframeRef:N,editorSrc:T,isImport:_}))))},an=function(t){var e=Je(Object(r.useState)(!1),2),n=e[0],o=e[1],c=Je(Object(r.useState)(!1),2),u=c[0],s=c[1];return n?Object(r.createElement)(rn,qe({},t,{setOpen:o})):Object(r.createElement)("div",{className:"bwf-c-editor-button-wrapper"},Object(r.createElement)(lt.a,{icon:"launch-editor",size:40}),Object(r.createElement)("div",{className:"bwf-heading5-new"},Object(i.__)("Utilize our drag & drop builder to craft elegant email templates including WooCommerce Blocks.","wp-marketing-automations")),Object(r.createElement)(a.Button,{isTertiary:!0,onClick:function(){Object(m.Sb)()?o(!0):s(!0)}},!Object(m.Sb)()&&m.e,Object(i.__)("Edit","wp-marketing-automations")),!Object(m.Sb)()&&Object(r.createElement)(ft.b,{isOpen:u,onRequestClose:function(){return s(!1)},modalContent:{isFeature:!0,featureTitle:Object(i.__)("New Visual Builder","wp-marketing-automations"),proLink:Object(m.ab)("upgrade",{utm_medium:"New+Visual+Builder+Upgrade+Modal"})}}))},on=n(517),cn=n(40),un=n(353);function sn(t){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ln(){ln=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function d(){}function m(){}var p={};c(p,a,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(E([])));h&&h!==e&&n.call(h,a)&&(p=h);var y=m.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==sn(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new v(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function fn(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(n),!0).forEach((function(e){pn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yn=Object(m.tb)(),gn=[{label:Object(i.__)("Visual Builder","wp-marketing-automations"),value:"block",className:"bwf-display-flex bwf-campaign-template-type"},{label:Object(i.__)("Rich Text","wp-marketing-automations"),value:"rich",className:"bwf-display-flex bwf-campaign-template-type "},yn.includes("wc")&&{label:Object(i.__)("WooCommerce","wp-marketing-automations"),value:"wc",className:"bwf-display-flex bwf-campaign-template-type "},{label:Object(i.__)("Raw HTML","wp-marketing-automations"),value:"html",className:"bwf-display-flex bwf-campaign-template-type"},{label:Object(i.__)("Visual Builder","wp-marketing-automations"),value:"editor",className:"bwf-display-flex bwf-campaign-template-type"}].filter(Boolean),vn=function(t){var e=t.maildata,n=t.setTemplateModal,o=u.a.getCampaignData(),c=parseInt(o.type),s=Object(m.G)(),l=B(),f=l.setEmailContentByKey,d=l.setEmailUtmByKey,y=l.setMultipleUtm,g=l.resetSendTestEmailStatus,v=l.sendTestEmail,w=bn(Object(r.useState)(!1),2),O=w[0],j=w[1],_=bn(Object(r.useState)(""),2),E=_[0],S=_[1],x=bn(Object(r.useState)(!1),2),L=x[0],C=x[1],T=k(),N=T.getEmailContent()?T.getEmailContent():{},A=bn(Object(r.useState)(!1),2),P=A[0],I=A[1],$="utm"in N?N.utm:{},M=bn(Object(r.useState)(!1),2),F=M[0],G=M[1],U=bn(Object(r.useState)(""),2),D=U[0],R=U[1],V=bn(Object(r.useState)([]),2),Y=V[0],W=V[1],z="subject"in N?N.subject:"",H="preheader"in N?N.preheader:"",K="type"in N?N.type:"block",Z="utmEnabled"in N&&N.utmEnabled,q=bn(Object(r.useState)({message:"",type:1}),2),J=q[0],Q=q[1],X="whatsAppImage"in N&&N.whatsAppImage,tt="whatsAppImageSetting"in N?N.whatsAppImageSetting:{},et="position"in tt?tt.position:"after",nt="imageURL"in tt?tt.imageURL:"",rt="source"in $?$.source:"",at="medium"in $?$.medium:"",ot="name"in $?$.name:"",it="content"in $?$.content:"",ct="term"in $?$.term:"",ut=bn(Object(r.useState)(!1),2),st=ut[0],dt=ut[1],mt=T.getShowValidationFlag(),pt=bn(Object(r.useState)(!1),2),bt=pt[0],ht=pt[1],wt=bn(Object(r.useState)("content"),2),jt=wt[0],_t=wt[1],Et=bn(Object(r.useState)([]),2),St=Et[0],kt=Et[1],xt=bn(Object(r.useState)(!1),2),Lt=xt[0],Ct=xt[1],Tt=bn(Object(r.useState)(!1),2),Nt=Tt[0],At=Tt[1],Pt=bn(Object(r.useState)(""),2),Ft=Pt[0],Ut=Pt[1],Bt=T.getCurrentEmailIndex(),Dt=N&&N.body?N.body:"",Rt="editor"in N?N.editor:{},Vt=Rt&&Rt.body?Rt.body:"",Yt="editor"===K?Vt:Dt,Wt="<p>Hi {{contact_first_name}},</p><p></p>"+bwfanParams.bwfan_global_settings.bwfan_email_footer_setting;Object(r.useEffect)((function(){Object(p.isEmpty)(Dt)&&f("body",1==c?Wt:"Hi {{contact_first_name}},")}),[Dt]);var zt=Z?mn(mn({},e),{},{utmName:ot,utmMedium:at,utmContent:it,utmSource:rt,utmTerm:ct}):e;Object(r.useEffect)((function(){if(Z){var t={};!rt&&(t.source=Object(m.q)("source")),!at&&(t.medium=s[c].label),!ot&&(t.name=Object(p.trim)(o.title).replace(/\s/g,"+")),y(t)}}),[Z]);var Zt=T.validateCurrentEmail(),qt={1:Object(i.__)("Place your HTML here","wp-marketing-automations"),2:Object(i.__)("Enter the SMS Body","wp-marketing-automations"),3:Object(i.__)("Place your message here","wp-marketing-automations")},Jt=function(){return"editor"==N.type?N.hasOwnProperty("editor")&&N.editor.hasOwnProperty("body")?N.editor.body:"":N.body},Qt=T.getSendTestEmailStatus();Object(r.useEffect)((function(){null!==Qt&&setTimeout((function(){g(),Q({message:"",type:1})}),2e3),2===Qt&&Q({message:1==c?Object(i.__)("Test email sent","wp-marketing-automations"):Object(i.__)("Test message sent","wp-marketing-automations"),type:1}),3===Qt&&Q({message:1==c?Object(i.__)("Unable to send mail","wp-marketing-automations"):Object(i.__)("Unable to send message","wp-marketing-automations"),type:1})}),[Qt]);var Xt=mt&&!Zt.subject?" bwf-field-error":"",te=mt&&!Zt.content?" bwf-field-error-textarea":"",ee=mt&&!Zt.utmSource?" bwf-field-error":"",ne=mt&&!Zt.utmMedium?" bwf-field-error":"";return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-c-campaign-body"},1===c&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a.TextControl,{value:z,onChange:function(t){return f("subject",t)},label:Object(i.__)("Subject","wp-marketing-automations"),placeholder:Object(i.__)("Enter subject","wp-marketing-automations"),className:"bwf-field-m0"+Xt}),Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)("div",{className:"bwf-campaign-mail-headers-wrap"},Object(r.createElement)(a.TextControl,{value:H,placeholder:Object(i.__)("Enter preview text","wp-marketing-automations"),label:Object(i.__)("Preview Text","wp-marketing-automations"),onChange:function(t){return f("preheader",t)}})),Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)("div",{className:"bwf-heading7-new bwf-mb-8"},Object(i.__)("Template Type","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-select-template-type"},gn.map((function(t){return Object(r.createElement)("label",{key:t.value,className:Ot()({"is-selected":K===t.value})},Object(r.createElement)("input",{type:"radio",value:t.value,onChange:function(){l.showValidation(!1),f("type",t.value)},checked:K===t.value&&"checked"}),Object(r.createElement)("span",null,t.label),"block"===t.value&&Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(i.__)("New","wp-marketing-automations")))}))),Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a.Flex,null,Object(r.createElement)(a.FlexBlock,null,Object(r.createElement)(a.Flex,{gap:3,justify:"flex-start"},!["editor","block"].includes(K)&&Object(r.createElement)(a.FlexItem,null,Object(r.createElement)(a.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray btn-svg-none is-light",onClick:function(){if(Object(m.Sb)())return _t("content"),void ht(!0);I(!0)}},Object(r.createElement)(lt.a,{icon:Object(m.Sb)()?"merge-tag":"king",size:16}),Object(i.__)("Merge Tags","wp-marketing-automations"))),Object(r.createElement)(a.FlexItem,null,Object(r.createElement)("div",null,Object(r.createElement)(Kt.a,{canCreate:!0,isLinkTriggerOpen:Lt,onClose:function(){return Ct(!1)},setLinkTriggerOpen:function(t){Object(m.Sb)()?Ct(t):I(!0)},modelOpenContent:Object(r.createElement)(a.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray btn-svg-none is-light"},Object(r.createElement)(lt.a,{icon:Object(m.Sb)()?"link-trigger":"king",size:16}),Object(i.__)("Link Triggers","wp-marketing-automations")),hideButton:["editor","block"].includes(K)}))))),Object(r.createElement)(a.FlexItem,null,Object(r.createElement)(a.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray is-light",onClick:function(){Object(m.Sb)()?n(!0):I(!0)}},Object(r.createElement)(lt.a,{icon:Object(m.Sb)()?"templates":"king",size:16}),Object(i.__)("Templates","wp-marketing-automations"))))),Object(r.createElement)("div",{className:"bwf_clear_24"})),Object(r.createElement)("div",{className:te},1===c&&("rich"===K||"wc"===K)&&Object(r.createElement)(h.a,{content:Yt,keyid:"bwf-campaign-email-editor",setContent:function(t){return f("body",t)}}),("html"===K||2===c||3===c)&&Object(r.createElement)(a.TextareaControl,{value:Yt,onChange:function(t){return f("body",t)},label:2===c||3===c?Object(i.__)("Message","wp-marketing-automations"):"",placeholder:qt[c],rows:[2,3].includes(c)?5:24,className:"bwf-email-raw-html"}),1===c&&"editor"===K&&Object(r.createElement)(yt,{broadcastId:o.id,contentNumber:parseInt(Bt),openMergeTags:function(){return ht(!0)},mailData:zt,mergeTags:St,openLinkTrigger:Ct}),1===c&&"block"===K&&Object(r.createElement)(an,{objectId:"emialblock",contentNumber:parseInt(Bt),openMergeTags:function(){return ht(!0)},mailData:e,mergeTags:St,openLinkTrigger:Ct,enableConditional:!!Object(m.Sb)(),setConditionalModal:G,setConditionalEventOrigin:R,setConditionalData:W,openSiteSettings:At,setSiteSettingsEventOrigin:Ut})),Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)(a.Flex,null,Object(r.createElement)(a.FlexItem,null,Object(r.createElement)("div",{className:"bwf-display-flex gap-12"},1==c&&Object(r.createElement)(Mt.a,{templateData:N,type:1,checkIfValid:function(){return!!Zt.subject||(l.showValidation(!0),!1)}}),1!=c&&Object(r.createElement)("div",null,Object(r.createElement)(a.Button,{isTertiary:!0,className:"bwf-btn-grey bwf-btn-small",onClick:function(){j(!0)}},Object(i.__)("Send Test Message","wp-marketing-automations")),O&&Object(r.createElement)(cn.a,{className:"bwf-campaign-test-mail-popup",onFocusOutside:function(){j(!1)},onClick:function(t){return t.stopPropagation()},focusOnMount:"no-focus"},Object(r.createElement)("div",{className:"bwf-campaign-test-mail-wrap"},Object(r.createElement)("div",{className:"bwf-p",style:{marginBottom:"16px"}},Object(r.createElement)(a.TextControl,{value:E,onChange:function(t){return S(t)},placeholder:Object(i.__)("Enter phone no.","wp-marketing-automations")})),Object(r.createElement)(a.Button,{isPrimary:!0,isBusy:L,onClick:function(){var t,e=(t=ln().mark((function t(e){var n;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),C(!0),r=void 0,r=!1,!(Object(p.isEmpty)(E)||![2,3].includes(c)&&!isEmail(E)||[2,3].includes(c)&&!Object($t.a)(E))&&Zt.content&&Zt.type&&Zt.utmMedium&&Zt.utmSource||(r=!0),r){t.next=7;break}return t.next=5,v(E,zt,"","").then((function(){setTimeout((function(){C(!1),j(!1)}),1e3)}));case 5:t.next=13;break;case 7:n="",Object(p.isEmpty)(E)&&[2,3].includes(c)&&(n=Object(i.__)("Phone is required field.","wp-marketing-automations")),Object(p.isEmpty)(n)&&[2,3].includes(c)&&(Object($t.a)(E)||(n=Object(i.__)("Entered phone is not valid.","wp-marketing-automations"))),Object(p.isEmpty)(n)&&!Zt.content&&(n=Object(i.__)("Content is required field.","wp-marketing-automations")),Q({message:n,type:2}),C(!1);case 13:case"end":return t.stop()}var r}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){fn(o,r,a,i,c,"next",t)}function c(t){fn(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}()},Object(i.__)("Send","wp-marketing-automations"))))),1==c&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a.Button,{isTertiary:!0,className:"bwf-btn-grey bwf-btn-small",onClick:function(){Object(p.isEmpty)(Jt())?Q({message:Object(i.__)("No content available for preview.","wp-marketing-automations"),status:2}):dt(!0)}},Object(i.__)("Preview and Test","wp-marketing-automations")),st&&Object(r.createElement)(It,{setPreview:dt,content:Jt(),type:K,maildata:e})))),Object(r.createElement)(a.FlexItem,null,!(1===c&&["editor","block"].includes(K))&&3!==c&&Object(r.createElement)(a.Button,{isTertiary:!0,className:"bwf-btn-grey bwf-btn-small",onClick:function(t){t.preventDefault(),_t("content");var e=2===c?bwfanParams.bwfan_global_settings.bwfan_sms_unsubscribe_text:bwfanParams.bwfan_global_settings.bwfan_email_footer_setting;f("body","".concat(Yt||""," \n").concat(e))}},Object(i.__)("Add Unsubscribe Text","wp-marketing-automations")))),Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)(vt.a,{checked:Z,label:Object(i.__)("Automatically append UTM parameters to email links","wp-marketing-automations"),className:"bwf-crm-campaign-third-step-utm",onChange:function(t){return f("utmEnabled",t)}}),Z&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)("div",{className:"bwf-campaign-utm-section"},Object(r.createElement)(a.TextControl,{value:rt,onChange:function(t){return d("source",t.replace(/\s/g,"+"))},label:Object(i.__)("Campaign Source","wp-marketing-automations"),placeholder:Object(i.__)("Enter UTM source","wp-marketing-automations"),help:Object(i.__)("Referrer: (e.g., google, newsletter)","wp-marketing-automations"),className:"bwf-field-comp-label-content"+ee}),Object(r.createElement)(a.TextControl,{value:at,onChange:function(t){return d("medium",t.replace(/\s/g,"+"))},label:Object(i.__)("Campaign Medium","wp-marketing-automations"),placeholder:Object(i.__)("Enter UTM medium","wp-marketing-automations"),help:Object(i.__)("Marketing medium: (e.g., CPC, banner, email)","wp-marketing-automations"),className:"bwf-field-comp-label-content"+ne}),Object(r.createElement)(a.TextControl,{value:ot,onChange:function(t){return d("name",t.replace(/\s/g,"+"))},label:Object(i.__)("Campaign Name","wp-marketing-automations"),placeholder:Object(i.__)("Enter UTM name","wp-marketing-automations"),help:Object(i.__)("Product, promo code, or slogan (e.g., spring_sale)","wp-marketing-automations"),className:"bwf-field-comp-label-content"}),Object(r.createElement)(a.TextControl,{value:ct,onChange:function(t){return d("term",t.replace(/\s/g,"+"))},label:Object(i.__)("Campaign Term","wp-marketing-automations"),placeholder:Object(i.__)("Enter UTM term","wp-marketing-automations"),className:"bwf-field-comp-label-content"}),Object(r.createElement)(a.TextControl,{value:it,onChange:function(t){return d("content",t.replace(/\s/g,"+"))},label:Object(i.__)("Campaign Content","wp-marketing-automations"),placeholder:Object(i.__)("Enter UTM content","wp-marketing-automations"),className:"bwf-field-comp-label-content bwf-mb-0"}))),3==c&&Object(r.createElement)(Gt,{enable:X,position:et,imageURL:nt,setData:function(t,e){if("enable"==t)f("whatsAppImage",e);else if(["position","imageURL"].includes(t)){var n={position:et,imageURL:nt};n[t]=e,f("whatsAppImageSetting",n)}}}),Object(r.createElement)(b.a,{message:J.message,type:J.type,removeMessage:function(){return Q({message:"",type:1})}})),Object(r.createElement)(gt.a,{isOpen:bt,setOpenTags:ht,onMergeTagSelected:function(t){"subject"===jt&&f("subject","".concat(z||""," ").concat(t)),"content"===jt&&f("body","".concat(Yt||""," ").concat(t)),ht(!1)},onMergeTagsLoaded:function(t){return kt(t)}}),Nt&&Object(r.createElement)(un.a,{onClose:function(){return At(!1)},siteSettingsEventOrigin:Ft}),Object(m.fc)()&&Object(r.createElement)(Ht,null),Object(m.Sb)()&&Object(r.createElement)(on.a,{isConditionalModal:F,setConditionalModal:G,conditionalEventOrigin:D,setConditionalData:W,conditionalData:Y}),!Object(m.Sb)()&&Object(r.createElement)(ft.b,{isOpen:P,onRequestClose:function(){return I(!1)},modalContent:{isFeature:!0,featureTitle:Object(i.__)("Broadcast","wp-marketing-automations")}}))},wn=n(496),On=(n(1380),n(65)),jn=function(t){var e=B(),n=k(),o=n.getSmartSendSettings(),c=o.enable,u=o.percent,s=o.hours,l=e.setSmartSendByKey,f=n.getShowValidationFlag(),d=n.getEmails();return Array.isArray(d)&&d.length>1?Object(r.createElement)("div",{className:"bwf-c-campaign-email bwf-mt-24 bwf-campaign-smart-send-container"},Object(r.createElement)("div",{className:"bwf-heading3-new bwf-mb-16"},Object(i.__)("Smart Sending","wp-marketing-automations")),Object(r.createElement)(a.ToggleControl,{label:Object(i.__)("Enable Smart Sending","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:c,onChange:function(t){return l("enable",t)}}),c&&Object(r.createElement)("div",{className:"bwf-display-flex"},Object(r.createElement)("div",{className:"bwf-w-280"}),Object(r.createElement)("div",{className:"bwf-w-100p"},parseInt(u)>0&&parseInt(s)>0?Object(r.createElement)("div",{className:"bwf-campaign-smart-send-notice"},Object(r.createElement)("div",{className:"bwf-campaign-smart-s-svg"},Object(r.createElement)(lt.a,{icon:"icon-bulb",width:13,height:17})),Object(r.createElement)("div",{className:"bwf-campaign-smart-send-n-txt"},Object(r.createElement)("span",{className:"bwf-n-b"},Object(i.__)("How Smart Sending Works?","wp-marketing-automations")),Object(r.createElement)("span",null,Object(i.sprintf)(Object(i.__)("This broadcast will first go to %d percent of your contacts. After %d hours, the variant with the highest open rate will be sent to the rest.","wp-marketing-automations"),parseInt(u),parseInt(s))))):Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(a.TextControl,{type:"number",value:u,onChange:function(t){return l("percent",t)},label:Object(i.__)("Sample size (in percent)","wp-marketing-automations"),placeholder:Object(i.__)("Enter percent","wp-marketing-automations"),className:Ot()({"bwf-field-comp-label-content":!0,"bwf-field-error":f&&!parseInt(u)})}),Object(r.createElement)(a.TextControl,{type:"number",value:s,onChange:function(t){return l("hours",t)},label:Object(i.__)("Wait time (in hours)","wp-marketing-automations"),placeholder:Object(i.__)("Enter hour difference","wp-marketing-automations"),className:Ot()({"bwf-field-comp-label-content":!0,"bwf-mb-0":!0,"bwf-field-error":f&&!parseInt(s)})})))):null},_n=n(28);function En(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kn="ABCDEFGHIJKLMNOPQRSTUVWXYZ",xn=function(t){var e=t.mailData,n=t.unsubscribeLink,a=t.errMsg,o=B(),c=k(),s=o.setCurrentEmail,l=o.addEmail,f=o.showValidation,d=o.deleteEmail,b=o.overrideCurrentContent,h=En(Object(r.useState)(!1),2),y=h[0],g=h[1],v=c.getEmails(),w=c.getCurrentEmail(),O=c.getSmartSendSettings(),j=c.emailsValidToSubmit(),_=c.getShowValidationFlag(),E=u.a.getCampaignData(),S=!(E&&E.data&&E.data.ab_type)||"ab"===E.data.ab_type,x=Object(r.useRef)(!1),L=Object(r.useCallback)((function(t){return Ot()({active:w===t})})),C=!![!O.enable||!!parseInt(O.hours)&&v.length>1,!O.enable||!!parseInt(O.percent)&&v.length>1].reduce((function(t,e){return t&&e}),!0),T=Object(r.useContext)(m.h);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:""},(!j||!C||!n)&&_&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(On.a,null),Object(r.createElement)(_n.a,{className:"bwf-error-notice",status:"error",onRemove:function(){return f(!1)}},(!j||!C)&&Object(i.__)("Some required fields are not filled, check below","wp-marketing-automations"),!n&&Object(r.createElement)(r.Fragment,null,(!j||!C)&&Object(r.createElement)("br",null),Object(p.isEmpty)(a)?Object(i.__)("{{unsubscribe_link}} are required merge tags, they must be missing from the email body","wp-marketing-automations"):a))),S&&Object(r.createElement)("div",{className:"bwf-c-campaign-email-tabs bwf-mb-16"},Object(r.createElement)("ul",null,v.map((function(t,e){return Object(r.createElement)("li",{onClick:function(){return function(t){!x.current&&s(t),x.current=!1}(t)},className:L(t),key:"bwf-c-campaign-email-tabs-".concat(e)},0===e?Object(i.__)("Control","wp-marketing-automations"):Object(i.__)("Variant","wp-marketing-automations")," ",e>0&&kn[parseInt(e)%kn.length-1],e>0&&Object(r.createElement)("span",{className:"bwf-w-20 bwf-h-20 bwf-cursor-pointer bwf-ml-4 bwf-display-flex",onClick:function(){return function(t){x.current=!0,d(t)}(t)}},Object(r.createElement)(lt.a,{icon:"cross",size:16})))})),v.length<3&&Object(r.createElement)("li",{className:"bwf-c-campaign-email-variant"},Object(r.createElement)("div",{className:"bwf-display-flex bwf-h-20",onClick:function(){return l()}},Object(r.createElement)("span",{className:"bwf-rotate-45 bwf-p-0"},Object(r.createElement)(lt.a,{icon:"cross",size:16,color:"#353030"})),Object(r.createElement)("span",null,Object(i.__)("Add Variant","wp-marketing-automations")))))),1===parseInt(E.type)&&Object(r.createElement)("span",{className:"bwf-c-campaign-template-selector"},Object(r.createElement)(wn.a,{showText:!1,openTemplate:y,setTemplateModal:g,applyTemplate:function(t){b(t),T(Object(i.__)("Template Applied Successfully.","wp-marketing-automations")),setTimeout((function(){T("")}),2e3)}})),Object(r.createElement)(vn,{maildata:e,setTemplateModal:g}),Object(r.createElement)(jn,null)))},Ln=n(74);function Cn(t){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tn(){Tn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function d(){}function m(){}var p={};c(p,a,(function(){return this}));var b=Object.getPrototypeOf,h=b&&b(b(E([])));h&&h!==e&&n.call(h,a)&&(p=h);var y=m.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(a,o){function i(){return new e((function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Cn(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=m,c(y,"constructor",m),c(m,"constructor",d),d.displayName=c(m,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new v(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Nn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(n),!0).forEach((function(e){Pn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function In(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function $n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Mn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(t){var e=Object(d.i)(),n=$n(Object(r.useState)({message:"",type:1}),2),l=n[0],h=n[1],y=$n(Object(r.useState)([]),2),g=y[0],v=y[1],w=$n(Object(r.useState)([]),2),O=w[0],j=w[1],_=$n(Object(r.useState)(Object(m.N)("from_name")),2),E=_[0],S=_[1],x=$n(Object(r.useState)(Object(m.N)("from_email")),2),L=x[0],C=x[1],T=$n(Object(r.useState)(Object(m.N)("reply_to_email")),2),N=T[0],A=T[1],P=$n(Object(r.useState)(""),2),I=P[0],$=P[1],M=Object(s.a)().setCampaignValues,F=u.a.getCampaignId(),G=u.a.getCampaignData(),U=parseInt(G.type);Object(r.useEffect)((function(){G&&!Object(p.isNull)(G.data)&&(G.data.hasOwnProperty("content")&&!Object(p.isEmpty)(G.data.content)?v(G.data.content):v(1==U?[{subject:"",preheader:"",type:"block",body:"",utm:{}}]:[{body:"",utm:{}}]),G.data.hasOwnProperty("senders_name")&&S(G.data.senders_name),G.data.hasOwnProperty("senders_email")&&C(G.data.senders_email),G.data.hasOwnProperty("replyto")&&!Object(p.isEmpty)(G.data.replyto)&&A(G.data.replyto))}),[]);var D=Object(Ln.a)().setL2Title;Object(r.useEffect)((function(){D("title"in G?Object(r.createElement)(r.Fragment,null,G.title):"")}),[G]);var R={name:1!==U||null===E||E.length>0,email:1!==U||null===L||Object(c.a)(L),content:null===g||g.length>0},V=k(),Y=V.emailsValidToSubmit(),W=V.getEmails(),z=V.getAllEmailContent(),H=V.getSmartSendSettings(),K=B();Object(r.useEffect)((function(){if(G&&G.data){var t=!G.data.ab_type||"ab"===G.data.ab_type,e=G.data.content?Array.isArray(G.data.content)&&!t?[G.data.content[0]]:G.data.content:[],n=G.data.smart_send&&t?G.data.smart_send:{};K.initContent(e,n)}}),[F]);var Z=!![1!==U||E&&E.length>0,1!==U||L&&Object(c.a)(L),1!==U||Object(p.isEmpty)(N)||N&&Object(c.a)(N)].reduce((function(t,e){return t&&e}),!0),q=!![!H.enable||!!parseInt(H.hours)&&W.length>1,!H.enable||!!parseInt(H.percent)&&W.length>1].reduce((function(t,e){return t&&e}),!0),J=function(){if(1!==U)return!0;var t=Object(m.C)();$("");var e=!0,n=[];return W.map((function(r){var a=z.hasOwnProperty(r)?z[r]:{},o="";a.hasOwnProperty("type")&&("editor"==a.type?a.hasOwnProperty("editor")&&a.editor.hasOwnProperty("body")&&(o=a.editor.body):a.hasOwnProperty("body")&&(o=a.body)),o.includes("{{mail_footer}}")||(e=(t.includes("unsubscribe_link")||o.includes("unsubscribe_link"))&&(t.includes("business_name")||o.includes("business_name"))&&(t.includes("business_address")||o.includes("business_address")))||(t.includes("unsubscribe_link")||o.includes("unsubscribe_link")||n.includes("{{unsubscribe_link}}")||n.push("{{unsubscribe_link}}"),t.includes("business_name")||o.includes("business_name")||n.includes("{{business_name}}")||n.push("{{business_name}}"),t.includes("business_address")||o.includes("business_address")||n.includes("{{business_address}}")||n.push("{{business_address}}"))})),Object(p.isEmpty)(n)||$(Object(i.__)("The required merge tags","wp-marketing-automations")+" "+n.join(", ")+(n.length>1?" are ":" is ")+" "+Object(i.__)("missing in the email body","wp-marketing-automations")),j(e),e},Q=function(){var e,n=(e=Tn().mark((function e(){var n,r,a;return Tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=J(),K.showValidation(!1),!(Z&&Y&&q&&n)){e.next=17;break}return t.setPending(!0),e.prev=4,r=An({content:W.map((function(t){return Y[t]})),senders_name:E,senders_email:L,replyto:N,modified_by:Object(m.L)()},H.enable?{smart_send:{enable:H.enable,percent:H.percent,hours:H.hours}}:{}),a={content:JSON.stringify(r),step:3},e.next=9,f()({path:Object(m.y)("/broadcast/".concat(F)),method:"POST",data:a}).then((function(t){200===t.code?(M("data",t.result),M("step",4)):h({message:t.message,type:0})}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),h({message:e.t0.message,type:0});case 14:t.setPending(!1),e.next=18;break;case 17:K.showValidation(!0);case 18:case"end":return e.stop()}}),e,null,[[4,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(t){In(o,r,a,i,c,"next",t)}function c(t){In(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),X=R&&!R.email?" bwf-field-error":"",tt=R&&!R.name?" bwf-field-error":"";return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(On.a,null),Object(r.createElement)("div",{className:"bwf-campaign-step-div bwf-card-wrap bwf-campaign-step-3"},Object(r.createElement)("div",{className:"bwf-card-header"},Object(r.createElement)("span",{className:"bwf-form-title"},Object(i.__)("Content","wp-marketing-automations"))),1===U&&Object(r.createElement)("div",{className:"bwf-p-gap"},Object(r.createElement)("div",{className:"bwf-c-campaign-email"},Object(r.createElement)(a.TextControl,{value:E,onChange:S,label:Object(i.__)("From Name","wp-marketing-automations"),placeholder:Object(i.__)("Enter From Name","wp-marketing-automations"),className:tt}),Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(a.Flex,null,Object(r.createElement)(a.FlexBlock,null,Object(r.createElement)(a.TextControl,{value:L,onChange:C,label:Object(i.__)("From Email","wp-marketing-automations"),placeholder:Object(i.__)("Enter From Email","wp-marketing-automations"),className:X})),Object(r.createElement)(a.FlexBlock,null,Object(r.createElement)(a.TextControl,{value:N,placeholder:Object(i.__)("Enter Reply-To Email","wp-marketing-automations"),label:Object(i.__)("Reply-To Email","wp-marketing-automations"),onChange:A}))))),Object(r.createElement)("div",{className:"bwf-p-gap "+(1===parseInt(U)?"bwf-pt-0":"")},Object(r.createElement)(xn,{mailData:{reply_to:N,senders_email:L,senders_name:E},unsubscribeLink:O,errMsg:I}),Object(r.createElement)(b.a,{message:l.message,type:l.type,removeMessage:function(){return h({message:"",type:1})}})),Object(r.createElement)("div",{className:"bwf-p-gap bwf-pt-0"},Object(r.createElement)("div",{className:"bwf-crm-campaign-navigation"},Object(r.createElement)(o.a,{className:"bwf-crm-navigation-previous",isSecondary:!0,onClick:function(){var t=G.data&&!Object(p.isNull)(G.data)&&G.data.hasOwnProperty("filters")?G.data.filters:{};Object(p.isEmpty)(t)||Object(d.k)(t,"/",e),M("step",2)}},Object(i.__)("Previous","wp-marketing-automations")),Object(r.createElement)(o.a,{isPrimary:!0,className:"bwf-crm-navigation-next",disabled:!Z,onClick:Q,isBusy:t.isPending},Object(i.__)("Next","wp-marketing-automations"))))))}}}]);