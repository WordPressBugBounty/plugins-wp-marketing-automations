(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{1165:function(t,e,n){"use strict";var o=n(0),r=n(97),a=n(9),i=n.n(a),c=n(3),u=n(54),s=n(1);function l(){var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,o,r,a){var u=o&&o.prototype instanceof c?o:c,s=Object.create(u.prototype);return m(s,"_invoke",function(n,o,r){var a,c,u,s=0,l=r||[],m=!1,f={p:0,n:0,v:t,a:b,f:b.bind(t,4),d:function(e,n){return a=e,c=0,u=t,f.n=n,i}};function b(n,o){for(c=n,u=o,e=0;!m&&s&&!r&&e<l.length;e++){var r,a=l[e],b=f.p,p=a[2];n>3?(r=p===o)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=b&&((r=n<2&&b<a[1])?(c=0,f.v=o,f.n=a[1]):b<p&&(r=n<3||a[0]>o||o>p)&&(a[4]=n,a[5]=o,f.n=p,c=0))}if(r||n>1)return i;throw m=!0,o}return function(r,l,p){if(s>1)throw TypeError("Generator is already running");for(m&&1===l&&b(l,p),c=l,u=p;(e=c<2?t:u)||!m;){a||(c?c<3?(c>1&&(f.n=-1),b(c,u)):f.n=u:f.v=u);try{if(s=2,a){if(c||(r="next"),e=a[r]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),c=1);a=t}else if((e=(m=f.n<0)?u:n.call(o,f))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:m}}}(n,r,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var f=[][o]?e(e([][o]())):(m(e={},o,(function(){return this})),e),b=s.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,m(t,r,"GeneratorFunction")),t.prototype=Object.create(b),t}return u.prototype=s,m(b,"constructor",s),m(s,"constructor",u),u.displayName="GeneratorFunction",m(s,r,"GeneratorFunction"),m(b),m(b,r,"Generator"),m(b,o,(function(){return this})),m(b,"toString",(function(){return"[object Generator]"})),(l=function(){return{w:a,m:p}})()}function m(t,e,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}(m=function(t,e,n,o){function a(e,n){m(t,e,(function(t){return this._invoke(e,n,t)}))}e?r?r(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(a("next",0),a("throw",1),a("return",2))})(t,e,n,o)}function f(t,e,n,o,r,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(o,r)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){f(a,o,r,i,c,"next",t)}function c(t){f(a,o,r,i,c,"throw",t)}i(void 0)}))}}e.a=function(t){var e=t.isOpen,n=t.tasks,a=t.onSuccess,m=t.onError,f=t.onRequestClose,p=t.actionType,O=(t.screenType,t.screenTypeId),d=Object(o.useContext)(c.h),j=n?n.length:0,g=Object(r.useMutation)(function(){var t=b(l().m((function t(e){return l().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,i()({path:Object(c.C)("/automation/bulk-action"),method:"POST",data:{action:p,a_cids:e,status:O}}).then((function(t){d(t.message),Object(c.Pb)(d,2e3)}));case 1:return t.a(2,t.v)}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return g.reset()}),2500),a&&setTimeout((function(){return a()}),2e3)},onError:function(){m&&m()}}),y=function(){var t=b(l().m((function t(){return l().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,g.mutate(n.map((function(t){return t.ID})));case 1:return t.a(2)}}),t)})));return function(){return t.apply(this,arguments)}}(),w={delete:{title:Object(s._n)("Delete Automation for Contact","Delete Automation for Contacts",j,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to delete ","wp-marketing-automations"),Object(s._n)("contact","contacts",j,"wp-marketing-automations"),Object(s.__)(" from this automation. This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Delete","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to delete automation for contacts","wp-marketing-automations"),confirmDescription:Object(s.__)("This action is irreversible","wp-marketing-automations")},end:{title:Object(s._n)("End Automation for Contact","End Automation for Contacts",j,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to end automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",j,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk action has been scheduled, it will be executed within one minute.","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to end automation for contacts","wp-marketing-automations")},paused:{title:Object(s._n)("Pause Automation for Contact","Pause Automation for Contacts",j,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to pause automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",j,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to pause automation for contacts","wp-marketing-automations")},run_now:{title:Object(s._n)("Run Automation for Contact","Run Automation for Contacts",j,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to run automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",j,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to run automation for contacts","wp-marketing-automations")},unpaused:{title:Object(s._n)("Resume Automation for Contact","Resume Automation for Contacts",j,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to resume automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",j,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to resume automation for contacts","wp-marketing-automations")},retry:{title:Object(s._n)("Retry Automation for Contact","Retry Automation for Contacts",j,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to retry automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",j,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to re-run automation for contacts","wp-marketing-automations")},rerun:{title:Object(s._n)("Re-Run Automation for Contact","Re-Run Automation for Contacts",j,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to re-run automation for ","wp-marketing-automations"),Object(s._n)("contact","contacts",j,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to re-run automation for contacts","wp-marketing-automations")},startbegin:{title:Object(s._n)("Start From Beginning Automation for Contact","Start From Beginning Automation for Contacts",j,"wp-marketing-automations"),description:Object(o.createElement)(o.Fragment,null,Object(s.__)("You are about to start automation from beginning for ","wp-marketing-automations"),Object(s._n)("contact","contacts",j,"wp-marketing-automations"),Object(s.__)(". Confirm to proceed.","wp-marketing-automations")),confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),successMsg:Object(s.__)("Bulk Action has been scheduled, it will be executed within one minute","wp-marketing-automations"),errorMsg:Object(s.__)("Unable to start automation from beginning for contacts","wp-marketing-automations")}};return Object(o.createElement)(u.a,{modalTitle:w.hasOwnProperty(p)&&w[p].hasOwnProperty("title")?w[p].title:Object(s._n)("Perform Actions","Perform Actions",j,"wp-marketing-automations"),deleteDescriptionText:w.hasOwnProperty(p)&&w[p].hasOwnProperty("description")?w[p].description:"",confirmButtonText:w.hasOwnProperty(p)&&w[p].hasOwnProperty("confirmBtn")?w[p].confirmBtn:Object(s.__)("Confirm","wp-marketing-automations"),cancelButtonText:w.hasOwnProperty(p)&&w[p].hasOwnProperty("cancelBtn")?w[p].cancelBtn:Object(s.__)("Cancel","wp-marketing-automations"),onConfirm:y,isLoading:g.isLoading,successMessage:g.isSuccess&&(w.hasOwnProperty(p)&&w[p].hasOwnProperty("successMsg")?w[p].successMsg:Object(s.__)("Actions Done!","wp-marketing-automations")),errorMessage:g.isError&&(g.error&&g.error.message?g.error.message:w.hasOwnProperty(p)&&w[p].hasOwnProperty("errorMsg")?w[p].errorMsg:Object(s.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!f&&f()},isOpen:e,confirmDescription:w.hasOwnProperty(p)&&w[p].hasOwnProperty("confirmDescription")?w[p].confirmDescription:"",isDelete:!0})}},1227:function(t,e,n){},1308:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(1098),a=n(5),i=n(12),c=n(1),u=n(147),s=n(28),l=n(35),m=n.n(l),f=n(2),b=n(362);function p(){var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,o,r,a){var u=o&&o.prototype instanceof c?o:c,s=Object.create(u.prototype);return O(s,"_invoke",function(n,o,r){var a,c,u,s=0,l=r||[],m=!1,f={p:0,n:0,v:t,a:b,f:b.bind(t,4),d:function(e,n){return a=e,c=0,u=t,f.n=n,i}};function b(n,o){for(c=n,u=o,e=0;!m&&s&&!r&&e<l.length;e++){var r,a=l[e],b=f.p,p=a[2];n>3?(r=p===o)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=b&&((r=n<2&&b<a[1])?(c=0,f.v=o,f.n=a[1]):b<p&&(r=n<3||a[0]>o||o>p)&&(a[4]=n,a[5]=o,f.n=p,c=0))}if(r||n>1)return i;throw m=!0,o}return function(r,l,p){if(s>1)throw TypeError("Generator is already running");for(m&&1===l&&b(l,p),c=l,u=p;(e=c<2?t:u)||!m;){a||(c?c<3?(c>1&&(f.n=-1),b(c,u)):f.n=u:f.v=u);try{if(s=2,a){if(c||(r="next"),e=a[r]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),c=1);a=t}else if((e=(m=f.n<0)?u:n.call(o,f))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:m}}}(n,r,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][o]?e(e([][o]())):(O(e={},o,(function(){return this})),e),m=s.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,O(t,r,"GeneratorFunction")),t.prototype=Object.create(m),t}return u.prototype=s,O(m,"constructor",s),O(s,"constructor",u),u.displayName="GeneratorFunction",O(s,r,"GeneratorFunction"),O(m),O(m,r,"Generator"),O(m,o,(function(){return this})),O(m,"toString",(function(){return"[object Generator]"})),(p=function(){return{w:a,m:f}})()}function O(t,e,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}(O=function(t,e,n,o){function a(e,n){O(t,e,(function(t){return this._invoke(e,n,t)}))}e?r?r(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(a("next",0),a("throw",1),a("return",2))})(t,e,n,o)}function d(t,e,n,o,r,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(o,r)}var j=function(t){var e=t.selected,n=void 0===e?[]:e,r=t.placeholder,a=void 0===r?"":r,i=t.setSelected,u=function(){var t,e=(t=p().m((function t(e){var n;return p().w((function(t){for(;;)switch(t.n){case 0:if(Object(f.isArray)(e)){t.n=1;break}return t.a(2);case 1:n=e.find((function(t){return m()(t,"searchTerm")})),Object(f.isUndefined)(n)&&e.length>0&&e[0].hasOwnProperty("key")&&i([e[e.length-1]]);case 2:return t.a(2)}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){d(a,o,r,i,c,"next",t)}function c(t){d(a,o,r,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}();return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(s.a,{autocompleter:b.a,multiple:!1,allowFreeTextSearch:!1,inlineTags:!0,selected:n,onChange:u,onRemoveTag:function(){return i([])},placeholder:""!==a?a:Object(c.__)("Search by automation","wp-marketing-automations"),showClearButton:!1,disabled:!1}))},g=n(3),y=n(6),w=n.n(y),_=n(9),v=n.n(_),h=n(16),k=n.n(h),E=n(62),P=n.n(E),C=n(17);function A(){var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,o,r,a){var u=o&&o.prototype instanceof c?o:c,s=Object.create(u.prototype);return S(s,"_invoke",function(n,o,r){var a,c,u,s=0,l=r||[],m=!1,f={p:0,n:0,v:t,a:b,f:b.bind(t,4),d:function(e,n){return a=e,c=0,u=t,f.n=n,i}};function b(n,o){for(c=n,u=o,e=0;!m&&s&&!r&&e<l.length;e++){var r,a=l[e],b=f.p,p=a[2];n>3?(r=p===o)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=b&&((r=n<2&&b<a[1])?(c=0,f.v=o,f.n=a[1]):b<p&&(r=n<3||a[0]>o||o>p)&&(a[4]=n,a[5]=o,f.n=p,c=0))}if(r||n>1)return i;throw m=!0,o}return function(r,l,p){if(s>1)throw TypeError("Generator is already running");for(m&&1===l&&b(l,p),c=l,u=p;(e=c<2?t:u)||!m;){a||(c?c<3?(c>1&&(f.n=-1),b(c,u)):f.n=u:f.v=u);try{if(s=2,a){if(c||(r="next"),e=a[r]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),c=1);a=t}else if((e=(m=f.n<0)?u:n.call(o,f))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:m}}}(n,r,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][o]?e(e([][o]())):(S(e={},o,(function(){return this})),e),m=s.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,S(t,r,"GeneratorFunction")),t.prototype=Object.create(m),t}return u.prototype=s,S(m,"constructor",s),S(s,"constructor",u),u.displayName="GeneratorFunction",S(s,r,"GeneratorFunction"),S(m),S(m,r,"Generator"),S(m,o,(function(){return this})),S(m,"toString",(function(){return"[object Generator]"})),(A=function(){return{w:a,m:f}})()}function S(t,e,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}(S=function(t,e,n,o){function a(e,n){S(t,e,(function(t){return this._invoke(e,n,t)}))}e?r?r(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(a("next",0),a("throw",1),a("return",2))})(t,e,n,o)}function T(t,e,n,o,r,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(o,r)}var N={name:"contacts",className:"bwf-search-bwf-contacts-result",options:function(t){return(e=A().m((function t(e){var n,o;return A().w((function(t){for(;;)switch(t.n){case 0:if(!P()(e)){t.n=1;break}return t.a(2,[]);case 1:return n={search:e,limit:10,offset:0},t.n=2,v()({path:Object(g.C)("/v3/contacts?"+Object(C.stringify)(n)),method:"GET"});case 2:return o=t.v,t.a(2,m()(o,"result")?o.result:[])}}),t)})),n=function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(t){T(a,o,r,i,c,"next",t)}function c(t){T(a,o,r,i,c,"throw",t)}i(void 0)}))},function(t){return n.apply(this,arguments)})(t);var e,n},isDebounced:!0,getOptionIdentifier:function(t){return t.id},getOptionKeywords:function(t){return[t.f_name,t.l_name,t.email,t.f_name+" "+t.l_name]},getFreeTextOptions:function(t,e){return[{key:"name",label:Object(o.createElement)("span",{key:"name",className:"bwf-search-result-name"},k()({mixedString:Object(c.__)("All contacts with names that include {{query /}}","wp-marketing-automations"),components:{query:Object(o.createElement)("strong",{className:"components-form-token-field__suggestion-match"},t)}})),value:{id:t,name:t,contacts:e.map((function(t){return m()(t,"value")?t.value:t})),searchTerm:t}}]},getOptionLabel:function(t,e){var n=Object(g.o)(Object(g.M)(t),e)||{};return Object(o.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":Object(g.M)(t)},n.suggestionBeforeMatch,Object(o.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch)},getOptionCompletion:function(t){return t}};function x(){var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,o,r,a){var u=o&&o.prototype instanceof c?o:c,s=Object.create(u.prototype);return R(s,"_invoke",function(n,o,r){var a,c,u,s=0,l=r||[],m=!1,f={p:0,n:0,v:t,a:b,f:b.bind(t,4),d:function(e,n){return a=e,c=0,u=t,f.n=n,i}};function b(n,o){for(c=n,u=o,e=0;!m&&s&&!r&&e<l.length;e++){var r,a=l[e],b=f.p,p=a[2];n>3?(r=p===o)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=b&&((r=n<2&&b<a[1])?(c=0,f.v=o,f.n=a[1]):b<p&&(r=n<3||a[0]>o||o>p)&&(a[4]=n,a[5]=o,f.n=p,c=0))}if(r||n>1)return i;throw m=!0,o}return function(r,l,p){if(s>1)throw TypeError("Generator is already running");for(m&&1===l&&b(l,p),c=l,u=p;(e=c<2?t:u)||!m;){a||(c?c<3?(c>1&&(f.n=-1),b(c,u)):f.n=u:f.v=u);try{if(s=2,a){if(c||(r="next"),e=a[r]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),c=1);a=t}else if((e=(m=f.n<0)?u:n.call(o,f))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:m}}}(n,r,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][o]?e(e([][o]())):(R(e={},o,(function(){return this})),e),m=s.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,R(t,r,"GeneratorFunction")),t.prototype=Object.create(m),t}return u.prototype=s,R(m,"constructor",s),R(s,"constructor",u),u.displayName="GeneratorFunction",R(s,r,"GeneratorFunction"),R(m),R(m,r,"Generator"),R(m,o,(function(){return this})),R(m,"toString",(function(){return"[object Generator]"})),(x=function(){return{w:a,m:f}})()}function R(t,e,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}(R=function(t,e,n,o){function a(e,n){R(t,e,(function(t){return this._invoke(e,n,t)}))}e?r?r(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(a("next",0),a("throw",1),a("return",2))})(t,e,n,o)}function B(t,e,n,o,r,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(o,r)}var M=function(t){var e=t.selected,n=void 0===e?[]:e,r=t.setSelected,a=function(){var t,e=(t=x().m((function t(e){var n,o,a,i;return x().w((function(t){for(;;)switch(t.n){case 0:if(Object(f.isArray)(e)){t.n=1;break}return t.a(2);case 1:n=e.find((function(t){return m()(t,"searchTerm")})),Object(f.isUndefined)(n)&&e.length>0&&e[0].hasOwnProperty("id")&&(o=e[e.length-1],a=o.hasOwnProperty("f_name")?o.f_name:"",a=o.hasOwnProperty("l_name")?a+" "+o.l_name:a,o.hasOwnProperty("email")&&(a+="( ".concat(o.email," )")),i={key:o.hasOwnProperty("id")?o.id:"",label:a,value:a},r([i]));case 2:return t.a(2)}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){B(a,o,r,i,c,"next",t)}function c(t){B(a,o,r,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}();return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(s.a,{autocompleter:N,multiple:!1,allowFreeTextSearch:!1,inlineTags:!0,selected:n,onChange:a,onRemoveTag:function(){return r([])},placeholder:Object(c.__)("Search by contact","wp-marketing-automations"),showClearButton:!1,disabled:!1}))},D=n(51);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var F=["fetch","setStateProp"];function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=I(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q=function(){var t=Object(D.a)("automationContactsList"),e=t.fetch,n=t.setStateProp;return L(L({},function(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(-1!==e.indexOf(o))continue;n[o]=t[o]}return n}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,F)),{},{fetch:function(t,n,o,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=t.s,u={offset:n,limit:o,search:c,type:r};a.hasOwnProperty(0)&&a[0].hasOwnProperty("key")&&(u.automation=a[0].key),i.hasOwnProperty(0)&&i[0].hasOwnProperty("key")&&(u.contact=i[0].key),e("GET",Object(g.C)("/automations/contacts/"),u)},setAutomationContactsValues:function(t,e){n(t,e)}})},Y=n(52);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var V=["getStateProp"];function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=J(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=J(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==J(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var K=function(){var t=Object(Y.a)("automationContactsList"),e=t.getStateProp;return Q(Q({},function(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(-1!==e.indexOf(o))continue;n[o]=t[o]}return n}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,V)),{},{getAutomationContacts:function(){return e("acontacts")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getPageOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getCountData:function(){return e("countData")}})},W=n(149),$=n(60),X=n(61),Z=n(19),tt=n(7),et=n(33),nt=n(1093),ot=n(1134),rt=n(54),at=(n(1227),n(1165)),it=n(1138),ct=n.n(it),ut=n(44),st=n(347),lt=n(40),mt=n(110),ft=n(77);function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(){var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function a(n,o,r,a){var u=o&&o.prototype instanceof c?o:c,s=Object.create(u.prototype);return Ot(s,"_invoke",function(n,o,r){var a,c,u,s=0,l=r||[],m=!1,f={p:0,n:0,v:t,a:b,f:b.bind(t,4),d:function(e,n){return a=e,c=0,u=t,f.n=n,i}};function b(n,o){for(c=n,u=o,e=0;!m&&s&&!r&&e<l.length;e++){var r,a=l[e],b=f.p,p=a[2];n>3?(r=p===o)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=b&&((r=n<2&&b<a[1])?(c=0,f.v=o,f.n=a[1]):b<p&&(r=n<3||a[0]>o||o>p)&&(a[4]=n,a[5]=o,f.n=p,c=0))}if(r||n>1)return i;throw m=!0,o}return function(r,l,p){if(s>1)throw TypeError("Generator is already running");for(m&&1===l&&b(l,p),c=l,u=p;(e=c<2?t:u)||!m;){a||(c?c<3?(c>1&&(f.n=-1),b(c,u)):f.n=u:f.v=u);try{if(s=2,a){if(c||(r="next"),e=a[r]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),c=1);a=t}else if((e=(m=f.n<0)?u:n.call(o,f))!==i)break}catch(e){a=t,c=1,u=e}finally{s=1}}return{value:e,done:m}}}(n,r,a),!0),s}var i={};function c(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][o]?e(e([][o]())):(Ot(e={},o,(function(){return this})),e),m=s.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,Ot(t,r,"GeneratorFunction")),t.prototype=Object.create(m),t}return u.prototype=s,Ot(m,"constructor",s),Ot(s,"constructor",u),u.displayName="GeneratorFunction",Ot(s,r,"GeneratorFunction"),Ot(m),Ot(m,r,"Generator"),Ot(m,o,(function(){return this})),Ot(m,"toString",(function(){return"[object Generator]"})),(pt=function(){return{w:a,m:f}})()}function Ot(t,e,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}(Ot=function(t,e,n,o){function a(e,n){Ot(t,e,(function(t){return this._invoke(e,n,t)}))}e?r?r(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(a("next",0),a("throw",1),a("return",2))})(t,e,n,o)}function dt(t,e,n,o,r,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(o,r)}function jt(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){dt(a,o,r,i,c,"next",t)}function c(t){dt(a,o,r,i,c,"throw",t)}i(void 0)}))}}function gt(){return(gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(null,arguments)}function yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach((function(e){_t(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _t(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=bt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=bt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(o=a.call(n)).done)&&(c.push(o.value),c.length!==e);u=!0);}catch(t){s=!0,r=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return c}}(t,e)||ht(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){if(t){if("string"==typeof t)return kt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(t,e):void 0}}function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}var Et=function(t){var e=[];return"completed"!==t?(["active","delayed"].includes(t)&&(e.push({id:"run_now",icon:"play",hint:Object(c.__)("Run Now","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Run Now Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Run+Now+Upgrade+Modal"})}),e.push({id:"paused",icon:"pause",hint:Object(c.__)("Pause Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Pause Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Pause+Upgrade+Modal"})})),"paused"===t&&e.push({id:"unpaused",icon:"play",hint:Object(c.__)("Resume Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Resume Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Resume+Upgrade+Modal"})}),"failed"===t&&(e.push({id:"retry",icon:"retry",hint:Object(c.__)("Retry Action","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Retry Action","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Retry+Upgrade+Modal"})}),e.push({id:"startbegin",icon:"start-beginning",hint:Object(c.__)("Re-Enter Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Re-Enter Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Re+Enter+Upgrade+Modal"})})),"inactive"!==t&&e.push({id:"end",icon:"end-status",hint:Object(c.__)("End","wp-marketing-automations")})):e.push({id:"rerun",icon:"retry",hint:Object(c.__)("Retstart Automation","wp-marketing-automations"),isPro:!0,featureTitle:Object(c.__)("Retstart Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Bulk+Action+Retstart+Upgrade+Modal"})}),e.push({id:"delete",icon:"trash",hint:Object(c.__)("Delete","wp-marketing-automations")}),e};e.default=function(t){var e=t.match.params.type,n=void 0===e?"failed":e,s=Object(o.useContext)(g.h),l=Object(i.i)(),m=vt(Object(o.useState)(""),2),b=m[0],p=m[1],O=vt(Object(o.useState)({}),2),d=O[0],y=O[1],_=vt(Object(o.useState)([]),2),h=_[0],k=_[1],E=vt(Object(o.useState)([]),2),P=E[0],C=E[1],A=vt(Object(o.useState)({loading:!1,status:!1}),2),S=A[0],T=A[1],N=q(),x=N.fetch,R=N.setAutomationContactsValues,B=K(),D=B.getAutomationContacts,I=B.getLoading,F=B.getPageOffset,G=B.getPerPageCount,L=B.getTotalCount,U=B.getPageNumber,Y=B.getCountData,J=I(),V=U(),H=G(),Q=L(),z=F(),it=D(),bt=vt(Object(o.useState)([]),2),Ot=bt[0],dt=bt[1],yt=vt(Object(o.useState)(!1),2),_t=yt[0],kt=yt[1],Pt=vt(Object(o.useState)(""),2),Ct=Pt[0],At=Pt[1],St=vt(Object(o.useState)(!1),2),Tt=St[0],Nt=St[1],xt=vt(Object(o.useState)({isFeature:!0}),2),Rt=xt[0],Bt=xt[1],Mt=function(){Wt&&Wt(),dt([])},Dt=Object(o.useCallback)((function(t,e){dt(e),At(t),kt(!0)}),[]);Object(o.useEffect)((function(){return Object(g.m)(Object(c.__)("Automation Contacts","wp-marketing-automations")),Mt(),function(){R("offset",0)}}),[]);var It=l.s,Ft=void 0===It?"":It;Object(o.useEffect)((function(){x(l,z,H,n,h,P)}),[Ft,H,z,n,h,P]),Object(r.a)("automation-contacts","","",!1,Object(o.createElement)(o.Fragment,null),0,!1,!0);var Gt=Object(mt.a)().getPageCountData,Lt=Object(ft.a)().setPageCountData,Ut=Gt(),qt=Y();Object(o.useEffect)((function(){qt.hasOwnProperty("failed")&&Lt(wt(wt({},Ut),{},{"contact-activity":parseInt(qt.failed)}))}),[qt]);var Yt,Jt=w()("bwfcrm-automation-contact-list-table",{"has-search":!0}),Vt=Object(o.useMemo)((function(){var t={};if(Array.isArray(it)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ht(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(it);try{for(n.s();!(e=n.n()).done;){var o=e.value;t[o.ID]=o}}catch(t){n.e(t)}finally{n.f()}}return t}),[it]),Ht=Object(W.b)(Vt),Qt=Ht.singleSelectProps,zt=Ht.selectAllProps,Kt=Ht.floatingBarProps,Wt=Ht.resetSelection,$t=Ht.selected,Xt=Object.keys($t).filter((function(t){return $t[t]})).length,Zt=[{key:"select_contact",label:Object(o.createElement)(ut.a,gt({type:"checkbox",checked:!1,onChange:function(){}},zt)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"contact",label:Object(c.__)("Contact","wp-marketing-automations"),required:!0,cellClassName:"bwf-crm-col-contact bwf-w-150 bwf-table-col-sticky bwf-sticky-left "},{key:"automation",label:Object(c.__)("Automation","wp-marketing-automations"),cellClassName:"bwf-crm-col-contact-details",isLeftAligned:!1},{key:"contact-data",label:Object(c.__)("Details","wp-marketing-automations"),cellClassName:"bwf-crm-col-contact-details",isLeftAligned:!0},{key:"startedon ",label:Object(c.__)("Started On","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210",isLeftAligned:!0},{key:"last_run",label:"completed"===n?Object(c.__)("Completed On","wp-marketing-automations"):Object(c.__)("Last Run","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210",isLeftAligned:!0},"failed"===n&&{key:"error_msg",label:Object(c.__)("Reason","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210 bwf-word-break",isLeftAligned:!0},"active"===n&&{key:"next_last_run",label:Object(c.__)("Next Run Time","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-210",isLeftAligned:!0},{key:"journey",label:Object(c.__)("Journey","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m bwf-w-90 bwf-table-col-sticky bwf-sticky-right",isLeftAligned:!0}],te=function(t){t!==H&&R("limit",t)},ee=function(){var t=jt(pt().m((function t(e,o,r){var a;return pt().w((function(t){for(;;)switch(t.p=t.n){case 0:return s(Object(c.__)("Updating status…","wp-marketing-automations")),t.p=1,t.n=2,v()({path:Object(g.C)("/automation/".concat(e,"/contact/status")),method:"POST",data:{to:r,from:o}}).then((function(t){200===t.code?(s(t.message),x(l,z,H,n)):s(t.message)}));case 2:t.n=4;break;case 3:t.p=3,a=t.v,s(a.message);case 4:Object(g.Pb)(s,3e3);case 5:return t.a(2)}}),t,null,[[1,3]])})));return function(e,n,o){return t.apply(this,arguments)}}(),ne=function(){var t=jt(pt().m((function t(e){var o,r,a,i=arguments;return pt().w((function(t){for(;;)switch(t.p=t.n){case 0:return o=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:0,T(wt(wt({},o),{},{status:!0})),t.p=1,t.n=2,v()({path:Object(g.C)("/automation/".concat(o.aid,"/delete-contact")),method:"DELETE",data:{trail_id:e,ac_id:r,type:n}}).then((function(t){if(200!==t.code)throw Error(Object(g.w)(null==t?void 0:t.message));T({status:!1}),s(t.message),x(l,z,H,n)})).catch((function(t){throw Error(Object(g.w)(null==t?void 0:t.message))}));case 2:t.n=4;break;case 3:t.p=3,a=t.v,T(wt(wt({},o),{},{status:!0,error:a.message}));case 4:Object(g.Pb)(s,3e3);case 5:return t.a(2)}}),t,null,[[1,3]])})));return function(e){return t.apply(this,arguments)}}(),oe=function(t){return Object(o.createElement)("div",{className:"bwf-display-flex-column"},Object(o.createElement)(et.a,{href:"admin.php?page=autonami&path=/automation/"+t.aid,type:"bwf-crm",className:"bwf-crm-campaign-data-contact-link bwf-a-no-underline",key:t.aid},t.hasOwnProperty("title")?t.title:"-"),t.hasOwnProperty("event")&&""!==t.event&&Object(o.createElement)("span",null,Object(c.__)("Event","wp-marketing-automations"),": ",t.event))},re=function(t){var e=t.trail,n=void 0===e?"":e;return Object(f.isEmpty)(n)?"-":Object(o.createElement)(a.Button,{isSecondary:!0,className:"bwf-btn-small is-light bwf-btn-gray",onClick:function(){Object(g.fc)()?(p(n),y(t)):(Bt(wt(wt({},Rt),{},{featureTitle:Object(c.__)("Contact Journey","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Contact+Activity+Contact+Journey+Upgrade+Modal"})})),Nt(!0))}},!Object(g.fc)()&&Object(o.createElement)(tt.a,{icon:"king",size:16}),Object(c.__)("View","wp-marketing-automations"))},ae={1:Object(c.__)("Delay","wp-marketing-automations"),2:Object(c.__)("Action","wp-marketing-automations"),3:Object(c.__)("Goal","wp-marketing-automations"),4:Object(c.__)("Condition","wp-marketing-automations")},ie=function(t){var e=t.data,n=void 0===e?{}:e;if(Object(f.isEmpty)(n))return Object(o.createElement)(o.Fragment,null,"-");var r=n.action,a=void 0===r?"":r,i=n.run_time,c=void 0===i?"":i,u=n.type,s=void 0===u?"":u;return Object(o.createElement)("div",{className:"bwf-c-contact-details-cell"},!Object(f.isEmpty)(s)&&!Object(f.isEmpty)(a)&&ae.hasOwnProperty(parseInt(s))&&Object(o.createElement)(Z.a,{justify:"justify",align:"top"},Object(o.createElement)(Z.c,null,Object(o.createElement)("span",{className:"bwf_bold",style:{color:"#99752B"}},ae[parseInt(s)]),Object(f.isEmpty)(a)?"":" : "+a)),!Object(f.isEmpty)(c)&&Object(o.createElement)(Z.a,{justify:"justify",align:"top"},Object(o.createElement)(Z.c,null,Object(g.lb)(c))),(Object(f.isEmpty)(s)||!ae.hasOwnProperty(parseInt(s)))&&Object(f.isEmpty)(c)&&Object(o.createElement)("span",null,"-"))},ce=function(t){var e=t.data,n=void 0===e?{}:e;return!(!n.hasOwnProperty("type")||3!==parseInt(n.type))},ue=[{slug:"failed",name:Object(c.__)("Failed","wp-marketing-automations"),path:"/automation-contacts/failed"},{slug:"paused",name:Object(c.__)("Paused","wp-marketing-automations"),path:"/automation-contacts/paused"},{slug:"delayed",name:Object(c.__)("Delayed","wp-marketing-automations"),path:"/automation-contacts/delayed"},{slug:"active",name:Object(c.__)("Active","wp-marketing-automations"),path:"/automation-contacts/active"},{slug:"completed",name:Object(c.__)("Completed","wp-marketing-automations"),path:"/automation-contacts/completed"},{slug:"inactive",name:Object(c.__)("Inactive","wp-marketing-automations"),path:"/automation-contacts/inactive"}];return Object(o.createElement)("div",{className:"bwf-automation-all-contacts-wrap"},Object(o.createElement)("div",{className:"bwf-content-header-new"},Object(o.createElement)("div",{className:"bwf-content-header-left"},Object(o.createElement)("div",{className:"bwf-content-header-title"},Object(c.__)("Contact Activity","wp-marketing-automations")),parseInt(Q)>0&&Object(o.createElement)("div",{className:"bwf-content-header-count"},Object(c.sprintf)(Object(c.__)("(%s Results)","wp-marketing-automations"),Q)))),Object(o.createElement)(st.a,{tabs:ue,selected:n,count:qt,disableUrlUpdate:!0,onChange:function(t,e){R("offset",0),Object(i.l)({page:"autonami",path:e},"/",{})}}),Object(o.createElement)("div",{className:"bwf_clear_16"}),Object(o.createElement)(u.a,{className:Jt,rows:it.map((function(t){var e,r,a,i,u,s,m,b,p,O,d,j,y,w,_,v=[];return v.push({display:Qt.hasOwnProperty(t.ID)?Object(o.createElement)(ut.a,gt({type:"checkbox",checked:!1,onChange:function(){}},Qt[t.ID])):Object(o.createElement)(o.Fragment,null),value:null},{display:(b=t,p=b.status,O=void 0===p?"":p,d=b.trail,j=void 0===d?"":d,y=b.ID,w=b.aid,_=void 0===w?"":w,Object(o.createElement)($.a,{label:Object(c.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var e=t.onToggle;return Object(o.createElement)(o.Fragment,null,[1,4,6].includes(parseInt(O))&&"inactive"!==n&&Object(o.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.fc)()?ee(y,O,"now"):(Bt(wt(wt({},Rt),{},{featureTitle:Object(c.__)("Run Now Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Run+Now+Upgrade+Modal"})})),Nt(!0)),e()}},Object(o.createElement)(Z.a,{justify:"space-between"},Object(o.createElement)(Z.c,null,Object(c.__)("Run Now","wp-marketing-automations")),!Object(g.fc)()&&Object(o.createElement)(Z.c,null,g.e))),[1,4,6].includes(parseInt(O))&&"inactive"!==n&&Object(o.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.fc)()?ee(y,O,3):(Bt(wt(wt({},Rt),{},{featureTitle:Object(c.__)("Pause Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Pause+Upgrade+Modal"})})),Nt(!0)),e()}},Object(o.createElement)(Z.a,{justify:"space-between"},Object(o.createElement)(Z.c,null,Object(c.__)("Pause Automation","wp-marketing-automations")),!Object(g.fc)()&&Object(o.createElement)(Z.c,null,g.e))),3===parseInt(O)&&"inactive"!==n&&Object(o.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.fc)()?ee(y,O,1):(Bt(wt(wt({},Rt),{},{featureTitle:Object(c.__)("Resume Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Resume+Upgrade+Modal"})})),Nt(!0)),e()}},Object(o.createElement)(Z.a,{justify:"space-between"},Object(o.createElement)(Z.c,null,Object(c.__)("Resume Automation","wp-marketing-automations")),!Object(g.fc)()&&Object(o.createElement)(Z.c,null,g.e))),2===parseInt(O)&&"inactive"!==n&&Object(o.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.fc)()?ee(y,O,6):(Bt(wt(wt({},Rt),{},{featureTitle:Object(c.__)("Retry Action","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Retry+Upgrade+Modal"})})),Nt(!0)),e()}},Object(o.createElement)(Z.a,{justify:"space-between"},Object(o.createElement)(Z.c,null,Object(c.__)("Retry Action","wp-marketing-automations")),!Object(g.fc)()&&Object(o.createElement)(Z.c,null,g.e))),[2].includes(parseInt(O))&&"inactive"!==n&&Object(o.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.fc)()?ee(y,O,"startbegin"):(Bt(wt(wt({},Rt),{},{featureTitle:Object(c.__)("Re-Enter Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Start+From+Beginning+Upgrade+Modal"})})),Nt(!0)),e()}},Object(o.createElement)(Z.a,{justify:"space-between"},Object(o.createElement)(Z.c,null,Object(c.__)("Re-Enter Automation","wp-marketing-automations")),!Object(g.fc)()&&Object(o.createElement)(Z.c,null,g.e))),!Object(f.isEmpty)(O)&&"inactive"!==n&&Object(o.createElement)(X.a,{isClickable:!0,onInvoke:function(){ee(y,O,"end"),e()}},Object(o.createElement)(Z.a,{justify:"space-between"},Object(o.createElement)(Z.c,null,Object(c.__)("End Automation","wp-marketing-automations")))),"completed"===n&&Object(o.createElement)(X.a,{isClickable:!0,onInvoke:function(){Object(g.fc)()?ee(y,O,"re_run"):(Bt(wt(wt({},Rt),{},{featureTitle:Object(c.__)("Restart Automation","wp-marketing-automations"),proLink:Object(g.ib)("upgrade",{utm_medium:"Automation+Contact+Activity+Re+Run+Upgrade+Modal"})})),Nt(!0)),e()}},Object(o.createElement)(Z.a,{justify:"space-between"},Object(o.createElement)(Z.c,null,Object(c.__)("Restart Automation","wp-marketing-automations")),!Object(g.fc)()&&Object(o.createElement)(Z.c,null,g.e))),Object(o.createElement)(X.a,{isClickable:!0,onInvoke:function(){var t={status:!0,deleteEntityName:Object(o.createElement)(o.Fragment,null,Object(o.createElement)("span",{style:{fontWeight:"normal"}},Object(c.__)("contact ")),b.f_name," ",b.l_name),buttonConfirm:Object(c.__)("Delete","wp-marketing-automations"),buttonCancel:Object(c.__)("Cancel","wp-marketing-automations"),modalTitle:Object(c.__)("Delete Contact","wp-marketing-automations"),entityExtraText:Object(c.__)("from this automation","wp-marketing-automations"),aid:_};T(wt(wt({},t),{},{onConfirm:function(){return ne(j,t,y)}})),e()}},Object(o.createElement)(Z.a,{justify:"space-between"},Object(o.createElement)(Z.c,null,Object(c.__)("Delete","wp-marketing-automations")))))}})),value:""},{display:(r=t,a=r.f_name,i=void 0===a?"":a,u=r.l_name,s=void 0===u?"":u,m=Object(g.vc)([i,s]," "),Object(o.createElement)(o.Fragment,null,Object(o.createElement)(et.a,{href:"admin.php?page=autonami&path=/contact/"+r.cid+"&return_to=".concat(l.path),type:"bwf-crm",className:"bwf-crm-campaign-contactData-contact-link bwf-a-no-underline",key:r.cid},Object(o.createElement)("div",{className:"bwf-blue-content"},Object(f.isEmpty)(ct()(m))?"-":m)))),value:"-"},{display:oe(t),value:""},{display:(e=t,Object(o.createElement)("div",{className:"bwf-c-contact-details-cell"},e.email?Object(o.createElement)(Z.a,{justify:"justify",align:"top"},Object(o.createElement)(Z.c,null,e.email)):"-",e.contact_no&&Object(o.createElement)(Z.a,{justify:"justify",align:"top"},Object(o.createElement)(Z.c,null,e.contact_no)),!e.email&&!e.contact_no&&"-")),value:""},{display:t.hasOwnProperty("c_date")?Object(g.lb)(t.c_date):"-",value:t.hasOwnProperty("c_date")?t.c_date:"-"}),"active"===n&&v.push({display:ie(t),value:""}),v.push({display:t.hasOwnProperty("e_time")&&!ce(t)?Object(g.lb)(t.e_time):"-",value:"-"}),"failed"===n&&v.push({display:t.hasOwnProperty("error_msg")&&!Object(f.isEmpty)(t.error_msg)?t.error_msg:"-",value:""}),v.push({display:re(t),value:"-"}),v})),headers:Zt.filter((function(t){return!!t})),query:{paged:V},rowsPerPage:H,totalRows:Q,isLoading:J,onPageChange:function(t,e){R("offset",(t-1)*H)},onQueryChange:function(t){return"per_page"!==t?function(){}:te},rowHeader:!0,showMenu:!1,actions:Xt>0?[Object(o.createElement)(W.a,gt({key:"automation-contact-bulk-action",actions:Et(n),onAction:Dt,inLine:!0,reset:Mt},Kt))]:[Object(o.createElement)(j,{key:"automation",selected:h,setSelected:k,placeholder:Object(c.__)("Search by automation","wp-marketing-automations")}),Object(o.createElement)(M,{key:"contact",selected:P,setSelected:C})],emptyMessage:Object(c.__)("No contact activities found","wp-marketing-automations")}),Object(o.createElement)(rt.a,{modalTitle:S.modalTitle,content:S.content,deleteEntityName:S.deleteEntityName,entityExtraText:S.entityExtraText,confirmText:S.confirmText,confirmButtonText:S.buttonConfirm,cancelButtonText:S.buttonCancel,onConfirm:S.onConfirm,isLoading:S.loading,successMessage:S.success,errorMessage:S.error,onRequestClose:function(){return T({status:!1})},isOpen:S.status,isDelete:!0}),Object(o.createElement)(at.a,{tasks:Ot,isOpen:_t,onSuccess:function(){x(l,z,H,n),Mt()},onError:Mt,onRequestClose:function(){return kt(!1)},screenType:"automation-contact",screenTypeId:n,actionType:Ct}),Object(g.fc)()&&!Object(f.isEmpty)(b)&&Object(o.createElement)(a.Modal,{title:"",className:"bwf-admin-modal bwf-admin-modal-no-header bwf-admin-modal-fullscreen bwf-fullsc-modal",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(o.createElement)("div",{className:"bwf-stretch-header-single"},Object(o.createElement)("div",{className:"bwf-modal-heading"},(Yt="-",Object(f.isEmpty)(d)||(Yt=Object(f.isEmpty)(d.f_name)&&Object(f.isEmpty)(d.l_name)?d.email:d.f_name+" "+d.l_name),Yt)," ",Object(o.createElement)("span",{className:"bwf-tags bwf-tag-light-blue"},Object(c.__)("Customer Journey","wp-marketing-automations"))),Object(o.createElement)("div",{className:"bwf-display-flex gap-24"},Object(o.createElement)(a.Button,{isSecondary:!0,className:"bwf-btn-small is-light bwf-btn-gray",onClick:function(){Object(i.l)({page:"autonami",path:"/automation/"+d.aid},"/",{})}},Object(c.__)("View Automation","wp-marketing-automations")),Object(o.createElement)("span",{onClick:function(){p(""),y({})},className:"bwf-modal-close"},Object(o.createElement)(tt.a,{icon:"close",color:"#353030"})))),Object(o.createElement)(nt.e,null,Object(o.createElement)(ot.a,{customerData:{trail:b},isConatctTab:!0,automatonID:d.aid,hasHeader:!0}))),!Object(g.fc)()&&Object(o.createElement)(lt.b,{isOpen:Tt,onRequestClose:function(){return Nt(!1)},modalContent:Rt}))}}}]);